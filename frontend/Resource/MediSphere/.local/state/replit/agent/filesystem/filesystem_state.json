{"file_contents":{"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"replit.md":{"content":"# Hospital Management System (Medi OS)\n\n## Overview\n\nThis is a full-stack hospital management system built with modern web technologies. The application supports multiple user roles (admin, doctor, nurse, receptionist, patient) and provides comprehensive functionality for managing hospital operations including patient queues, room status, vitals tracking, appointments, and staff coordination.\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend Architecture\n- **Framework**: React 18 with TypeScript\n- **Routing**: Wouter for client-side routing\n- **State Management**: TanStack Query (React Query) for server state management\n- **UI Framework**: shadcn/ui components with Radix UI primitives\n- **Styling**: Tailwind CSS with custom medical theme colors\n- **Build Tool**: Vite for development and bundling\n\n### Backend Architecture\n- **Runtime**: Node.js with Express.js\n- **Language**: TypeScript with ES modules\n- **Database ORM**: Drizzle ORM\n- **Database**: PostgreSQL (configured for Neon serverless)\n- **Authentication**: Replit OIDC with Passport.js\n- **Session Management**: Express sessions with PostgreSQL store\n\n### Project Structure\n- **Monorepo Layout**: Client, server, and shared code in separate directories\n- **Client**: `/client` - React frontend application\n- **Server**: `/server` - Express backend API\n- **Shared**: `/shared` - Shared TypeScript schemas and types\n\n## Key Components\n\n### Authentication System\n- **Provider**: Replit OIDC integration\n- **Strategy**: OpenID Connect with Passport.js\n- **Session Storage**: PostgreSQL-backed sessions using connect-pg-simple\n- **User Management**: Role-based access control with user upserts\n\n### Database Schema\n- **Users**: Core user accounts with role-based permissions\n- **Doctors/Patients/Staff**: Role-specific profile tables\n- **Queue Management**: Patient check-in and triage system\n- **Rooms**: Real-time room status tracking\n- **Vitals**: Patient vital signs recording\n- **Appointments**: Scheduling system\n- **Medical Records**: Patient history and documentation\n- **Staff Tasks**: Nurse and staff task management\n\n### API Architecture\n- **RESTful Design**: Standard HTTP methods with JSON payloads\n- **Authentication Middleware**: Protected routes requiring valid sessions\n- **Role-based Access**: Different endpoints accessible by different user roles\n- **Real-time Updates**: Query invalidation for live data updates\n\n### UI Components\n- **Design System**: Consistent medical-themed UI components\n- **Responsive Design**: Mobile-first approach with desktop optimization\n- **Role-based Dashboards**: Customized interfaces for each user type\n- **Modals and Forms**: Patient check-in, vitals recording, task management\n\n## Data Flow\n\n1. **Authentication Flow**: Users authenticate via Replit OIDC, sessions stored in PostgreSQL\n2. **Role Resolution**: User roles determine accessible features and data\n3. **API Requests**: Frontend makes authenticated requests to Express API\n4. **Database Queries**: Drizzle ORM handles PostgreSQL interactions\n5. **Real-time Updates**: TanStack Query manages cache invalidation and refetching\n\n## External Dependencies\n\n### Core Dependencies\n- **Database**: Neon PostgreSQL serverless database\n- **Authentication**: Replit OIDC service\n- **UI Components**: Radix UI primitives\n- **Icons**: Font Awesome (referenced in CSS)\n- **Styling**: Tailwind CSS with PostCSS\n\n### Development Tools\n- **TypeScript**: Type safety across frontend and backend\n- **Vite**: Fast development server and build tool\n- **ESBuild**: Production bundling for server code\n- **Drizzle Kit**: Database migrations and schema management\n\n## Deployment Strategy\n\n### Build Process\n1. **Frontend Build**: Vite builds client code to `/dist/public`\n2. **Backend Build**: ESBuild bundles server code to `/dist/index.js`\n3. **Database Setup**: Drizzle migrations run on deployment\n\n### Environment Configuration\n- **DATABASE_URL**: PostgreSQL connection string (required)\n- **SESSION_SECRET**: Session encryption key (required)\n- **REPL_ID**: Replit environment identifier\n- **ISSUER_URL**: OIDC issuer URL (defaults to Replit)\n\n### Production Considerations\n- **Session Security**: Secure cookie settings for HTTPS\n- **Database Connection**: Connection pooling with Neon serverless\n- **Static Assets**: Vite-built assets served via Express\n- **Error Handling**: Centralized error middleware\n\n### Development vs Production\n- **Development**: Vite dev server with HMR and middleware mode\n- **Production**: Express serves static files and API routes\n- **Database**: Same PostgreSQL setup for both environments","size_bytes":4655},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \"var(--radius)\",\n        md: \"calc(var(--radius) - 2px)\",\n        sm: \"calc(var(--radius) - 4px)\",\n      },\n      colors: {\n        background: \"var(--background)\",\n        foreground: \"var(--foreground)\",\n        card: {\n          DEFAULT: \"var(--card)\",\n          foreground: \"var(--card-foreground)\",\n        },\n        popover: {\n          DEFAULT: \"var(--popover)\",\n          foreground: \"var(--popover-foreground)\",\n        },\n        primary: {\n          DEFAULT: \"var(--primary)\",\n          foreground: \"var(--primary-foreground)\",\n        },\n        secondary: {\n          DEFAULT: \"var(--secondary)\",\n          foreground: \"var(--secondary-foreground)\",\n        },\n        muted: {\n          DEFAULT: \"var(--muted)\",\n          foreground: \"var(--muted-foreground)\",\n        },\n        accent: {\n          DEFAULT: \"var(--accent)\",\n          foreground: \"var(--accent-foreground)\",\n        },\n        destructive: {\n          DEFAULT: \"var(--destructive)\",\n          foreground: \"var(--destructive-foreground)\",\n        },\n        border: \"var(--border)\",\n        input: \"var(--input)\",\n        ring: \"var(--ring)\",\n        chart: {\n          \"1\": \"var(--chart-1)\",\n          \"2\": \"var(--chart-2)\",\n          \"3\": \"var(--chart-3)\",\n          \"4\": \"var(--chart-4)\",\n          \"5\": \"var(--chart-5)\",\n        },\n        sidebar: {\n          DEFAULT: \"var(--sidebar-background)\",\n          foreground: \"var(--sidebar-foreground)\",\n          primary: \"var(--sidebar-primary)\",\n          \"primary-foreground\": \"var(--sidebar-primary-foreground)\",\n          accent: \"var(--sidebar-accent)\",\n          \"accent-foreground\": \"var(--sidebar-accent-foreground)\",\n          border: \"var(--sidebar-border)\",\n          ring: \"var(--sidebar-ring)\",\n        },\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: {\n            height: \"0\",\n          },\n          to: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n        },\n        \"accordion-up\": {\n          from: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n          to: {\n            height: \"0\",\n          },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":2627},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","size_bytes":971},"server/db.ts":{"content":"import { Pool, neonConfig } from '@neondatabase/serverless';\nimport { drizzle } from 'drizzle-orm/neon-serverless';\nimport ws from \"ws\";\nimport * as schema from \"@shared/healthcare-schema\";\n\nneonConfig.webSocketConstructor = ws;\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\n    \"DATABASE_URL must be set. Did you forget to provision a database?\",\n  );\n}\n\nexport const pool = new Pool({ connectionString: process.env.DATABASE_URL });\nexport const db = drizzle({ client: pool, schema });","size_bytes":493},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\n\nconst app = express();\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"â€¦\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || '5000', 10);\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","size_bytes":2066},"server/replitAuth.ts":{"content":"import * as client from \"openid-client\";\nimport { Strategy, type VerifyFunction } from \"openid-client/passport\";\n\nimport passport from \"passport\";\nimport session from \"express-session\";\nimport type { Express, RequestHandler } from \"express\";\nimport memoize from \"memoizee\";\nimport connectPg from \"connect-pg-simple\";\nimport { storage } from \"./storage\";\n\nif (!process.env.REPLIT_DOMAINS) {\n  throw new Error(\"Environment variable REPLIT_DOMAINS not provided\");\n}\n\nconst getOidcConfig = memoize(\n  async () => {\n    return await client.discovery(\n      new URL(process.env.ISSUER_URL ?? \"https://replit.com/oidc\"),\n      process.env.REPL_ID!\n    );\n  },\n  { maxAge: 3600 * 1000 }\n);\n\nexport function getSession() {\n  const sessionTtl = 7 * 24 * 60 * 60 * 1000; // 1 week\n  const pgStore = connectPg(session);\n  const sessionStore = new pgStore({\n    conString: process.env.DATABASE_URL,\n    createTableIfMissing: false,\n    ttl: sessionTtl,\n    tableName: \"sessions\",\n  });\n  return session({\n    secret: process.env.SESSION_SECRET!,\n    store: sessionStore,\n    resave: false,\n    saveUninitialized: false,\n    cookie: {\n      httpOnly: true,\n      secure: true,\n      maxAge: sessionTtl,\n    },\n  });\n}\n\nfunction updateUserSession(\n  user: any,\n  tokens: client.TokenEndpointResponse & client.TokenEndpointResponseHelpers\n) {\n  user.claims = tokens.claims();\n  user.access_token = tokens.access_token;\n  user.refresh_token = tokens.refresh_token;\n  user.expires_at = user.claims?.exp;\n}\n\nasync function upsertUser(\n  claims: any,\n) {\n  await storage.upsertUser({\n    id: claims[\"sub\"],\n    email: claims[\"email\"],\n    firstName: claims[\"first_name\"],\n    lastName: claims[\"last_name\"],\n    profileImageUrl: claims[\"profile_image_url\"],\n  });\n}\n\nexport async function setupAuth(app: Express) {\n  app.set(\"trust proxy\", 1);\n  app.use(getSession());\n  app.use(passport.initialize());\n  app.use(passport.session());\n\n  const config = await getOidcConfig();\n\n  const verify: VerifyFunction = async (\n    tokens: client.TokenEndpointResponse & client.TokenEndpointResponseHelpers,\n    verified: passport.AuthenticateCallback\n  ) => {\n    const user = {};\n    updateUserSession(user, tokens);\n    await upsertUser(tokens.claims());\n    verified(null, user);\n  };\n\n  for (const domain of process.env\n    .REPLIT_DOMAINS!.split(\",\")) {\n    const strategy = new Strategy(\n      {\n        name: `replitauth:${domain}`,\n        config,\n        scope: \"openid email profile offline_access\",\n        callbackURL: `https://${domain}/api/callback`,\n      },\n      verify,\n    );\n    passport.use(strategy);\n  }\n\n  passport.serializeUser((user: Express.User, cb) => cb(null, user));\n  passport.deserializeUser((user: Express.User, cb) => cb(null, user));\n\n  app.get(\"/api/login\", (req, res, next) => {\n    passport.authenticate(`replitauth:${req.hostname}`, {\n      prompt: \"login consent\",\n      scope: [\"openid\", \"email\", \"profile\", \"offline_access\"],\n    })(req, res, next);\n  });\n\n  app.get(\"/api/callback\", (req, res, next) => {\n    passport.authenticate(`replitauth:${req.hostname}`, {\n      successReturnToOrRedirect: \"/\",\n      failureRedirect: \"/api/login\",\n    })(req, res, next);\n  });\n\n  app.get(\"/api/logout\", (req, res) => {\n    req.logout(() => {\n      res.redirect(\n        client.buildEndSessionUrl(config, {\n          client_id: process.env.REPL_ID!,\n          post_logout_redirect_uri: `${req.protocol}://${req.hostname}`,\n        }).href\n      );\n    });\n  });\n}\n\nexport const isAuthenticated: RequestHandler = async (req, res, next) => {\n  const user = req.user as any;\n\n  if (!req.isAuthenticated() || !user.expires_at) {\n    return res.status(401).json({ message: \"Unauthorized\" });\n  }\n\n  const now = Math.floor(Date.now() / 1000);\n  if (now <= user.expires_at) {\n    return next();\n  }\n\n  const refreshToken = user.refresh_token;\n  if (!refreshToken) {\n    res.status(401).json({ message: \"Unauthorized\" });\n    return;\n  }\n\n  try {\n    const config = await getOidcConfig();\n    const tokenResponse = await client.refreshTokenGrant(config, refreshToken);\n    updateUserSession(user, tokenResponse);\n    return next();\n  } catch (error) {\n    res.status(401).json({ message: \"Unauthorized\" });\n    return;\n  }\n};\n","size_bytes":4221},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\nimport { setupAuth, isAuthenticated } from \"./replitAuth\";\nimport { \n  insertQueueEntrySchema, \n  insertVitalSchema, \n  insertPrescriptionSchema,\n  insertLabOrderSchema,\n  insertConsultationSchema\n} from \"@shared/healthcare-schema\";\nimport { z } from \"zod\";\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  // Auth middleware\n  await setupAuth(app);\n\n  // Auth routes\n  app.get('/api/auth/user', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user.claims.sub;\n      const user = await storage.getUser(userId);\n      \n      if (!user) {\n        return res.status(404).json({ message: \"User not found\" });\n      }\n\n      // Get additional role-specific data\n      let roleData = null;\n      if (user.role === 'doctor') {\n        roleData = await storage.getDoctorByUserId(userId);\n      } else if (user.role === 'patient') {\n        roleData = await storage.getPatientByUserId(userId);\n      }\n\n      res.json({ ...user, roleData });\n    } catch (error) {\n      console.error(\"Error fetching user:\", error);\n      res.status(500).json({ message: \"Failed to fetch user\" });\n    }\n  });\n\n  app.post('/api/auth/select-role', isAuthenticated, async (req: any, res) => {\n    try {\n      const userId = req.user.claims.sub;\n      const { role } = req.body;\n      \n      if (!role || !['admin', 'doctor', 'nurse', 'receptionist', 'patient'].includes(role)) {\n        return res.status(400).json({ message: \"Invalid role\" });\n      }\n\n      await storage.updateUserRole(userId, role);\n      res.json({ success: true, role });\n    } catch (error) {\n      console.error(\"Error updating user role:\", error);\n      res.status(500).json({ message: \"Failed to update role\" });\n    }\n  });\n\n  // Patient details endpoints\n  app.get('/api/patient/:patientId/details', isAuthenticated, async (req, res) => {\n    try {\n      const { patientId } = req.params;\n      const patientDetails = await storage.getPatientDetails(parseInt(patientId));\n      res.json(patientDetails);\n    } catch (error) {\n      console.error(\"Error fetching patient details:\", error);\n      res.status(500).json({ message: \"Failed to fetch patient details\" });\n    }\n  });\n\n  app.get('/api/patient/:patientId/vitals', isAuthenticated, async (req, res) => {\n    try {\n      const { patientId } = req.params;\n      const vitals = await storage.getPatientVitals(parseInt(patientId));\n      res.json(vitals);\n    } catch (error) {\n      console.error(\"Error fetching patient vitals:\", error);\n      res.status(500).json({ message: \"Failed to fetch patient vitals\" });\n    }\n  });\n\n  app.get('/api/patient/:patientId/medical-history', isAuthenticated, async (req, res) => {\n    try {\n      const { patientId } = req.params;\n      const history = await storage.getPatientMedicalHistory(parseInt(patientId));\n      res.json(history);\n    } catch (error) {\n      console.error(\"Error fetching medical history:\", error);\n      res.status(500).json({ message: \"Failed to fetch medical history\" });\n    }\n  });\n\n  app.get('/api/patient/:patientId/lab-results', isAuthenticated, async (req, res) => {\n    try {\n      const { patientId } = req.params;\n      const labResults = await storage.getPatientLabResults(parseInt(patientId));\n      res.json(labResults);\n    } catch (error) {\n      console.error(\"Error fetching lab results:\", error);\n      res.status(500).json({ message: \"Failed to fetch lab results\" });\n    }\n  });\n\n  app.get('/api/patient/:patientId/medications', isAuthenticated, async (req, res) => {\n    try {\n      const { patientId } = req.params;\n      const medications = await storage.getPatientMedications(parseInt(patientId));\n      res.json(medications);\n    } catch (error) {\n      console.error(\"Error fetching medications:\", error);\n      res.status(500).json({ message: \"Failed to fetch medications\" });\n    }\n  });\n\n  app.get('/api/patient/:patientId/consultations', isAuthenticated, async (req, res) => {\n    try {\n      const { patientId } = req.params;\n      const consultations = await storage.getPatientConsultations(parseInt(patientId));\n      res.json(consultations);\n    } catch (error) {\n      console.error(\"Error fetching consultations:\", error);\n      res.status(500).json({ message: \"Failed to fetch consultations\" });\n    }\n  });\n\n  // Dashboard stats\n  app.get('/api/stats', isAuthenticated, async (req, res) => {\n    try {\n      const stats = await storage.getStats();\n      res.json(stats);\n    } catch (error) {\n      console.error(\"Error fetching stats:\", error);\n      res.status(500).json({ message: \"Failed to fetch stats\" });\n    }\n  });\n\n  // Queue management\n  app.get('/api/queue', isAuthenticated, async (req, res) => {\n    try {\n      const { doctorId } = req.query;\n      let queueItems;\n      \n      if (doctorId) {\n        queueItems = await storage.getQueueByDoctorId(doctorId as string);\n      } else {\n        queueItems = await storage.getQueue();\n      }\n      \n      res.json(queueItems);\n    } catch (error) {\n      console.error(\"Error fetching queue:\", error);\n      res.status(500).json({ message: \"Failed to fetch queue\" });\n    }\n  });\n\n  app.post('/api/queue', isAuthenticated, async (req, res) => {\n    try {\n      const queueData = insertQueueSchema.parse(req.body);\n      \n      // Intelligent doctor assignment based on category\n      if (!queueData.doctorId && queueData.category) {\n        const doctors = await storage.getDoctors();\n        const availableDoctor = doctors.find(d => \n          d.specialty.toLowerCase().includes(queueData.category!.toLowerCase()) && \n          d.status === 'available'\n        );\n        if (availableDoctor) {\n          queueData.doctorId = availableDoctor.id;\n        }\n      }\n      \n      const queueItem = await storage.addToQueue(queueData);\n      res.json(queueItem);\n    } catch (error) {\n      console.error(\"Error adding to queue:\", error);\n      res.status(500).json({ message: \"Failed to add to queue\" });\n    }\n  });\n\n  app.patch('/api/queue/:id/status', isAuthenticated, async (req, res) => {\n    try {\n      const { id } = req.params;\n      const { status } = req.body;\n      const updatedItem = await storage.updateQueueStatus(id, status);\n      res.json(updatedItem);\n    } catch (error) {\n      console.error(\"Error updating queue status:\", error);\n      res.status(500).json({ message: \"Failed to update queue status\" });\n    }\n  });\n\n  // Rooms management\n  app.get('/api/rooms', isAuthenticated, async (req, res) => {\n    try {\n      const rooms = await storage.getRooms();\n      res.json(rooms);\n    } catch (error) {\n      console.error(\"Error fetching rooms:\", error);\n      res.status(500).json({ message: \"Failed to fetch rooms\" });\n    }\n  });\n\n  app.patch('/api/rooms/:id/status', isAuthenticated, async (req, res) => {\n    try {\n      const { id } = req.params;\n      const { status, occupiedBeds } = req.body;\n      const updatedRoom = await storage.updateRoomStatus(id, status, occupiedBeds);\n      res.json(updatedRoom);\n    } catch (error) {\n      console.error(\"Error updating room status:\", error);\n      res.status(500).json({ message: \"Failed to update room status\" });\n    }\n  });\n\n  // Doctors management\n  app.get('/api/doctors', isAuthenticated, async (req, res) => {\n    try {\n      const doctors = await storage.getDoctors();\n      res.json(doctors);\n    } catch (error) {\n      console.error(\"Error fetching doctors:\", error);\n      res.status(500).json({ message: \"Failed to fetch doctors\" });\n    }\n  });\n\n  app.patch('/api/doctors/:id/status', isAuthenticated, async (req, res) => {\n    try {\n      const { id } = req.params;\n      const { status } = req.body;\n      const updatedDoctor = await storage.updateDoctorStatus(id, status);\n      res.json(updatedDoctor);\n    } catch (error) {\n      console.error(\"Error updating doctor status:\", error);\n      res.status(500).json({ message: \"Failed to update doctor status\" });\n    }\n  });\n\n  // Patients management\n  app.get('/api/patients', isAuthenticated, async (req, res) => {\n    try {\n      const patients = await storage.getPatients();\n      res.json(patients);\n    } catch (error) {\n      console.error(\"Error fetching patients:\", error);\n      res.status(500).json({ message: \"Failed to fetch patients\" });\n    }\n  });\n\n  app.get('/api/patients/:id', isAuthenticated, async (req, res) => {\n    try {\n      const { id } = req.params;\n      const patient = await storage.getPatientById(id);\n      if (!patient) {\n        return res.status(404).json({ message: \"Patient not found\" });\n      }\n      res.json(patient);\n    } catch (error) {\n      console.error(\"Error fetching patient:\", error);\n      res.status(500).json({ message: \"Failed to fetch patient\" });\n    }\n  });\n\n  // Vitals management\n  app.get('/api/patients/:id/vitals', isAuthenticated, async (req, res) => {\n    try {\n      const { id } = req.params;\n      const vitals = await storage.getVitalsByPatientId(id);\n      res.json(vitals);\n    } catch (error) {\n      console.error(\"Error fetching vitals:\", error);\n      res.status(500).json({ message: \"Failed to fetch vitals\" });\n    }\n  });\n\n  app.post('/api/vitals', isAuthenticated, async (req, res) => {\n    try {\n      const vitalsData = insertVitalsSchema.parse({\n        ...req.body,\n        recordedBy: req.user?.claims?.sub\n      });\n      const vitals = await storage.createVitals(vitalsData);\n      res.json(vitals);\n    } catch (error) {\n      console.error(\"Error creating vitals:\", error);\n      res.status(500).json({ message: \"Failed to create vitals\" });\n    }\n  });\n\n  // Staff tasks\n  app.get('/api/tasks', isAuthenticated, async (req, res) => {\n    try {\n      const userId = req.user?.claims?.sub;\n      const tasks = await storage.getTasksByUserId(userId);\n      res.json(tasks);\n    } catch (error) {\n      console.error(\"Error fetching tasks:\", error);\n      res.status(500).json({ message: \"Failed to fetch tasks\" });\n    }\n  });\n\n  app.post('/api/tasks', isAuthenticated, async (req, res) => {\n    try {\n      const taskData = insertStaffTaskSchema.parse({\n        ...req.body,\n        createdBy: req.user?.claims?.sub\n      });\n      const task = await storage.createTask(taskData);\n      res.json(task);\n    } catch (error) {\n      console.error(\"Error creating task:\", error);\n      res.status(500).json({ message: \"Failed to create task\" });\n    }\n  });\n\n  app.patch('/api/tasks/:id/status', isAuthenticated, async (req, res) => {\n    try {\n      const { id } = req.params;\n      const { status } = req.body;\n      const updatedTask = await storage.updateTaskStatus(id, status);\n      res.json(updatedTask);\n    } catch (error) {\n      console.error(\"Error updating task status:\", error);\n      res.status(500).json({ message: \"Failed to update task status\" });\n    }\n  });\n\n  // Medical records\n  app.get('/api/patients/:id/records', isAuthenticated, async (req, res) => {\n    try {\n      const { id } = req.params;\n      const records = await storage.getMedicalRecordsByPatientId(id);\n      res.json(records);\n    } catch (error) {\n      console.error(\"Error fetching medical records:\", error);\n      res.status(500).json({ message: \"Failed to fetch medical records\" });\n    }\n  });\n\n  // Appointments\n  app.get('/api/appointments', isAuthenticated, async (req, res) => {\n    try {\n      const { doctorId, patientId } = req.query;\n      let appointments;\n      \n      if (doctorId) {\n        appointments = await storage.getAppointmentsByDoctorId(doctorId as string);\n      } else if (patientId) {\n        appointments = await storage.getAppointmentsByPatientId(patientId as string);\n      } else {\n        appointments = await storage.getAppointments();\n      }\n      \n      res.json(appointments);\n    } catch (error) {\n      console.error(\"Error fetching appointments:\", error);\n      res.status(500).json({ message: \"Failed to fetch appointments\" });\n    }\n  });\n\n  // Doctor Dashboard Routes\n  app.get('/api/doctor/queue', isAuthenticated, async (req, res) => {\n    try {\n      const doctorId = (req.user as any).claims.sub;\n      \n      // Include patients transferred from nurse queue after vitals collection\n      const doctorQueue = [\n        // Emergency patients (auto-transferred from nurse)\n        {\n          id: 'emergency1',\n          name: 'Sarah Johnson',\n          reasonForVisit: 'Fever and headache - EMERGENCY',\n          priority: 'emergency',\n          estimatedWaitTime: 0,\n          queueNumber: 1,\n          vitals: {\n            temperature: 102.3,\n            heartRate: 110,\n            bloodPressure: '140/90',\n            oxygenSaturation: 96\n          },\n          transferredFrom: 'nurse',\n          transferTime: new Date(Date.now() - 5*60*1000),\n          nurseNotes: 'High fever and elevated heart rate - immediate attention required'\n        },\n        // Normal priority patients (transferred from nurse after vitals)\n        {\n          id: 'normal1',\n          name: 'Mike Chen',\n          reasonForVisit: 'Chest pain - Post-vitals',\n          priority: 'normal',\n          estimatedWaitTime: 15,\n          queueNumber: 2,\n          vitals: {\n            temperature: 98.8,\n            heartRate: 78,\n            bloodPressure: '125/82',\n            oxygenSaturation: 99\n          },\n          transferredFrom: 'nurse',\n          transferTime: new Date(Date.now() - 12*60*1000),\n          nurseNotes: 'Vitals stable, patient reports mild chest discomfort'\n        },\n        {\n          id: 'normal2',\n          name: 'Lisa Rodriguez',\n          reasonForVisit: 'Dizziness - Post-vitals',\n          priority: 'normal',\n          estimatedWaitTime: 30,\n          queueNumber: 3,\n          vitals: {\n            temperature: 97.9,\n            heartRate: 72,\n            bloodPressure: '118/75',\n            oxygenSaturation: 98\n          },\n          transferredFrom: 'nurse',\n          transferTime: new Date(Date.now() - 20*60*1000),\n          nurseNotes: 'Patient reports occasional dizziness, vitals within normal range'\n        }\n      ];\n      \n      res.json(doctorQueue);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch queue\" });\n    }\n  });\n\n  app.get('/api/doctor/appointments', isAuthenticated, async (req, res) => {\n    try {\n      const doctorId = (req.user as any).claims.sub;\n      const appointments = await storage.getAppointmentsByDoctorId(doctorId);\n      res.json(appointments.map((a: any) => ({\n        id: a.id,\n        patientName: a.patientName || `Patient ${a.patientId}`,\n        appointmentType: 'Consultation',\n        scheduledTime: a.scheduledTime || new Date(),\n        status: a.status || 'scheduled'\n      })));\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch appointments\" });\n    }\n  });\n\n  app.get('/api/doctor/lab-results', isAuthenticated, async (req, res) => {\n    try {\n      const results = [\n        { id: 1, testName: 'Blood Test', patientName: 'John Doe', status: 'normal', reportedAt: new Date() },\n        { id: 2, testName: 'X-Ray', patientName: 'Jane Smith', status: 'abnormal', reportedAt: new Date() }\n      ];\n      res.json(results);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch lab results\" });\n    }\n  });\n\n  app.get('/api/doctor/consultations', isAuthenticated, async (req, res) => {\n    try {\n      const doctorId = (req.user as any).claims.sub;\n      const consultations = await storage.getQueue().then((queue: any[]) => \n        queue.filter((q: any) => q.doctorId === doctorId).slice(0, 10)\n      );\n      res.json(consultations.map((c: any) => ({\n        id: c.id,\n        patientName: c.patientName || `Patient ${c.patientId}`,\n        notes: c.reasonForVisit,\n        consultationTime: c.checkInTime,\n        status: c.status\n      })));\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch consultations\" });\n    }\n  });\n\n  // Doctor Schedule Management\n  app.get('/api/doctor/schedule', isAuthenticated, async (req, res) => {\n    try {\n      const doctorId = (req.user as any).claims.sub;\n      const schedule = await storage.getDoctorSchedule(doctorId);\n      res.json(schedule);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch schedule\" });\n    }\n  });\n\n  app.post('/api/doctor/schedule', isAuthenticated, async (req, res) => {\n    try {\n      const doctorId = (req.user as any).claims.sub;\n      const scheduleData = insertDoctorScheduleSchema.parse({\n        ...req.body,\n        doctorId\n      });\n      const schedule = await storage.createDoctorSchedule(scheduleData);\n      res.json(schedule);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to create schedule\" });\n    }\n  });\n\n  // Doctor Status Management\n  app.get('/api/doctor/status', isAuthenticated, async (req, res) => {\n    try {\n      const doctorId = (req.user as any).claims.sub;\n      const status = await storage.getDoctorStatus(doctorId);\n      res.json(status || { status: 'available', location: null });\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch status\" });\n    }\n  });\n\n  app.put('/api/doctor/status', isAuthenticated, async (req, res) => {\n    try {\n      const doctorId = (req.user as any).claims.sub;\n      const { status, location } = req.body;\n      const updatedStatus = await storage.updateDoctorStatus(doctorId, status, location);\n      res.json(updatedStatus);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to update status\" });\n    }\n  });\n\n  // Prescription Management\n  app.post('/api/doctor/prescriptions', isAuthenticated, async (req, res) => {\n    try {\n      const doctorId = (req.user as any).claims.sub;\n      const prescriptionData = insertPrescriptionSchema.parse({\n        ...req.body,\n        doctorId\n      });\n      const prescription = await storage.createPrescription(prescriptionData);\n      res.json(prescription);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to create prescription\" });\n    }\n  });\n\n  app.get('/api/doctor/prescriptions', isAuthenticated, async (req, res) => {\n    try {\n      const doctorId = (req.user as any).claims.sub;\n      const prescriptions = await storage.getPrescriptionsByDoctorId(doctorId);\n      res.json(prescriptions);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch prescriptions\" });\n    }\n  });\n\n  // Lab Orders Management\n  app.post('/api/doctor/lab-orders', isAuthenticated, async (req, res) => {\n    try {\n      const doctorId = (req.user as any).claims.sub;\n      const labOrderData = insertLabOrderSchema.parse({\n        ...req.body,\n        doctorId\n      });\n      const labOrder = await storage.createLabOrder(labOrderData);\n      res.json(labOrder);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to create lab order\" });\n    }\n  });\n\n  app.get('/api/doctor/lab-orders', isAuthenticated, async (req, res) => {\n    try {\n      const doctorId = (req.user as any).claims.sub;\n      const labOrders = await storage.getLabOrdersByDoctorId(doctorId);\n      res.json(labOrders);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch lab orders\" });\n    }\n  });\n\n  // AI Consultation\n  app.post('/api/doctor/ai-consultation', isAuthenticated, async (req, res) => {\n    try {\n      const doctorId = (req.user as any).claims.sub;\n      const { patientId, query, consultationType } = req.body;\n      \n      // Simulate AI response (in real implementation, this would call OpenAI)\n      const aiResponse = `Based on the query: \"${query}\", I recommend further evaluation. Consider the patient's medical history and current symptoms. This is a simulated AI response for ${consultationType} consultation.`;\n      \n      const consultationData = insertAiConsultationSchema.parse({\n        patientId,\n        doctorId,\n        query,\n        aiResponse,\n        confidence: 'medium',\n        consultationType\n      });\n      \n      const consultation = await storage.createAiConsultation(consultationData);\n      res.json(consultation);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to create AI consultation\" });\n    }\n  });\n\n  // AI Scribe - Consultation Notes\n  app.post('/api/doctor/consultation-notes', isAuthenticated, async (req, res) => {\n    try {\n      const doctorId = (req.user as any).claims.sub;\n      const noteData = insertConsultationNoteSchema.parse({\n        ...req.body,\n        doctorId\n      });\n      const note = await storage.createConsultationNote(noteData);\n      res.json(note);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to save consultation notes\" });\n    }\n  });\n\n  app.get('/api/doctor/consultation-notes/:patientId', isAuthenticated, async (req, res) => {\n    try {\n      const doctorId = (req.user as any).claims.sub;\n      const { patientId } = req.params;\n      const notes = await storage.getConsultationNotes(parseInt(patientId), doctorId);\n      res.json(notes);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch consultation notes\" });\n    }\n  });\n\n  // Admin Dashboard Routes\n  app.get('/api/admin/hospital-stats', isAuthenticated, async (req, res) => {\n    try {\n      const stats = {\n        satisfaction: 92,\n        feedbackCount: 156,\n        todayConsultations: 45,\n        admissions: 12,\n        discharges: 8,\n        pendingDischarges: 3\n      };\n      res.json(stats);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch hospital stats\" });\n    }\n  });\n\n  app.get('/api/admin/staff', isAuthenticated, async (req, res) => {\n    try {\n      const doctors = await storage.getDoctors();\n      res.json(doctors.map((s: any) => ({\n        id: s.id,\n        firstName: s.firstName || 'Doctor',\n        lastName: s.lastName || 'Smith',\n        role: 'doctor',\n        department: s.specialty || 'General Medicine',\n        isActive: s.status === 'available'\n      })));\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch staff\" });\n    }\n  });\n\n  app.get('/api/admin/departments', isAuthenticated, async (req, res) => {\n    try {\n      const depts = [\n        { id: 1, name: 'Cardiology', description: 'Heart and cardiovascular care', headDoctorName: 'Smith', staffCount: 5, todayPatients: 15, revenue: 25000 },\n        { id: 2, name: 'Emergency', description: 'Emergency medical care', headDoctorName: 'Johnson', staffCount: 8, todayPatients: 22, revenue: 35000 },\n        { id: 3, name: 'General Medicine', description: 'Primary healthcare', headDoctorName: 'Williams', staffCount: 6, todayPatients: 18, revenue: 20000 }\n      ];\n      res.json(depts);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch departments\" });\n    }\n  });\n\n  app.get('/api/admin/finances', isAuthenticated, async (req, res) => {\n    try {\n      const finances = {\n        monthlyRevenue: 250000,\n        growthRate: 12,\n        totalRevenue: 250000,\n        totalExpenses: 180000,\n        profitMargin: 28,\n        collectionRate: 95\n      };\n      res.json(finances);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch finances\" });\n    }\n  });\n\n  app.get('/api/admin/bed-occupancy', isAuthenticated, async (req, res) => {\n    try {\n      const bedData = {\n        occupancyRate: 85,\n        occupiedBeds: 42,\n        totalBeds: 50\n      };\n      res.json(bedData);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch bed occupancy\" });\n    }\n  });\n\n  // Nurse Dashboard Routes\n  app.get('/api/nurse/patients', isAuthenticated, async (req, res) => {\n    try {\n      const patients = await storage.getPatients();\n      res.json(patients.slice(0, 10).map((p: any, index) => ({\n        id: p.id,\n        name: p.name || `Patient ${p.id}`,\n        roomNumber: 'A101',\n        bedNumber: '1',\n        condition: 'stable',\n        lastVitalsTime: new Date(),\n        heartRate: index === 0 ? 105 : index === 1 ? 72 : 68, // Emergency flag for first patient\n        bloodPressure: '120/80',\n        temperature: index === 0 ? 102.1 : index === 1 ? 98.6 : 97.8, // Emergency flag for first patient\n        oxygenSaturation: index === 2 ? 88 : 98 // Emergency flag for third patient\n      })));\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch patients\" });\n    }\n  });\n\n  app.get('/api/nurse/tasks', isAuthenticated, async (req, res) => {\n    try {\n      const userId = (req.user as any).claims.sub;\n      const tasks = await storage.getTasksByUserId(userId);\n      res.json(tasks.map((t: any) => ({\n        id: t.id,\n        description: t.description,\n        patientName: `Patient ${t.patientId}`,\n        priority: t.priority || 'normal',\n        taskType: t.taskType || 'general',\n        status: t.status,\n        dueTime: t.dueTime || new Date()\n      })));\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch tasks\" });\n    }\n  });\n\n  app.get('/api/nurse/medications', isAuthenticated, async (req, res) => {\n    try {\n      const medications = [\n        { id: 1, medicationName: 'Aspirin', patientName: 'John Doe', dosage: '100mg', frequency: 'Daily', dueTime: new Date(Date.now() + 2 * 60 * 60 * 1000) },\n        { id: 2, medicationName: 'Insulin', patientName: 'Jane Smith', dosage: '10 units', frequency: 'Before meals', dueTime: new Date(Date.now() + 30 * 60 * 1000) }\n      ];\n      res.json(medications);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch medications\" });\n    }\n  });\n\n  app.get('/api/nurse/vitals-alerts', isAuthenticated, async (req, res) => {\n    try {\n      const alerts = [\n        { id: 1, alertType: 'High Blood Pressure', patientName: 'John Doe', value: '180/95' },\n        { id: 2, alertType: 'Low Oxygen Saturation', patientName: 'Jane Smith', value: '89%' }\n      ];\n      res.json(alerts);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch vitals alerts\" });\n    }\n  });\n\n  // Nurse Queue - patients waiting for vitals after check-in\n  app.get('/api/nurse/queue', isAuthenticated, async (req, res) => {\n    try {\n      const nurseQueue = [\n        {\n          id: 'q1',\n          name: 'Sarah Johnson',\n          checkedInAt: new Date(Date.now() - 15*60*1000),\n          chiefComplaint: 'Fever and headache',\n          waitTime: 15,\n          priority: 'normal'\n        },\n        {\n          id: 'q2', \n          name: 'Mike Chen',\n          checkedInAt: new Date(Date.now() - 8*60*1000),\n          chiefComplaint: 'Chest pain',\n          waitTime: 8,\n          priority: 'urgent'\n        },\n        {\n          id: 'q3',\n          name: 'Lisa Rodriguez', \n          checkedInAt: new Date(Date.now() - 25*60*1000),\n          chiefComplaint: 'Dizziness',\n          waitTime: 25,\n          priority: 'high'\n        },\n        {\n          id: 'q4',\n          name: 'David Kim',\n          checkedInAt: new Date(Date.now() - 5*60*1000), \n          chiefComplaint: 'Shortness of breath',\n          waitTime: 5,\n          priority: 'normal'\n        }\n      ];\n      \n      res.json(nurseQueue);\n    } catch (error) {\n      console.error(\"Error fetching nurse queue:\", error);\n      res.status(500).json({ message: \"Failed to fetch nurse queue\" });\n    }\n  });\n\n  // Record vitals and transfer patient to doctor queue\n  app.post('/api/nurse/record-vitals', isAuthenticated, async (req, res) => {\n    try {\n      const { patientId, temperature, heartRate, bloodPressure, oxygenSaturation, notes, isEmergency } = req.body;\n      \n      const vitalsRecord = {\n        id: Date.now(),\n        patientId,\n        temperature,\n        heartRate,\n        bloodPressure,\n        oxygenSaturation,\n        notes,\n        recordedAt: new Date(),\n        recordedBy: req.user?.claims?.sub || 'nurse1',\n        isEmergency\n      };\n      \n      if (isEmergency) {\n        console.log(`ðŸš¨ EMERGENCY: Patient ${patientId} transferred to doctor queue with emergency priority`);\n      } else {\n        console.log(`âœ… Patient ${patientId} transferred to doctor queue after vitals collection`);\n      }\n      \n      res.json({\n        success: true,\n        vitalsRecord,\n        transferred: true,\n        priority: isEmergency ? 'EMERGENCY' : 'NORMAL',\n        message: isEmergency ? \n          'Emergency vitals recorded! Patient transferred to doctor queue with high priority.' :\n          'Vitals recorded successfully. Patient transferred to doctor queue.'\n      });\n    } catch (error) {\n      console.error(\"Error recording vitals:\", error);\n      res.status(500).json({ message: \"Failed to record vitals\" });\n    }\n  });\n\n  // Receptionist Dashboard Routes\n  app.get('/api/receptionist/queue', isAuthenticated, async (req, res) => {\n    try {\n      const queue = await storage.getQueue();\n      res.json(queue.map((q: any) => ({\n        id: q.id,\n        queueNumber: q.id,\n        patientName: q.patientName || `Patient ${q.patientId}`,\n        reasonForVisit: q.reasonForVisit,\n        priority: q.priority,\n        status: q.status,\n        estimatedWaitTime: q.estimatedWaitTime\n      })));\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch queue\" });\n    }\n  });\n\n  app.get('/api/receptionist/appointments', isAuthenticated, async (req, res) => {\n    try {\n      const appointments = await storage.getAppointments();\n      res.json(appointments.slice(0, 10).map((a: any) => ({\n        id: a.id,\n        patientName: a.patientName || `Patient ${a.patientId}`,\n        appointmentType: 'Consultation',\n        appointmentDate: a.scheduledTime || new Date(),\n        scheduledTime: a.scheduledTime || new Date(),\n        status: a.status || 'scheduled',\n        doctorName: 'Smith',\n        duration: 30\n      })));\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch appointments\" });\n    }\n  });\n\n  app.get('/api/receptionist/check-ins', isAuthenticated, async (req, res) => {\n    try {\n      const checkIns = [\n        { id: 1, patientName: 'John Doe', isNewPatient: false, checkedInAt: new Date(), department: 'Cardiology' },\n        { id: 2, patientName: 'Jane Smith', isNewPatient: true, checkedInAt: new Date(), department: 'General' }\n      ];\n      res.json(checkIns);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch check-ins\" });\n    }\n  });\n\n  app.get('/api/receptionist/billing', isAuthenticated, async (req, res) => {\n    try {\n      const billing = [\n        { id: 1, patientName: 'John Doe', amount: 250, status: 'pending', invoiceNumber: 'INV-001' },\n        { id: 2, patientName: 'Jane Smith', amount: 180, status: 'paid', invoiceNumber: 'INV-002' }\n      ];\n      res.json(billing);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch billing\" });\n    }\n  });\n\n  // Patient Dashboard Routes\n  app.get('/api/patient/visit-status', isAuthenticated, async (req, res) => {\n    try {\n      const patientId = (req.user as any).claims.sub;\n      const visitStatus = {\n        estimatedWaitTime: 25,\n        queuePosition: 3,\n        doctorName: 'Smith',\n        department: 'General Medicine',\n        roomNumber: 'TBD',\n        floor: '2',\n        priority: 'normal',\n        status: 'waiting',\n        labUpdates: [\n          { message: 'Blood test results available', time: '10:30 AM' }\n        ],\n        prescriptionUpdates: [\n          { message: 'Prescription ready for pickup', time: '11:00 AM' }\n        ]\n      };\n      res.json(visitStatus);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch visit status\" });\n    }\n  });\n\n  app.get('/api/patient/health-history', isAuthenticated, async (req, res) => {\n    try {\n      const history = [\n        {\n          id: 1,\n          visitType: 'Annual Checkup',\n          date: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000),\n          doctorName: 'Johnson',\n          summary: 'Routine annual physical examination. All vital signs normal, no concerns noted.',\n          status: 'Completed',\n          hospital: 'General Hospital',\n          department: 'Family Medicine'\n        },\n        {\n          id: 2,\n          visitType: 'Follow-up',\n          date: new Date(Date.now() - 60 * 24 * 60 * 60 * 1000),\n          doctorName: 'Williams',\n          summary: 'Follow-up for blood pressure management. Medication adjusted, continue monitoring.',\n          status: 'Completed',\n          hospital: 'General Hospital',\n          department: 'Cardiology'\n        }\n      ];\n      res.json(history);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch health history\" });\n    }\n  });\n\n  app.get('/api/patient/notifications', isAuthenticated, async (req, res) => {\n    try {\n      const notifications = [\n        {\n          id: 1,\n          title: 'Lab Results Available',\n          message: 'Your blood test results from yesterday are now available for review.',\n          type: 'lab_result',\n          createdAt: new Date(Date.now() - 2 * 60 * 60 * 1000),\n          isRead: false,\n          actionRequired: true,\n          actionText: 'View Results'\n        },\n        {\n          id: 2,\n          title: 'Appointment Reminder',\n          message: 'Your appointment with Dr. Smith is scheduled for tomorrow at 2:00 PM.',\n          type: 'appointment',\n          createdAt: new Date(Date.now() - 24 * 60 * 60 * 1000),\n          isRead: true,\n          actionRequired: false\n        },\n        {\n          id: 3,\n          title: 'Prescription Ready',\n          message: 'Your prescription is ready for pickup at the hospital pharmacy.',\n          type: 'prescription',\n          createdAt: new Date(Date.now() - 4 * 60 * 60 * 1000),\n          isRead: false,\n          actionRequired: true,\n          actionText: 'Get Directions'\n        }\n      ];\n      res.json(notifications);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch notifications\" });\n    }\n  });\n\n  app.get('/api/patient/lab-results', isAuthenticated, async (req, res) => {\n    try {\n      const results = [\n        {\n          id: 1,\n          testName: 'Complete Blood Count',\n          date: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000),\n          status: 'normal'\n        },\n        {\n          id: 2,\n          testName: 'Lipid Panel',\n          date: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000),\n          status: 'normal'\n        },\n        {\n          id: 3,\n          testName: 'Blood Glucose',\n          date: new Date(Date.now() - 14 * 24 * 60 * 60 * 1000),\n          status: 'abnormal'\n        }\n      ];\n      res.json(results);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch lab results\" });\n    }\n  });\n\n  app.post('/api/patient/check-in', isAuthenticated, async (req, res) => {\n    try {\n      const { symptoms, preferences } = req.body;\n      const patientId = (req.user as any).claims.sub;\n      \n      // Process check-in\n      const checkIn = {\n        id: Date.now(),\n        patientId,\n        symptoms,\n        preferences,\n        checkInTime: new Date(),\n        queueNumber: Math.floor(Math.random() * 100) + 1\n      };\n      \n      res.json({ success: true, checkIn });\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to process check-in\" });\n    }\n  });\n\n  const httpServer = createServer(app);\n  return httpServer;\n}\n","size_bytes":35313},"server/storage.ts":{"content":"import {\n  users,\n  patients,\n  rooms,\n  vitals,\n  appointments,\n  medicalRecords,\n  prescriptions,\n  labOrders,\n  labResults,\n  labTests,\n  consultations,\n  queueEntries,\n  type User,\n  type UpsertUser,\n  type Patient,\n  type InsertPatient,\n  type Room,\n  type QueueEntry,\n  type InsertQueueEntry,\n  type Vital,\n  type InsertVital,\n  type Appointment,\n  type InsertAppointment,\n  type Prescription,\n  type LabOrder,\n  type Consultation,\n  type InsertConsultation,\n} from \"@shared/healthcare-schema\";\nimport { db } from \"./db\";\nimport { eq, desc, asc, and, or, sql, count } from \"drizzle-orm\";\n\nexport interface IStorage {\n  // User operations (mandatory for Replit Auth)\n  getUser(id: string): Promise<User | undefined>;\n  upsertUser(user: UpsertUser): Promise<User>;\n  updateUserRole(id: string, role: string): Promise<User>;\n  \n  // Patient operations\n  getPatients(): Promise<Patient[]>;\n  getPatientById(patientId: number): Promise<Patient | undefined>;\n  createPatient(patient: InsertPatient): Promise<Patient>;\n  \n  // Room operations\n  getRooms(): Promise<Room[]>;\n  \n  // Queue operations\n  getQueue(): Promise<QueueEntry[]>;\n  \n  // Patient details operations\n  getPatientDetails(patientId: number): Promise<any>;\n  getPatientVitals(patientId: number): Promise<any[]>;\n  getPatientMedicalHistory(patientId: number): Promise<any[]>;\n  getPatientLabResults(patientId: number): Promise<any[]>;\n  getPatientMedications(patientId: number): Promise<any[]>;\n  getPatientConsultations(patientId: number): Promise<any[]>;\n  \n  // Appointment operations\n  getAppointments(): Promise<Appointment[]>;\n  \n  // Stats operations\n  getStats(): Promise<any>;\n  addToQueue(queueItem: InsertQueue): Promise<QueueItem>;\n  updateQueueStatus(queueId: string, status: string): Promise<QueueItem>;\n  assignDoctorToQueue(queueId: string, doctorId: string): Promise<QueueItem>;\n  \n  // Vitals operations\n  getVitalsByPatientId(patientId: string): Promise<Vitals[]>;\n  createVitals(vitals: InsertVitals): Promise<Vitals>;\n  \n  // Appointment operations\n  getAppointments(): Promise<Appointment[]>;\n  getAppointmentsByDoctorId(doctorId: string): Promise<Appointment[]>;\n  getAppointmentsByPatientId(patientId: string): Promise<Appointment[]>;\n  createAppointment(appointment: InsertAppointment): Promise<Appointment>;\n  \n  // Staff task operations\n  getTasksByUserId(userId: string): Promise<StaffTask[]>;\n  createTask(task: InsertStaffTask): Promise<StaffTask>;\n  updateTaskStatus(taskId: string, status: string): Promise<StaffTask>;\n  \n  // Medical record operations\n  getMedicalRecordsByPatientId(patientId: string): Promise<MedicalRecord[]>;\n  createMedicalRecord(record: InsertMedicalRecord): Promise<MedicalRecord>;\n  \n  // Statistics\n  getStats(): Promise<{\n    currentPatients: number;\n    waitingQueue: number;\n    availableRooms: number;\n    totalRooms: number;\n    activeStaff: number;\n    totalStaff: number;\n  }>;\n\n  // Doctor-specific operations\n  getDoctorSchedule(doctorId: string): Promise<DoctorSchedule[]>;\n  createDoctorSchedule(schedule: InsertDoctorSchedule): Promise<DoctorSchedule>;\n  getDoctorStatus(doctorId: string): Promise<{ status: string; location?: string } | undefined>;\n  updateDoctorStatus(doctorId: string, status: string, location?: string): Promise<{ status: string; location?: string }>;\n  \n  // Prescription operations\n  createPrescription(prescription: InsertPrescription): Promise<Prescription>;\n  getPrescriptionsByDoctorId(doctorId: string): Promise<Prescription[]>;\n  \n  // Lab order operations\n  createLabOrder(labOrder: InsertLabOrder): Promise<LabOrder>;\n  getLabOrdersByDoctorId(doctorId: string): Promise<LabOrder[]>;\n  \n  // AI consultation operations\n  createAiConsultation(consultation: InsertAiConsultation): Promise<AiConsultation>;\n  \n  // Consultation notes operations\n  createConsultationNote(note: InsertConsultationNote): Promise<ConsultationNote>;\n  getConsultationNotes(patientId: number, doctorId: string): Promise<ConsultationNote[]>;\n}\n\nexport class DatabaseStorage implements IStorage {\n  // User operations\n  async getUser(id: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.id, id));\n    return user;\n  }\n\n  async upsertUser(userData: UpsertUser): Promise<User> {\n    const [user] = await db\n      .insert(users)\n      .values(userData)\n      .onConflictDoUpdate({\n        target: users.id,\n        set: {\n          ...userData,\n          updatedAt: new Date(),\n        },\n      })\n      .returning();\n    return user;\n  }\n\n  async updateUserRole(id: string, role: string): Promise<User> {\n    const [user] = await db\n      .update(users)\n      .set({ role: role as any, updatedAt: new Date() })\n      .where(eq(users.id, id))\n      .returning();\n    return user;\n  }\n\n  // Patient operations\n  async getPatients(): Promise<Patient[]> {\n    return await db.select().from(patients);\n  }\n\n  async getPatientById(patientId: number): Promise<Patient | undefined> {\n    const [patient] = await db.select().from(patients).where(eq(patients.id, patientId));\n    return patient;\n  }\n\n  async createPatient(patient: InsertPatient): Promise<Patient> {\n    const [newPatient] = await db.insert(patients).values(patient).returning();\n    return newPatient;\n  }\n\n  // Room operations\n  async getRooms(): Promise<Room[]> {\n    return await db.select().from(rooms);\n  }\n\n  // Queue operations\n  async getQueue(): Promise<QueueEntry[]> {\n    return await db.select().from(queueEntries).orderBy(asc(queueEntries.queueNumber));\n  }\n\n  // Appointment operations\n  async getAppointments(): Promise<Appointment[]> {\n    return await db.select().from(appointments).orderBy(asc(appointments.appointmentDate));\n  }\n\n  // Stats operations\n  async getStats(): Promise<any> {\n    const totalPatients = await db.select({ count: count() }).from(patients);\n    const totalAppointments = await db.select({ count: count() }).from(appointments);\n    const totalQueue = await db.select({ count: count() }).from(queueEntries);\n    \n    return {\n      totalPatients: totalPatients[0]?.count || 0,\n      totalAppointments: totalAppointments[0]?.count || 0,\n      queueLength: totalQueue[0]?.count || 0,\n    };\n  }\n\n  // Doctor operations\n  async getDoctors(): Promise<Doctor[]> {\n    return await db.select().from(doctors).orderBy(asc(doctors.createdAt));\n  }\n\n  async getDoctorByUserId(userId: string): Promise<Doctor | undefined> {\n    const [doctor] = await db.select().from(doctors).where(eq(doctors.userId, userId));\n    return doctor;\n  }\n\n  async createDoctor(doctor: InsertDoctor): Promise<Doctor> {\n    const [newDoctor] = await db.insert(doctors).values(doctor).returning();\n    return newDoctor;\n  }\n\n  async updateDoctorStatus(doctorId: string, status: string): Promise<Doctor> {\n    const [updatedDoctor] = await db\n      .update(doctors)\n      .set({ status: status as any, updatedAt: new Date() })\n      .where(eq(doctors.id, doctorId))\n      .returning();\n    return updatedDoctor;\n  }\n\n  // Patient operations\n  async getPatients(): Promise<Patient[]> {\n    return await db.select().from(patients).orderBy(desc(patients.createdAt));\n  }\n\n  async getPatientById(patientId: string): Promise<Patient | undefined> {\n    const [patient] = await db.select().from(patients).where(eq(patients.id, patientId));\n    return patient;\n  }\n\n  async getPatientByUserId(userId: string): Promise<Patient | undefined> {\n    const [patient] = await db.select().from(patients).where(eq(patients.userId, userId));\n    return patient;\n  }\n\n  async getPatientByPatientId(patientId: string): Promise<Patient | undefined> {\n    const [patient] = await db.select().from(patients).where(eq(patients.patientId, patientId));\n    return patient;\n  }\n\n  async createPatient(patient: InsertPatient): Promise<Patient> {\n    const [newPatient] = await db.insert(patients).values(patient).returning();\n    return newPatient;\n  }\n\n  // Room operations\n  async getRooms(): Promise<Room[]> {\n    return await db.select().from(rooms).orderBy(asc(rooms.roomNumber));\n  }\n\n  async getRoomById(roomId: string): Promise<Room | undefined> {\n    const [room] = await db.select().from(rooms).where(eq(rooms.id, roomId));\n    return room;\n  }\n\n  async createRoom(room: InsertRoom): Promise<Room> {\n    const [newRoom] = await db.insert(rooms).values(room).returning();\n    return newRoom;\n  }\n\n  async updateRoomStatus(roomId: string, status: string, occupiedBeds?: number): Promise<Room> {\n    const updateData: any = { status: status as any, updatedAt: new Date() };\n    if (occupiedBeds !== undefined) {\n      updateData.occupiedBeds = occupiedBeds;\n    }\n    const [updatedRoom] = await db\n      .update(rooms)\n      .set(updateData)\n      .where(eq(rooms.id, roomId))\n      .returning();\n    return updatedRoom;\n  }\n\n  // Queue operations\n  async getQueue(): Promise<QueueItem[]> {\n    return await db.select().from(queue).where(eq(queue.status, \"waiting\")).orderBy(asc(queue.queuePosition));\n  }\n\n  async getQueueByDoctorId(doctorId: string): Promise<QueueItem[]> {\n    return await db\n      .select()\n      .from(queue)\n      .where(and(eq(queue.doctorId, doctorId), eq(queue.status, \"waiting\")))\n      .orderBy(asc(queue.queuePosition));\n  }\n\n  async getQueueByPatientId(patientId: string): Promise<QueueItem[]> {\n    return await db\n      .select()\n      .from(queue)\n      .where(eq(queue.patientId, patientId))\n      .orderBy(desc(queue.createdAt));\n  }\n\n  async addToQueue(queueItem: InsertQueue): Promise<QueueItem> {\n    // Get the next queue position\n    const [maxPosition] = await db\n      .select({ max: sql<number>`COALESCE(MAX(${queue.queuePosition}), 0)` })\n      .from(queue)\n      .where(eq(queue.status, \"waiting\"));\n    \n    const nextPosition = (maxPosition.max || 0) + 1;\n    \n    const [newQueueItem] = await db\n      .insert(queue)\n      .values({ ...queueItem, queuePosition: nextPosition })\n      .returning();\n    return newQueueItem;\n  }\n\n  async updateQueueStatus(queueId: string, status: string): Promise<QueueItem> {\n    const [updatedQueueItem] = await db\n      .update(queue)\n      .set({ status: status as any, updatedAt: new Date() })\n      .where(eq(queue.id, queueId))\n      .returning();\n    return updatedQueueItem;\n  }\n\n  async assignDoctorToQueue(queueId: string, doctorId: string): Promise<QueueItem> {\n    const [updatedQueueItem] = await db\n      .update(queue)\n      .set({ doctorId, updatedAt: new Date() })\n      .where(eq(queue.id, queueId))\n      .returning();\n    return updatedQueueItem;\n  }\n\n  // Vitals operations\n  async getVitalsByPatientId(patientId: string): Promise<Vitals[]> {\n    return await db\n      .select()\n      .from(vitals)\n      .where(eq(vitals.patientId, patientId))\n      .orderBy(desc(vitals.recordedAt));\n  }\n\n  async createVitals(vitalsData: InsertVitals): Promise<Vitals> {\n    const [newVitals] = await db.insert(vitals).values(vitalsData).returning();\n    return newVitals;\n  }\n\n  // Appointment operations\n  async getAppointments(): Promise<Appointment[]> {\n    return await db.select().from(appointments).orderBy(asc(appointments.scheduledTime));\n  }\n\n  async getAppointmentsByDoctorId(doctorId: string): Promise<Appointment[]> {\n    return await db\n      .select()\n      .from(appointments)\n      .where(eq(appointments.doctorId, doctorId))\n      .orderBy(asc(appointments.scheduledTime));\n  }\n\n  async getAppointmentsByPatientId(patientId: string): Promise<Appointment[]> {\n    return await db\n      .select()\n      .from(appointments)\n      .where(eq(appointments.patientId, patientId))\n      .orderBy(asc(appointments.scheduledTime));\n  }\n\n  async createAppointment(appointment: InsertAppointment): Promise<Appointment> {\n    const [newAppointment] = await db.insert(appointments).values(appointment).returning();\n    return newAppointment;\n  }\n\n  // Staff task operations\n  async getTasksByUserId(userId: string): Promise<StaffTask[]> {\n    return await db\n      .select()\n      .from(staffTasks)\n      .where(eq(staffTasks.assignedTo, userId))\n      .orderBy(asc(staffTasks.dueTime));\n  }\n\n  async createTask(task: InsertStaffTask): Promise<StaffTask> {\n    const [newTask] = await db.insert(staffTasks).values(task).returning();\n    return newTask;\n  }\n\n  async updateTaskStatus(taskId: string, status: string): Promise<StaffTask> {\n    const updateData: any = { status, updatedAt: new Date() };\n    if (status === \"completed\") {\n      updateData.completedAt = new Date();\n    }\n    const [updatedTask] = await db\n      .update(staffTasks)\n      .set(updateData)\n      .where(eq(staffTasks.id, taskId))\n      .returning();\n    return updatedTask;\n  }\n\n  // Medical record operations\n  async getMedicalRecordsByPatientId(patientId: string): Promise<MedicalRecord[]> {\n    return await db\n      .select()\n      .from(medicalRecords)\n      .where(eq(medicalRecords.patientId, patientId))\n      .orderBy(desc(medicalRecords.visitDate));\n  }\n\n  async createMedicalRecord(record: InsertMedicalRecord): Promise<MedicalRecord> {\n    const [newRecord] = await db.insert(medicalRecords).values(record).returning();\n    return newRecord;\n  }\n\n  // Statistics\n  async getStats(): Promise<{\n    currentPatients: number;\n    waitingQueue: number;\n    availableRooms: number;\n    totalRooms: number;\n    activeStaff: number;\n    totalStaff: number;\n  }> {\n    const [queueCount] = await db\n      .select({ count: count() })\n      .from(queue)\n      .where(eq(queue.status, \"waiting\"));\n\n    const [roomStats] = await db\n      .select({\n        total: count(),\n        available: sql<number>`COUNT(CASE WHEN ${rooms.status} = 'available' THEN 1 END)`,\n      })\n      .from(rooms);\n\n    const [staffStats] = await db\n      .select({\n        total: count(),\n        active: sql<number>`COUNT(CASE WHEN ${users.role} IN ('doctor', 'nurse', 'receptionist') THEN 1 END)`,\n      })\n      .from(users);\n\n    const [patientCount] = await db\n      .select({ count: count() })\n      .from(queue)\n      .where(or(eq(queue.status, \"waiting\"), eq(queue.status, \"in_progress\")));\n\n    return {\n      currentPatients: patientCount.count,\n      waitingQueue: queueCount.count,\n      availableRooms: roomStats.available || 0,\n      totalRooms: roomStats.total,\n      activeStaff: staffStats.active || 0,\n      totalStaff: staffStats.total,\n    };\n  }\n\n  // Doctor-specific operations\n  async getDoctorSchedule(doctorId: string): Promise<DoctorSchedule[]> {\n    const schedules = await db.select().from(doctorSchedule).where(eq(doctorSchedule.doctorId, doctorId));\n    return schedules;\n  }\n\n  async createDoctorSchedule(schedule: InsertDoctorSchedule): Promise<DoctorSchedule> {\n    const [newSchedule] = await db.insert(doctorSchedule).values(schedule).returning();\n    return newSchedule;\n  }\n\n  async getDoctorStatus(doctorId: string): Promise<{ status: string; location?: string } | undefined> {\n    const [doctor] = await db.select().from(doctors).where(eq(doctors.userId, doctorId));\n    if (!doctor) return undefined;\n    return { status: doctor.status || 'available', location: doctor.roomNumber || undefined };\n  }\n\n  async updateDoctorStatus(doctorId: string, status: string, location?: string): Promise<{ status: string; location?: string }> {\n    const [doctor] = await db\n      .update(doctors)\n      .set({ \n        status: status as any,\n        roomNumber: location,\n        updatedAt: new Date() \n      })\n      .where(eq(doctors.userId, doctorId))\n      .returning();\n    \n    return { status: doctor.status || status, location: doctor.roomNumber || location };\n  }\n\n  // Prescription operations\n  async createPrescription(prescription: InsertPrescription): Promise<Prescription> {\n    const [newPrescription] = await db.insert(prescriptions).values(prescription).returning();\n    return newPrescription;\n  }\n\n  async getPrescriptionsByDoctorId(doctorId: string): Promise<Prescription[]> {\n    const doctorPrescriptions = await db.select().from(prescriptions).where(eq(prescriptions.doctorId, doctorId));\n    return doctorPrescriptions;\n  }\n\n  // Lab order operations\n  async createLabOrder(labOrder: InsertLabOrder): Promise<LabOrder> {\n    const [newLabOrder] = await db.insert(labOrders).values(labOrder).returning();\n    return newLabOrder;\n  }\n\n  async getLabOrdersByDoctorId(doctorId: string): Promise<LabOrder[]> {\n    // Using existing labOrders table which has different structure\n    const doctorLabOrders = await db.select().from(labOrders).where(eq(labOrders.doctorId, doctorId));\n    return doctorLabOrders;\n  }\n\n  // AI consultation operations\n  async createAiConsultation(consultation: InsertAiConsultation): Promise<AiConsultation> {\n    const [newConsultation] = await db.insert(aiConsultations).values(consultation).returning();\n    return newConsultation;\n  }\n\n  // Consultation notes operations\n  async createConsultationNote(note: InsertConsultationNote): Promise<ConsultationNote> {\n    const [newNote] = await db.insert(consultationNotes).values(note).returning();\n    return newNote;\n  }\n\n  async getConsultationNotes(patientId: number, doctorId: string): Promise<ConsultationNote[]> {\n    const notes = await db\n      .select()\n      .from(consultationNotes)\n      .where(and(\n        eq(consultationNotes.patientId, patientId),\n        eq(consultationNotes.doctorId, doctorId)\n      ))\n      .orderBy(desc(consultationNotes.consultationDate));\n    return notes;\n  }\n\n  // Patient details operations\n  async getPatientDetails(patientId: number): Promise<any> {\n    const [patient] = await db.select().from(patients).where(eq(patients.id, patientId));\n    return patient;\n  }\n\n  async getPatientVitals(patientId: number): Promise<any[]> {\n    const patientVitals = await db\n      .select()\n      .from(vitals)\n      .where(eq(vitals.patientId, patientId.toString()))\n      .orderBy(desc(vitals.recordedAt))\n      .limit(5);\n    return patientVitals;\n  }\n\n  async getPatientMedicalHistory(patientId: number): Promise<any[]> {\n    // Get medical records and diagnoses\n    const records = await db\n      .select()\n      .from(medicalRecords)\n      .where(eq(medicalRecords.patientId, patientId))\n      .orderBy(desc(medicalRecords.createdAt));\n    \n    return records;\n  }\n\n  async getPatientLabResults(patientId: number): Promise<any[]> {\n    // Join lab results with lab tests to get test names\n    const results = await db\n      .select({\n        id: labResults.id,\n        testName: labTests.testName,\n        resultValue: labResults.resultValue,\n        referenceRange: labResults.referenceRange,\n        unit: labResults.unit,\n        status: labResults.status,\n        reportedAt: labResults.reportedAt\n      })\n      .from(labResults)\n      .innerJoin(labTests, eq(labResults.labTestId, labTests.id))\n      .where(eq(labResults.patientId, patientId))\n      .orderBy(desc(labResults.reportedAt))\n      .limit(10);\n    \n    return results;\n  }\n\n  async getPatientMedications(patientId: number): Promise<any[]> {\n    const medications = await db\n      .select()\n      .from(prescriptions)\n      .where(and(\n        eq(prescriptions.patientId, patientId),\n        eq(prescriptions.isActive, true)\n      ))\n      .orderBy(desc(prescriptions.prescribedAt));\n    \n    return medications;\n  }\n\n  async getPatientConsultations(patientId: number): Promise<any[]> {\n    // Get consultations with doctor names\n    const consultationHistory = await db\n      .select({\n        id: consultations.id,\n        consultationTime: consultations.consultationTime,\n        notes: consultations.notes,\n        status: consultations.status,\n        doctorFirstName: users.firstName,\n        doctorLastName: users.lastName\n      })\n      .from(consultations)\n      .innerJoin(users, eq(consultations.doctorId, users.id))\n      .where(eq(consultations.patientId, patientId))\n      .orderBy(desc(consultations.consultationTime))\n      .limit(10);\n    \n    return consultationHistory;\n  }\n}\n\nexport const storage = new DatabaseStorage();\n","size_bytes":19852},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2263},"shared/healthcare-schema.ts":{"content":"import { sql } from 'drizzle-orm';\nimport { relations } from 'drizzle-orm';\nimport {\n  index,\n  jsonb,\n  pgTable,\n  timestamp,\n  varchar,\n  integer,\n  text,\n  boolean,\n  numeric,\n  pgEnum,\n  serial,\n} from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\n// Enums\nexport const userRoleEnum = pgEnum(\"user_role\", [\"admin\", \"doctor\", \"nurse\", \"receptionist\", \"patient\"]);\nexport const roomTypeEnum = pgEnum(\"room_type\", [\"icu\", \"general\", \"private\", \"emergency\", \"operation_theater\", \"consultation\"]);\nexport const priorityEnum = pgEnum(\"priority\", [\"low\", \"normal\", \"high\", \"critical\"]);\nexport const statusEnum = pgEnum(\"status\", [\"scheduled\", \"in_progress\", \"completed\", \"cancelled\", \"waiting\", \"called\", \"pending\", \"approved\", \"rejected\"]);\n\n// Session storage table.\n// (IMPORTANT) This table is mandatory for Replit Auth, don't drop it.\nexport const sessions = pgTable(\n  \"sessions\",\n  {\n    sid: varchar(\"sid\").primaryKey(),\n    sess: jsonb(\"sess\").notNull(),\n    expire: timestamp(\"expire\").notNull(),\n  },\n  (table) => [index(\"IDX_session_expire\").on(table.expire)],\n);\n\n// Core Entity Tables\nexport const hospitals = pgTable(\"hospitals\", {\n  id: serial(\"id\").primaryKey(),\n  name: varchar(\"name\", { length: 255 }).notNull(),\n  address: varchar(\"address\", { length: 500 }).notNull(),\n  branchCode: varchar(\"branch_code\", { length: 50 }).notNull(),\n  contactInfo: varchar(\"contact_info\", { length: 255 }).notNull(),\n  location: varchar(\"location\", { length: 255 }),\n  phone: varchar(\"phone\", { length: 20 }),\n  hipaaCompliant: boolean(\"hipaa_compliant\").default(true),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\nexport const departments = pgTable(\"departments\", {\n  id: serial(\"id\").primaryKey(),\n  name: varchar(\"name\", { length: 255 }).notNull(),\n  description: varchar(\"description\", { length: 500 }),\n  headDoctorId: varchar(\"head_doctor_id\").notNull(),\n  hospitalId: integer(\"hospital_id\").notNull().references(() => hospitals.id),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\nexport const roles = pgTable(\"roles\", {\n  id: serial(\"id\").primaryKey(),\n  name: varchar(\"name\", { length: 100 }).notNull(),\n  description: varchar(\"description\", { length: 500 }),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\nexport const permissions = pgTable(\"permissions\", {\n  id: serial(\"id\").primaryKey(),\n  name: varchar(\"name\", { length: 100 }).notNull(),\n  description: varchar(\"description\", { length: 500 }),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\n// User storage table.\n// (IMPORTANT) This table is mandatory for Replit Auth, don't drop it.\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  username: varchar(\"username\", { length: 100 }).unique(),\n  email: varchar(\"email\", { length: 255 }).notNull(),\n  firstName: varchar(\"first_name\", { length: 100 }),\n  lastName: varchar(\"last_name\", { length: 100 }),\n  profileImageUrl: varchar(\"profile_image_url\", { length: 500 }),\n  role: userRoleEnum(\"role\"),\n  departmentId: integer(\"department_id\").references(() => departments.id),\n  roleId: integer(\"role_id\").references(() => roles.id),\n  phone: varchar(\"phone\", { length: 20 }),\n  salary: numeric(\"salary\", { precision: 10, scale: 2 }),\n  shift: varchar(\"shift\", { length: 50 }),\n  isActive: boolean(\"is_active\").default(true).notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n  deletedAt: timestamp(\"deleted_at\"),\n});\n\nexport const patients = pgTable(\"patients\", {\n  id: serial(\"id\").primaryKey(),\n  name: varchar(\"name\", { length: 255 }),\n  age: integer(\"age\"),\n  phone: varchar(\"phone\", { length: 20 }),\n  abhaId: varchar(\"abha_id\", { length: 50 }),\n  mrn: varchar(\"mrn\", { length: 50 }),\n  height: numeric(\"height\", { precision: 5, scale: 2 }),\n  weight: numeric(\"weight\", { precision: 5, scale: 2 }),\n  emergencyContactName: varchar(\"emergency_contact_name\", { length: 255 }),\n  emergencyContactPhone: varchar(\"emergency_contact_phone\", { length: 20 }),\n  deletedAt: timestamp(\"deleted_at\"),\n});\n\n// Relationship Tables\nexport const userHospitals = pgTable(\"user_hospitals\", {\n  id: serial(\"id\").primaryKey(),\n  userId: varchar(\"user_id\").notNull().references(() => users.id),\n  hospitalId: integer(\"hospital_id\").notNull().references(() => hospitals.id),\n  roleId: integer(\"role_id\").notNull().references(() => roles.id),\n  isPrimary: boolean(\"is_primary\").default(false).notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\nexport const rolePermissions = pgTable(\"role_permissions\", {\n  id: serial(\"id\").primaryKey(),\n  roleId: integer(\"role_id\").notNull().references(() => roles.id),\n  permissionId: integer(\"permission_id\").notNull().references(() => permissions.id),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\nexport const staffAssignments = pgTable(\"staff_assignments\", {\n  id: serial(\"id\").primaryKey(),\n  userId: varchar(\"user_id\").notNull().references(() => users.id),\n  departmentId: integer(\"department_id\").notNull().references(() => departments.id),\n  shift: varchar(\"shift\", { length: 50 }),\n  startDate: timestamp(\"start_date\"),\n  endDate: timestamp(\"end_date\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n  deletedAt: timestamp(\"deleted_at\"),\n});\n\n// Clinical Tables\nexport const consultations = pgTable(\"consultations\", {\n  id: serial(\"id\").primaryKey(),\n  patientId: integer(\"patient_id\").notNull().references(() => patients.id),\n  doctorId: varchar(\"doctor_id\").notNull().references(() => users.id),\n  hospitalId: integer(\"hospital_id\").notNull().references(() => hospitals.id),\n  consultationTime: timestamp(\"consultation_time\").notNull(),\n  notes: text(\"notes\"),\n  status: statusEnum(\"status\").default(\"scheduled\").notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\nexport const vitals = pgTable(\"vitals\", {\n  id: serial(\"id\").primaryKey(),\n  patientId: integer(\"patient_id\").notNull().references(() => patients.id),\n  doctorId: varchar(\"doctor_id\").references(() => users.id),\n  consultationId: integer(\"consultation_id\").references(() => consultations.id),\n  hospitalId: integer(\"hospital_id\").notNull().references(() => hospitals.id),\n  heightCm: numeric(\"height_cm\", { precision: 5, scale: 2 }),\n  weightKg: numeric(\"weight_kg\", { precision: 5, scale: 2 }),\n  bloodPressure: varchar(\"blood_pressure\", { length: 20 }),\n  heartRate: integer(\"heart_rate\"),\n  respiratoryRate: integer(\"respiratory_rate\"),\n  temperatureC: numeric(\"temperature_c\", { precision: 4, scale: 1 }),\n  oxygenSaturation: numeric(\"oxygen_saturation\", { precision: 5, scale: 2 }),\n  recordedAt: timestamp(\"recorded_at\").notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\nexport const appointments = pgTable(\"appointments\", {\n  id: serial(\"id\").primaryKey(),\n  patientId: integer(\"patient_id\").notNull().references(() => patients.id),\n  doctorId: varchar(\"doctor_id\").notNull().references(() => users.id),\n  hospitalId: integer(\"hospital_id\").notNull().references(() => hospitals.id),\n  appointmentDate: timestamp(\"appointment_date\").notNull(),\n  duration: integer(\"duration\").default(30).notNull(),\n  status: statusEnum(\"status\").default(\"scheduled\").notNull(),\n  notes: text(\"notes\"),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\nexport const prescriptions = pgTable(\"prescriptions\", {\n  id: serial(\"id\").primaryKey(),\n  patientId: integer(\"patient_id\").notNull().references(() => patients.id),\n  doctorId: varchar(\"doctor_id\").notNull().references(() => users.id),\n  consultationId: integer(\"consultation_id\").references(() => consultations.id),\n  hospitalId: integer(\"hospital_id\").notNull().references(() => hospitals.id),\n  medicationName: varchar(\"medication_name\", { length: 255 }).notNull(),\n  dosage: varchar(\"dosage\", { length: 100 }).notNull(),\n  frequency: varchar(\"frequency\", { length: 100 }).notNull(),\n  duration: varchar(\"duration\", { length: 100 }).notNull(),\n  instructions: varchar(\"instructions\", { length: 500 }),\n  isActive: boolean(\"is_active\").default(true).notNull(),\n  prescribedAt: timestamp(\"prescribed_at\").notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\nexport const medicalRecords = pgTable(\"medical_records\", {\n  id: serial(\"id\").primaryKey(),\n  patientId: integer(\"patient_id\").notNull().references(() => patients.id),\n  doctorId: varchar(\"doctor_id\").notNull().references(() => users.id),\n  consultationId: integer(\"consultation_id\").references(() => consultations.id),\n  hospitalId: integer(\"hospital_id\").notNull().references(() => hospitals.id),\n  recordType: varchar(\"record_type\", { length: 100 }).notNull(),\n  content: text(\"content\").notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\nexport const diagnoses = pgTable(\"diagnoses\", {\n  id: serial(\"id\").primaryKey(),\n  patientId: integer(\"patient_id\").notNull().references(() => patients.id),\n  doctorId: varchar(\"doctor_id\").notNull().references(() => users.id),\n  consultationId: integer(\"consultation_id\").references(() => consultations.id),\n  hospitalId: integer(\"hospital_id\").notNull().references(() => hospitals.id),\n  diagnosisCode: varchar(\"diagnosis_code\", { length: 50 }).notNull(),\n  diagnosisName: varchar(\"diagnosis_name\", { length: 255 }).notNull(),\n  description: text(\"description\"),\n  severity: varchar(\"severity\", { length: 50 }),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\n// Laboratory Tables\nexport const labTests = pgTable(\"lab_tests\", {\n  id: serial(\"id\").primaryKey(),\n  testName: varchar(\"test_name\", { length: 255 }).notNull(),\n  testCode: varchar(\"test_code\", { length: 50 }).notNull(),\n  description: text(\"description\"),\n  price: numeric(\"price\", { precision: 10, scale: 2 }).notNull(),\n  departmentId: integer(\"department_id\").notNull().references(() => departments.id),\n  hospitalId: integer(\"hospital_id\").notNull().references(() => hospitals.id),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\nexport const labOrders = pgTable(\"lab_orders\", {\n  id: serial(\"id\").primaryKey(),\n  patientId: integer(\"patient_id\").notNull().references(() => patients.id),\n  labTestId: integer(\"lab_test_id\").notNull().references(() => labTests.id),\n  orderedBy: varchar(\"ordered_by\").notNull().references(() => users.id),\n  hospitalId: integer(\"hospital_id\").notNull().references(() => hospitals.id),\n  orderDate: timestamp(\"order_date\").notNull(),\n  status: statusEnum(\"status\").default(\"pending\").notNull(),\n  notes: text(\"notes\"),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\nexport const labResults = pgTable(\"lab_results\", {\n  id: serial(\"id\").primaryKey(),\n  patientId: integer(\"patient_id\").notNull().references(() => patients.id),\n  labTestId: integer(\"lab_test_id\").notNull().references(() => labTests.id),\n  consultationId: integer(\"consultation_id\").references(() => consultations.id),\n  hospitalId: integer(\"hospital_id\").notNull().references(() => hospitals.id),\n  resultValue: varchar(\"result_value\", { length: 255 }).notNull(),\n  referenceRange: varchar(\"reference_range\", { length: 100 }),\n  unit: varchar(\"unit\", { length: 50 }),\n  status: varchar(\"status\", { length: 50 }).default(\"normal\").notNull(),\n  reportedAt: timestamp(\"reported_at\").notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\n// Facility Management Tables\nexport const rooms = pgTable(\"rooms\", {\n  id: serial(\"id\").primaryKey(),\n  roomNumber: varchar(\"room_number\", { length: 50 }).notNull(),\n  roomType: roomTypeEnum(\"room_type\").notNull(),\n  capacity: integer(\"capacity\").default(0).notNull(),\n  isAvailable: boolean(\"is_available\").default(true).notNull(),\n  hospitalId: integer(\"hospital_id\").notNull().references(() => hospitals.id),\n  departmentId: integer(\"department_id\").references(() => departments.id),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\nexport const beds = pgTable(\"beds\", {\n  id: serial(\"id\").primaryKey(),\n  bedNumber: varchar(\"bed_number\", { length: 50 }).notNull(),\n  isOccupied: boolean(\"is_occupied\").default(false).notNull(),\n  patientId: integer(\"patient_id\").references(() => patients.id),\n  roomId: integer(\"room_id\").notNull().references(() => rooms.id),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\nexport const wards = pgTable(\"wards\", {\n  id: serial(\"id\").primaryKey(),\n  name: varchar(\"name\", { length: 255 }).notNull(),\n  capacity: integer(\"capacity\").notNull(),\n  hospitalId: integer(\"hospital_id\").notNull().references(() => hospitals.id),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n  deletedAt: timestamp(\"deleted_at\"),\n});\n\n// Operational Tables\nexport const queueEntries = pgTable(\"queue_entries\", {\n  id: serial(\"id\").primaryKey(),\n  queueNumber: varchar(\"queue_number\", { length: 50 }).notNull(),\n  priority: priorityEnum(\"priority\").default(\"normal\").notNull(),\n  status: statusEnum(\"status\").default(\"waiting\").notNull(),\n  estimatedWaitTime: integer(\"estimated_wait_time\"),\n  checkedInAt: timestamp(\"checked_in_at\").notNull(),\n  calledAt: timestamp(\"called_at\"),\n  completedAt: timestamp(\"completed_at\"),\n  patientId: integer(\"patient_id\").notNull().references(() => patients.id),\n  hospitalId: integer(\"hospital_id\").notNull().references(() => hospitals.id),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\nexport const notifications = pgTable(\"notifications\", {\n  id: serial(\"id\").primaryKey(),\n  title: varchar(\"title\", { length: 255 }).notNull(),\n  message: text(\"message\").notNull(),\n  type: varchar(\"type\", { length: 50 }).notNull(),\n  isRead: boolean(\"is_read\").default(false).notNull(),\n  userId: varchar(\"user_id\").references(() => users.id),\n  hospitalId: integer(\"hospital_id\").references(() => hospitals.id),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\n// Financial Tables  \nexport const invoices = pgTable(\"invoices\", {\n  id: serial(\"id\").primaryKey(),\n  invoiceNumber: varchar(\"invoice_number\", { length: 100 }).notNull(),\n  amount: numeric(\"amount\", { precision: 10, scale: 2 }).notNull(),\n  status: statusEnum(\"status\").default(\"pending\").notNull(),\n  dueDate: timestamp(\"due_date\").notNull(),\n  patientId: integer(\"patient_id\").notNull().references(() => patients.id),\n  hospitalId: integer(\"hospital_id\").notNull().references(() => hospitals.id),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\nexport const insuranceClaims = pgTable(\"insurance_claims\", {\n  id: serial(\"id\").primaryKey(),\n  claimNumber: varchar(\"claim_number\", { length: 100 }).notNull(),\n  amount: numeric(\"amount\", { precision: 10, scale: 2 }).notNull(),\n  status: statusEnum(\"status\").default(\"pending\").notNull(),\n  submittedAt: timestamp(\"submitted_at\").notNull(),\n  processedAt: timestamp(\"processed_at\"),\n  patientId: integer(\"patient_id\").notNull().references(() => patients.id),\n  hospitalId: integer(\"hospital_id\").notNull().references(() => hospitals.id),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\n// Supporting Tables\nexport const documents = pgTable(\"documents\", {\n  id: serial(\"id\").primaryKey(),\n  fileName: varchar(\"file_name\", { length: 255 }).notNull(),\n  filePath: varchar(\"file_path\", { length: 500 }).notNull(),\n  fileType: varchar(\"file_type\", { length: 100 }).notNull(),\n  fileSize: integer(\"file_size\").notNull(),\n  patientId: integer(\"patient_id\").notNull().references(() => patients.id),\n  hospitalId: integer(\"hospital_id\").notNull().references(() => hospitals.id),\n  uploadedBy: varchar(\"uploaded_by\").notNull().references(() => users.id),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\nexport const auditLogs = pgTable(\"audit_logs\", {\n  id: serial(\"id\").primaryKey(),\n  action: varchar(\"action\", { length: 100 }).notNull(),\n  tableName: varchar(\"table_name\", { length: 100 }).notNull(),\n  recordId: integer(\"record_id\"),\n  oldValues: jsonb(\"old_values\"),\n  newValues: jsonb(\"new_values\"),\n  userId: varchar(\"user_id\").references(() => users.id),\n  hospitalId: integer(\"hospital_id\").references(() => hospitals.id),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\n// Insert schemas\nexport const insertPatientSchema = createInsertSchema(patients);\nexport const insertConsultationSchema = createInsertSchema(consultations);\nexport const insertAppointmentSchema = createInsertSchema(appointments);\nexport const insertQueueEntrySchema = createInsertSchema(queueEntries);\nexport const insertVitalSchema = createInsertSchema(vitals);\nexport const insertPrescriptionSchema = createInsertSchema(prescriptions);\nexport const insertLabOrderSchema = createInsertSchema(labOrders);\nexport const insertLabResultSchema = createInsertSchema(labResults);\n\n// Type exports\nexport type UpsertUser = typeof users.$inferInsert;\nexport type User = typeof users.$inferSelect;\nexport type Hospital = typeof hospitals.$inferSelect;\nexport type Patient = typeof patients.$inferSelect;\nexport type InsertPatient = z.infer<typeof insertPatientSchema>;\nexport type Department = typeof departments.$inferSelect;\nexport type Consultation = typeof consultations.$inferSelect;\nexport type InsertConsultation = z.infer<typeof insertConsultationSchema>;\nexport type Appointment = typeof appointments.$inferSelect;\nexport type InsertAppointment = z.infer<typeof insertAppointmentSchema>;\nexport type QueueEntry = typeof queueEntries.$inferSelect;\nexport type InsertQueueEntry = z.infer<typeof insertQueueEntrySchema>;\nexport type Room = typeof rooms.$inferSelect;\nexport type Bed = typeof beds.$inferSelect;\nexport type Vital = typeof vitals.$inferSelect;\nexport type InsertVital = z.infer<typeof insertVitalSchema>;\nexport type Prescription = typeof prescriptions.$inferSelect;\nexport type LabOrder = typeof labOrders.$inferSelect;\nexport type LabResult = typeof labResults.$inferSelect;\nexport type Notification = typeof notifications.$inferSelect;","size_bytes":19368},"shared/schema.ts":{"content":"import { sql, relations } from \"drizzle-orm\";\nimport {\n  index,\n  jsonb,\n  pgTable,\n  timestamp,\n  varchar,\n  text,\n  integer,\n  boolean,\n  pgEnum,\n  serial,\n  numeric,\n} from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\n// Session storage table for Replit Auth\nexport const sessions = pgTable(\n  \"sessions\",\n  {\n    sid: varchar(\"sid\").primaryKey(),\n    sess: jsonb(\"sess\").notNull(),\n    expire: timestamp(\"expire\").notNull(),\n  },\n  (table) => [index(\"IDX_session_expire\").on(table.expire)],\n);\n\n// User roles enum\nexport const userRoleEnum = pgEnum(\"user_role\", [\n  \"admin\",\n  \"doctor\",\n  \"nurse\", \n  \"receptionist\",\n  \"patient\"\n]);\n\n// Room status enum\nexport const roomStatusEnum = pgEnum(\"room_status\", [\n  \"available\",\n  \"occupied\", \n  \"cleaning\",\n  \"maintenance\",\n  \"reserved\"\n]);\n\n// Room type enum\nexport const roomTypeEnum = pgEnum(\"room_type\", [\n  \"icu\",\n  \"general\",\n  \"private\", \n  \"emergency\",\n  \"operation_theater\",\n  \"consultation\"\n]);\n\n// Doctor status enum\nexport const doctorStatusEnum = pgEnum(\"doctor_status\", [\n  \"available\",\n  \"busy\",\n  \"on_break\",\n  \"emergency\",\n  \"off_duty\"\n]);\n\n// Queue status enum\nexport const queueStatusEnum = pgEnum(\"queue_status\", [\n  \"waiting\",\n  \"in_progress\",\n  \"completed\",\n  \"cancelled\"\n]);\n\n// General status enum\nexport const statusEnum = pgEnum(\"status\", [\n  \"scheduled\",\n  \"in_progress\", \n  \"completed\",\n  \"cancelled\",\n  \"waiting\",\n  \"called\",\n  \"pending\",\n  \"approved\",\n  \"rejected\"\n]);\n\n// Priority enum\nexport const priorityEnum = pgEnum(\"priority\", [\n  \"low\",\n  \"normal\", \n  \"high\",\n  \"urgent\",\n  \"emergency\"\n]);\n\n// Core Healthcare Entity Tables\nexport const hospitals = pgTable(\"hospitals\", {\n  id: serial(\"id\").primaryKey(),\n  name: varchar(\"name\", { length: 255 }).notNull(),\n  address: varchar(\"address\", { length: 500 }).notNull(),\n  branchCode: varchar(\"branch_code\", { length: 50 }).notNull(),\n  contactInfo: varchar(\"contact_info\", { length: 255 }).notNull(),\n  location: varchar(\"location\", { length: 255 }),\n  phone: varchar(\"phone\", { length: 20 }),\n  hipaaCompliant: boolean(\"hipaa_compliant\").default(true),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\nexport const departments = pgTable(\"departments\", {\n  id: serial(\"id\").primaryKey(),\n  name: varchar(\"name\", { length: 255 }).notNull(),\n  description: varchar(\"description\", { length: 500 }),\n  headDoctorId: varchar(\"head_doctor_id\"),\n  hospitalId: integer(\"hospital_id\").notNull().references(() => hospitals.id),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\n// Users table for Replit Auth - Extended for Healthcare\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  email: varchar(\"email\").unique(),\n  firstName: varchar(\"first_name\"),\n  lastName: varchar(\"last_name\"),\n  profileImageUrl: varchar(\"profile_image_url\"),\n  role: userRoleEnum(\"role\"),\n  departmentId: integer(\"department_id\").references(() => departments.id),\n  phone: varchar(\"phone\", { length: 20 }),\n  salary: numeric(\"salary\", { precision: 10, scale: 2 }),\n  shift: varchar(\"shift\", { length: 50 }),\n  isActive: boolean(\"is_active\").default(true).notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\n// Doctors table\nexport const doctors = pgTable(\"doctors\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").references(() => users.id, { onDelete: \"cascade\" }),\n  specialty: varchar(\"specialty\").notNull(),\n  licenseNumber: varchar(\"license_number\").unique(),\n  status: doctorStatusEnum(\"status\").default(\"available\"),\n  roomNumber: varchar(\"room_number\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\n// Patients table - Extended for Healthcare System\nexport const patients = pgTable(\"patients\", {\n  id: serial(\"id\").primaryKey(),\n  userId: varchar(\"user_id\").references(() => users.id, { onDelete: \"cascade\" }).unique(),\n  patientId: varchar(\"patient_id\").unique(),\n  name: varchar(\"name\", { length: 255 }),\n  age: integer(\"age\"),\n  phone: varchar(\"phone\", { length: 20 }),\n  abhaId: varchar(\"abha_id\", { length: 50 }),\n  mrn: varchar(\"mrn\", { length: 50 }),\n  dateOfBirth: timestamp(\"date_of_birth\"),\n  gender: varchar(\"gender\"),\n  bloodType: varchar(\"blood_type\"),\n  height: numeric(\"height\", { precision: 5, scale: 2 }),\n  weight: numeric(\"weight\", { precision: 5, scale: 2 }),\n  allergies: text(\"allergies\"),\n  emergencyContactName: varchar(\"emergency_contact_name\", { length: 255 }),\n  emergencyContactPhone: varchar(\"emergency_contact_phone\", { length: 20 }),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n  deletedAt: timestamp(\"deleted_at\"),\n});\n\n// Facility Management Tables\nexport const rooms = pgTable(\"rooms\", {\n  id: serial(\"id\").primaryKey(),\n  roomNumber: varchar(\"room_number\", { length: 50 }).notNull(),\n  roomType: roomTypeEnum(\"room_type\").notNull(),\n  capacity: integer(\"capacity\").default(0).notNull(),\n  totalBeds: integer(\"total_beds\").default(1),\n  occupiedBeds: integer(\"occupied_beds\").default(0),\n  isAvailable: boolean(\"is_available\").default(true).notNull(),\n  status: roomStatusEnum(\"status\").default(\"available\"),\n  floor: integer(\"floor\"),\n  hospitalId: integer(\"hospital_id\").references(() => hospitals.id),\n  departmentId: integer(\"department_id\").references(() => departments.id),\n  equipment: text(\"equipment\").array(),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\nexport const beds = pgTable(\"beds\", {\n  id: serial(\"id\").primaryKey(),\n  bedNumber: varchar(\"bed_number\", { length: 50 }).notNull(),\n  isOccupied: boolean(\"is_occupied\").default(false).notNull(),\n  patientId: integer(\"patient_id\").references(() => patients.id),\n  roomId: integer(\"room_id\").notNull().references(() => rooms.id),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\nexport const wards = pgTable(\"wards\", {\n  id: serial(\"id\").primaryKey(),\n  name: varchar(\"name\", { length: 255 }).notNull(),\n  capacity: integer(\"capacity\").notNull(),\n  hospitalId: integer(\"hospital_id\").notNull().references(() => hospitals.id),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n  deletedAt: timestamp(\"deleted_at\"),\n});\n\n// Clinical Tables\nexport const consultations = pgTable(\"consultations\", {\n  id: serial(\"id\").primaryKey(),\n  patientId: integer(\"patient_id\").notNull().references(() => patients.id),\n  doctorId: varchar(\"doctor_id\").notNull().references(() => users.id),\n  hospitalId: integer(\"hospital_id\").references(() => hospitals.id),\n  consultationTime: timestamp(\"consultation_time\").notNull(),\n  notes: text(\"notes\"),\n  status: statusEnum(\"status\").default(\"scheduled\").notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\nexport const prescriptions = pgTable(\"prescriptions\", {\n  id: serial(\"id\").primaryKey(),\n  patientId: integer(\"patient_id\").notNull().references(() => patients.id),\n  doctorId: varchar(\"doctor_id\").notNull().references(() => users.id),\n  consultationId: integer(\"consultation_id\").references(() => consultations.id),\n  hospitalId: integer(\"hospital_id\").references(() => hospitals.id),\n  medicationName: varchar(\"medication_name\", { length: 255 }).notNull(),\n  dosage: varchar(\"dosage\", { length: 100 }).notNull(),\n  frequency: varchar(\"frequency\", { length: 100 }).notNull(),\n  duration: varchar(\"duration\", { length: 100 }).notNull(),\n  instructions: varchar(\"instructions\", { length: 500 }),\n  isActive: boolean(\"is_active\").default(true).notNull(),\n  prescribedAt: timestamp(\"prescribed_at\").notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\nexport const diagnoses = pgTable(\"diagnoses\", {\n  id: serial(\"id\").primaryKey(),\n  patientId: integer(\"patient_id\").notNull().references(() => patients.id),\n  doctorId: varchar(\"doctor_id\").notNull().references(() => users.id),\n  consultationId: integer(\"consultation_id\").references(() => consultations.id),\n  hospitalId: integer(\"hospital_id\").references(() => hospitals.id),\n  diagnosisCode: varchar(\"diagnosis_code\", { length: 50 }).notNull(),\n  diagnosisName: varchar(\"diagnosis_name\", { length: 255 }).notNull(),\n  description: text(\"description\"),\n  severity: varchar(\"severity\", { length: 50 }),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\n// Laboratory Tables\nexport const labTests = pgTable(\"lab_tests\", {\n  id: serial(\"id\").primaryKey(),\n  testName: varchar(\"test_name\", { length: 255 }).notNull(),\n  testCode: varchar(\"test_code\", { length: 50 }).notNull(),\n  description: text(\"description\"),\n  price: numeric(\"price\", { precision: 10, scale: 2 }).notNull(),\n  departmentId: integer(\"department_id\").references(() => departments.id),\n  hospitalId: integer(\"hospital_id\").references(() => hospitals.id),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\nexport const labOrders = pgTable(\"lab_orders\", {\n  id: serial(\"id\").primaryKey(),\n  patientId: integer(\"patient_id\").notNull().references(() => patients.id),\n  labTestId: integer(\"lab_test_id\").notNull().references(() => labTests.id),\n  orderedBy: varchar(\"ordered_by\").notNull().references(() => users.id),\n  hospitalId: integer(\"hospital_id\").references(() => hospitals.id),\n  orderDate: timestamp(\"order_date\").notNull(),\n  status: statusEnum(\"status\").default(\"pending\").notNull(),\n  notes: text(\"notes\"),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\nexport const labResults = pgTable(\"lab_results\", {\n  id: serial(\"id\").primaryKey(),\n  patientId: integer(\"patient_id\").notNull().references(() => patients.id),\n  labTestId: integer(\"lab_test_id\").notNull().references(() => labTests.id),\n  consultationId: integer(\"consultation_id\").references(() => consultations.id),\n  hospitalId: integer(\"hospital_id\").references(() => hospitals.id),\n  resultValue: varchar(\"result_value\", { length: 255 }).notNull(),\n  referenceRange: varchar(\"reference_range\", { length: 100 }),\n  unit: varchar(\"unit\", { length: 50 }),\n  status: varchar(\"status\", { length: 50 }).default(\"normal\").notNull(),\n  reportedAt: timestamp(\"reported_at\").notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\n// Queue table - Enhanced for Healthcare\nexport const queue = pgTable(\"queue\", {\n  id: serial(\"id\").primaryKey(),\n  queueNumber: varchar(\"queue_number\", { length: 50 }).notNull(),\n  patientId: integer(\"patient_id\").references(() => patients.id, { onDelete: \"cascade\" }),\n  doctorId: varchar(\"doctor_id\").references(() => doctors.id, { onDelete: \"set null\" }),\n  hospitalId: integer(\"hospital_id\").references(() => hospitals.id),\n  queuePosition: integer(\"queue_position\"),\n  reasonForVisit: varchar(\"reason_for_visit\"),\n  category: varchar(\"category\"),\n  priority: priorityEnum(\"priority\").default(\"normal\"),\n  status: queueStatusEnum(\"status\").default(\"waiting\"),\n  checkinTime: timestamp(\"checkin_time\").defaultNow(),\n  calledAt: timestamp(\"called_at\"),\n  completedAt: timestamp(\"completed_at\"),\n  estimatedWaitTime: integer(\"estimated_wait_time\"),\n  roomAssigned: varchar(\"room_assigned\"),\n  notes: text(\"notes\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\n// Supporting Tables\nexport const notifications = pgTable(\"notifications\", {\n  id: serial(\"id\").primaryKey(),\n  title: varchar(\"title\", { length: 255 }).notNull(),\n  message: text(\"message\").notNull(),\n  type: varchar(\"type\", { length: 50 }).notNull(),\n  isRead: boolean(\"is_read\").default(false).notNull(),\n  userId: varchar(\"user_id\").references(() => users.id),\n  hospitalId: integer(\"hospital_id\").references(() => hospitals.id),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\nexport const invoices = pgTable(\"invoices\", {\n  id: serial(\"id\").primaryKey(),\n  invoiceNumber: varchar(\"invoice_number\", { length: 100 }).notNull(),\n  amount: numeric(\"amount\", { precision: 10, scale: 2 }).notNull(),\n  status: statusEnum(\"status\").default(\"pending\").notNull(),\n  dueDate: timestamp(\"due_date\").notNull(),\n  patientId: integer(\"patient_id\").notNull().references(() => patients.id),\n  hospitalId: integer(\"hospital_id\").references(() => hospitals.id),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\nexport const insuranceClaims = pgTable(\"insurance_claims\", {\n  id: serial(\"id\").primaryKey(),\n  claimNumber: varchar(\"claim_number\", { length: 100 }).notNull(),\n  amount: numeric(\"amount\", { precision: 10, scale: 2 }).notNull(),\n  status: statusEnum(\"status\").default(\"pending\").notNull(),\n  submittedAt: timestamp(\"submitted_at\").notNull(),\n  processedAt: timestamp(\"processed_at\"),\n  patientId: integer(\"patient_id\").notNull().references(() => patients.id),\n  hospitalId: integer(\"hospital_id\").references(() => hospitals.id),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\n// Vitals table - Enhanced for Healthcare\nexport const vitals = pgTable(\"vitals\", {\n  id: serial(\"id\").primaryKey(),\n  patientId: integer(\"patient_id\").references(() => patients.id, { onDelete: \"cascade\" }),\n  queueId: integer(\"queue_id\").references(() => queue.id, { onDelete: \"cascade\" }),\n  doctorId: varchar(\"doctor_id\").references(() => users.id),\n  consultationId: integer(\"consultation_id\").references(() => consultations.id),\n  hospitalId: integer(\"hospital_id\").references(() => hospitals.id),\n  heightCm: numeric(\"height_cm\", { precision: 5, scale: 2 }),\n  weightKg: numeric(\"weight_kg\", { precision: 5, scale: 2 }),\n  bloodPressure: varchar(\"blood_pressure\", { length: 20 }),\n  bloodPressureSystolic: integer(\"blood_pressure_systolic\"),\n  bloodPressureDiastolic: integer(\"blood_pressure_diastolic\"),\n  heartRate: integer(\"heart_rate\"),\n  respiratoryRate: integer(\"respiratory_rate\"),\n  temperature: integer(\"temperature\"), // in Fahrenheit * 10\n  temperatureC: numeric(\"temperature_c\", { precision: 4, scale: 1 }),\n  oxygenSaturation: numeric(\"oxygen_saturation\", { precision: 5, scale: 2 }),\n  weight: integer(\"weight\"), // legacy weight in pounds * 10\n  height: integer(\"height\"), // legacy height in inches\n  recordedBy: varchar(\"recorded_by\").references(() => users.id),\n  recordedAt: timestamp(\"recorded_at\").defaultNow(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n});\n\n// Appointments table\nexport const appointments = pgTable(\"appointments\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  patientId: varchar(\"patient_id\").references(() => patients.id, { onDelete: \"cascade\" }),\n  doctorId: varchar(\"doctor_id\").references(() => doctors.id, { onDelete: \"cascade\" }),\n  scheduledTime: timestamp(\"scheduled_time\").notNull(),\n  appointmentType: varchar(\"appointment_type\").notNull(),\n  duration: integer(\"duration\").default(30), // in minutes\n  status: varchar(\"status\").default(\"scheduled\"), // scheduled, completed, cancelled, no_show\n  roomNumber: varchar(\"room_number\"),\n  notes: text(\"notes\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\n// Staff tasks table\nexport const staffTasks = pgTable(\"staff_tasks\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  assignedTo: varchar(\"assigned_to\").references(() => users.id, { onDelete: \"cascade\" }),\n  taskType: varchar(\"task_type\").notNull(), // medication, vitals, assessment, etc.\n  description: text(\"description\").notNull(),\n  patientId: varchar(\"patient_id\").references(() => patients.id, { onDelete: \"cascade\" }),\n  priority: priorityEnum(\"priority\").default(\"normal\"),\n  status: varchar(\"status\").default(\"pending\"), // pending, in_progress, completed\n  dueTime: timestamp(\"due_time\"),\n  completedAt: timestamp(\"completed_at\"),\n  createdBy: varchar(\"created_by\").references(() => users.id),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\n// Medical records table\nexport const medicalRecords = pgTable(\"medical_records\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  patientId: varchar(\"patient_id\").references(() => patients.id, { onDelete: \"cascade\" }),\n  doctorId: varchar(\"doctor_id\").references(() => doctors.id),\n  visitDate: timestamp(\"visit_date\").defaultNow(),\n  diagnosis: text(\"diagnosis\"),\n  prescription: text(\"prescription\"),\n  notes: text(\"notes\"),\n  followUpRequired: boolean(\"follow_up_required\").default(false),\n  followUpDate: timestamp(\"follow_up_date\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\n// Relations\nexport const usersRelations = relations(users, ({ one, many }) => ({\n  doctor: one(doctors, {\n    fields: [users.id],\n    references: [doctors.userId],\n  }),\n  patient: one(patients, {\n    fields: [users.id],\n    references: [patients.userId],\n  }),\n  assignedTasks: many(staffTasks),\n  createdTasks: many(staffTasks),\n  vitalsRecorded: many(vitals),\n}));\n\nexport const doctorsRelations = relations(doctors, ({ one, many }) => ({\n  user: one(users, {\n    fields: [doctors.userId],\n    references: [users.id],\n  }),\n  queueItems: many(queue),\n  appointments: many(appointments),\n  medicalRecords: many(medicalRecords),\n}));\n\nexport const patientsRelations = relations(patients, ({ one, many }) => ({\n  user: one(users, {\n    fields: [patients.userId],\n    references: [users.id],\n  }),\n  queueItems: many(queue),\n  vitals: many(vitals),\n  appointments: many(appointments),\n  tasks: many(staffTasks),\n  medicalRecords: many(medicalRecords),\n}));\n\nexport const queueRelations = relations(queue, ({ one, many }) => ({\n  patient: one(patients, {\n    fields: [queue.patientId],\n    references: [patients.id],\n  }),\n  doctor: one(doctors, {\n    fields: [queue.doctorId],\n    references: [doctors.id],\n  }),\n  vitals: many(vitals),\n}));\n\nexport const vitalsRelations = relations(vitals, ({ one }) => ({\n  patient: one(patients, {\n    fields: [vitals.patientId],\n    references: [patients.id],\n  }),\n  queueItem: one(queue, {\n    fields: [vitals.queueId],\n    references: [queue.id],\n  }),\n  recordedByUser: one(users, {\n    fields: [vitals.recordedBy],\n    references: [users.id],\n  }),\n}));\n\nexport const appointmentsRelations = relations(appointments, ({ one }) => ({\n  patient: one(patients, {\n    fields: [appointments.patientId],\n    references: [patients.id],\n  }),\n  doctor: one(doctors, {\n    fields: [appointments.doctorId],\n    references: [doctors.id],\n  }),\n}));\n\nexport const staffTasksRelations = relations(staffTasks, ({ one }) => ({\n  assignedToUser: one(users, {\n    fields: [staffTasks.assignedTo],\n    references: [users.id],\n  }),\n  patient: one(patients, {\n    fields: [staffTasks.patientId],\n    references: [patients.id],\n  }),\n  createdByUser: one(users, {\n    fields: [staffTasks.createdBy],\n    references: [users.id],\n  }),\n}));\n\nexport const medicalRecordsRelations = relations(medicalRecords, ({ one }) => ({\n  patient: one(patients, {\n    fields: [medicalRecords.patientId],\n    references: [patients.id],\n  }),\n  doctor: one(doctors, {\n    fields: [medicalRecords.doctorId],\n    references: [doctors.id],\n  }),\n}));\n\n// Insert schemas\nexport const insertUserSchema = createInsertSchema(users).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertDoctorSchema = createInsertSchema(doctors).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertPatientSchema = createInsertSchema(patients).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertRoomSchema = createInsertSchema(rooms).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertQueueSchema = createInsertSchema(queue).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertVitalsSchema = createInsertSchema(vitals).omit({\n  id: true,\n});\n\nexport const insertAppointmentSchema = createInsertSchema(appointments).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertStaffTaskSchema = createInsertSchema(staffTasks).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertMedicalRecordSchema = createInsertSchema(medicalRecords).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\n// Healthcare System Insert Schemas\nexport const insertHospitalSchema = createInsertSchema(hospitals).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertDepartmentSchema = createInsertSchema(departments).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertConsultationSchema = createInsertSchema(consultations).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertPrescriptionSchema = createInsertSchema(prescriptions).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertDiagnosisSchema = createInsertSchema(diagnoses).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertLabTestSchema = createInsertSchema(labTests).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertLabOrderSchema = createInsertSchema(labOrders).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertLabResultSchema = createInsertSchema(labResults).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertNotificationSchema = createInsertSchema(notifications).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertInvoiceSchema = createInsertSchema(invoices).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertInsuranceClaimSchema = createInsertSchema(insuranceClaims).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertBedSchema = createInsertSchema(beds).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertWardSchema = createInsertSchema(wards).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\n// Types\nexport type UpsertUser = typeof users.$inferInsert;\nexport type User = typeof users.$inferSelect & {\n  role?: 'admin' | 'doctor' | 'nurse' | 'receptionist' | 'patient';\n};\nexport type InsertDoctor = z.infer<typeof insertDoctorSchema>;\nexport type Doctor = typeof doctors.$inferSelect;\nexport type InsertPatient = z.infer<typeof insertPatientSchema>;\nexport type Patient = typeof patients.$inferSelect;\nexport type InsertRoom = z.infer<typeof insertRoomSchema>;\nexport type Room = typeof rooms.$inferSelect;\nexport type InsertQueue = z.infer<typeof insertQueueSchema>;\nexport type QueueItem = typeof queue.$inferSelect;\nexport type InsertVitals = z.infer<typeof insertVitalsSchema>;\nexport type Vitals = typeof vitals.$inferSelect;\nexport type InsertAppointment = z.infer<typeof insertAppointmentSchema>;\nexport type Appointment = typeof appointments.$inferSelect;\nexport type InsertStaffTask = z.infer<typeof insertStaffTaskSchema>;\nexport type StaffTask = typeof staffTasks.$inferSelect;\nexport type InsertMedicalRecord = z.infer<typeof insertMedicalRecordSchema>;\nexport type MedicalRecord = typeof medicalRecords.$inferSelect;\n\n// Healthcare System Types\nexport type Hospital = typeof hospitals.$inferSelect;\nexport type InsertHospital = z.infer<typeof insertHospitalSchema>;\nexport type Department = typeof departments.$inferSelect;\nexport type InsertDepartment = z.infer<typeof insertDepartmentSchema>;\nexport type Consultation = typeof consultations.$inferSelect;\nexport type InsertConsultation = z.infer<typeof insertConsultationSchema>;\nexport type Prescription = typeof prescriptions.$inferSelect;\nexport type InsertPrescription = z.infer<typeof insertPrescriptionSchema>;\nexport type Diagnosis = typeof diagnoses.$inferSelect;\nexport type InsertDiagnosis = z.infer<typeof insertDiagnosisSchema>;\nexport type LabTest = typeof labTests.$inferSelect;\nexport type InsertLabTest = z.infer<typeof insertLabTestSchema>;\nexport type LabOrder = typeof labOrders.$inferSelect;\nexport type InsertLabOrder = z.infer<typeof insertLabOrderSchema>;\nexport type LabResult = typeof labResults.$inferSelect;\nexport type InsertLabResult = z.infer<typeof insertLabResultSchema>;\nexport type Notification = typeof notifications.$inferSelect;\nexport type InsertNotification = z.infer<typeof insertNotificationSchema>;\nexport type Invoice = typeof invoices.$inferSelect;\nexport type InsertInvoice = z.infer<typeof insertInvoiceSchema>;\nexport type InsuranceClaim = typeof insuranceClaims.$inferSelect;\nexport type InsertInsuranceClaim = z.infer<typeof insertInsuranceClaimSchema>;\nexport type Bed = typeof beds.$inferSelect;\nexport type InsertBed = z.infer<typeof insertBedSchema>;\nexport type Ward = typeof wards.$inferSelect;\nexport type InsertWard = z.infer<typeof insertWardSchema>;\n\n// Additional Doctor Management Tables\nexport const doctorSchedule = pgTable(\"doctor_schedule\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  doctorId: varchar(\"doctor_id\").notNull().references(() => users.id),\n  date: timestamp(\"date\").notNull(),\n  startTime: timestamp(\"start_time\").notNull(),\n  endTime: timestamp(\"end_time\").notNull(),\n  eventType: varchar(\"event_type\").notNull(), // appointment, rounds, break, surgery\n  patientId: integer(\"patient_id\").references(() => patients.id),\n  title: varchar(\"title\").notNull(),\n  notes: text(\"notes\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const aiConsultations = pgTable(\"ai_consultations\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  patientId: integer(\"patient_id\").notNull().references(() => patients.id),\n  doctorId: varchar(\"doctor_id\").notNull().references(() => users.id),\n  query: text(\"query\").notNull(),\n  aiResponse: text(\"ai_response\").notNull(),\n  confidence: varchar(\"confidence\"), // high, medium, low\n  consultationType: varchar(\"consultation_type\").notNull(), // diagnosis, treatment, drug_interaction\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const consultationNotes = pgTable(\"consultation_notes\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  patientId: integer(\"patient_id\").notNull().references(() => patients.id),\n  doctorId: varchar(\"doctor_id\").notNull().references(() => users.id),\n  transcription: text(\"transcription\").notNull(),\n  summary: text(\"summary\"),\n  recordings: jsonb(\"recordings\"), // Audio file references\n  isAiGenerated: boolean(\"is_ai_generated\").notNull().default(false),\n  consultationDate: timestamp(\"consultation_date\").defaultNow(),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\n// Insert schemas for new tables\nexport const insertDoctorScheduleSchema = createInsertSchema(doctorSchedule).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertAiConsultationSchema = createInsertSchema(aiConsultations).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertConsultationNoteSchema = createInsertSchema(consultationNotes).omit({\n  id: true,\n  createdAt: true,\n});\n\n// Types for new tables\nexport type DoctorSchedule = typeof doctorSchedule.$inferSelect;\nexport type InsertDoctorSchedule = z.infer<typeof insertDoctorScheduleSchema>;\nexport type AiConsultation = typeof aiConsultations.$inferSelect;\nexport type InsertAiConsultation = z.infer<typeof insertAiConsultationSchema>;\nexport type ConsultationNote = typeof consultationNotes.$inferSelect;\nexport type InsertConsultationNote = z.infer<typeof insertConsultationNoteSchema>;\n","size_bytes":28252},"client/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport NotFound from \"@/pages/not-found\";\nimport RoleSelection from \"@/pages/role-selection\";\nimport SuperAdminDashboard from \"@/pages/super-admin-dashboard\";\nimport AdminDashboard from \"@/pages/admin-dashboard-new\";\nimport DoctorDashboard from \"@/pages/doctor-dashboard-new\";\nimport NurseDashboard from \"@/pages/nurse-dashboard-new\";\nimport ReceptionistDashboard from \"@/pages/receptionist-dashboard-new\";\nimport PatientDashboard from \"@/pages/patient-dashboard-new\";\n\nfunction Router() {\n  // Skip authentication - go directly to role selection and dashboards\n  return (\n    <Switch>\n      <Route path=\"/\" component={RoleSelection} />\n      <Route path=\"/super-admin\" component={SuperAdminDashboard} />\n      <Route path=\"/admin\" component={AdminDashboard} />\n      <Route path=\"/doctor\" component={DoctorDashboard} />\n      <Route path=\"/nurse\" component={NurseDashboard} />\n      <Route path=\"/receptionist\" component={ReceptionistDashboard} />\n      <Route path=\"/patient\" component={PatientDashboard} />\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <Toaster />\n        <Router />\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","size_bytes":1547},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n:root {\n  --background: hsl(0, 0%, 100%);\n  --foreground: hsl(220, 14.3%, 4.1%);\n  --muted: hsl(220, 4.8%, 95.9%);\n  --muted-foreground: hsl(220, 5.3%, 44.7%);\n  --popover: hsl(0, 0%, 100%);\n  --popover-foreground: hsl(220, 14.3%, 4.1%);\n  --card: hsl(0, 0%, 100%);\n  --card-foreground: hsl(220, 14.3%, 4.1%);\n  --border: hsl(220, 5.9%, 90%);\n  --input: hsl(220, 5.9%, 90%);\n  --primary: hsl(207, 90%, 54%);\n  --primary-foreground: hsl(211, 100%, 99%);\n  --secondary: hsl(220, 4.8%, 95.9%);\n  --secondary-foreground: hsl(220, 9.8%, 10%);\n  --accent: hsl(220, 4.8%, 95.9%);\n  --accent-foreground: hsl(220, 9.8%, 10%);\n  --destructive: hsl(0, 84.2%, 60.2%);\n  --destructive-foreground: hsl(220, 9.1%, 97.8%);\n  --ring: hsl(207, 90%, 54%);\n  --radius: 0.5rem;\n\n  /* Medical Theme Colors */\n  --medical-blue: hsl(207, 90%, 54%);\n  --medical-teal: hsl(174, 100%, 29%);\n  --medical-bg: hsl(210, 20%, 98%);\n  --medical-gray: hsl(215, 16%, 47%);\n  --medical-light: hsl(210, 17%, 98%);\n  --medical-success: hsl(142, 76%, 36%);\n  --medical-warning: hsl(45, 93%, 47%);\n  --medical-error: hsl(0, 84%, 60%);\n  --medical-info: hsl(199, 89%, 48%);\n}\n\n.dark {\n  --background: hsl(222, 14%, 3.9%);\n  --foreground: hsl(0, 0%, 98%);\n  --muted: hsl(222, 3.7%, 15.9%);\n  --muted-foreground: hsl(222, 5%, 64.9%);\n  --popover: hsl(222, 14%, 3.9%);\n  --popover-foreground: hsl(0, 0%, 98%);\n  --card: hsl(222, 14%, 3.9%);\n  --card-foreground: hsl(0, 0%, 98%);\n  --border: hsl(222, 3.7%, 15.9%);\n  --input: hsl(222, 3.7%, 15.9%);\n  --primary: hsl(207, 90%, 54%);\n  --primary-foreground: hsl(211, 100%, 99%);\n  --secondary: hsl(222, 3.7%, 15.9%);\n  --secondary-foreground: hsl(0, 0%, 98%);\n  --accent: hsl(222, 3.7%, 15.9%);\n  --accent-foreground: hsl(0, 0%, 98%);\n  --destructive: hsl(0, 62.8%, 30.6%);\n  --destructive-foreground: hsl(0, 0%, 98%);\n  --ring: hsl(207, 90%, 54%);\n  --radius: 0.5rem;\n\n  /* Dark Medical Theme Colors */\n  --medical-blue: hsl(207, 90%, 54%);\n  --medical-teal: hsl(174, 100%, 29%);\n  --medical-bg: hsl(222, 14%, 3.9%);\n  --medical-gray: hsl(215, 16%, 65%);\n  --medical-light: hsl(222, 14%, 8%);\n  --medical-success: hsl(142, 76%, 36%);\n  --medical-warning: hsl(45, 93%, 47%);\n  --medical-error: hsl(0, 84%, 60%);\n  --medical-info: hsl(199, 89%, 48%);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n\n  /* Medical Theme Utility Classes */\n  .bg-medical-blue {\n    background-color: var(--medical-blue);\n  }\n\n  .bg-medical-teal {\n    background-color: var(--medical-teal);\n  }\n\n  .bg-medical-bg {\n    background-color: var(--medical-bg);\n  }\n\n  .bg-medical-light {\n    background-color: var(--medical-light);\n  }\n\n  .text-medical-blue {\n    color: var(--medical-blue);\n  }\n\n  .text-medical-teal {\n    color: var(--medical-teal);\n  }\n\n  .text-medical-gray {\n    color: var(--medical-gray);\n  }\n\n  .text-medical-success {\n    color: var(--medical-success);\n  }\n\n  .text-medical-warning {\n    color: var(--medical-warning);\n  }\n\n  .text-medical-error {\n    color: var(--medical-error);\n  }\n\n  .text-medical-info {\n    color: var(--medical-info);\n  }\n\n  .border-medical-blue {\n    border-color: var(--medical-blue);\n  }\n\n  .border-medical-teal {\n    border-color: var(--medical-teal);\n  }\n\n  /* Medical Status Indicators */\n  .status-available {\n    @apply bg-green-100 text-green-800;\n  }\n\n  .status-busy {\n    @apply bg-red-100 text-red-800;\n  }\n\n  .status-on-break {\n    @apply bg-yellow-100 text-yellow-800;\n  }\n\n  .status-emergency {\n    @apply bg-orange-100 text-orange-800;\n  }\n\n  .status-off-duty {\n    @apply bg-gray-100 text-gray-800;\n  }\n\n  /* Priority Indicators */\n  .priority-low {\n    @apply bg-blue-100 text-blue-800;\n  }\n\n  .priority-normal {\n    @apply bg-green-100 text-green-800;\n  }\n\n  .priority-high {\n    @apply bg-yellow-100 text-yellow-800;\n  }\n\n  .priority-urgent {\n    @apply bg-orange-100 text-orange-800;\n  }\n\n  .priority-emergency {\n    @apply bg-red-100 text-red-800;\n  }\n\n  /* Room Status Indicators */\n  .room-available {\n    @apply bg-green-50 border-green-200 text-green-800;\n  }\n\n  .room-occupied {\n    @apply bg-red-50 border-red-200 text-red-800;\n  }\n\n  .room-cleaning {\n    @apply bg-yellow-50 border-yellow-200 text-yellow-800;\n  }\n\n  .room-maintenance {\n    @apply bg-gray-50 border-gray-200 text-gray-800;\n  }\n\n  .room-reserved {\n    @apply bg-blue-50 border-blue-200 text-blue-800;\n  }\n\n  /* Animation utilities for medical interface */\n  .pulse-medical {\n    animation: pulse-medical 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n  }\n\n  @keyframes pulse-medical {\n    0%, 100% {\n      opacity: 1;\n    }\n    50% {\n      opacity: .7;\n    }\n  }\n\n  /* Vital signs color coding */\n  .vitals-normal {\n    @apply text-green-600 bg-green-50;\n  }\n\n  .vitals-low {\n    @apply text-blue-600 bg-blue-50;\n  }\n\n  .vitals-high {\n    @apply text-red-600 bg-red-50;\n  }\n\n  .vitals-critical {\n    @apply text-red-800 bg-red-100;\n  }\n\n  /* Medical form styling */\n  .medical-form-section {\n    @apply bg-white rounded-lg border border-gray-200 p-6 space-y-4;\n  }\n\n  .medical-input-group {\n    @apply space-y-2;\n  }\n\n  .medical-label {\n    @apply block text-sm font-medium text-gray-700;\n  }\n\n  .medical-input {\n    @apply w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-medical-blue focus:border-transparent;\n  }\n\n  /* QR Code styling */\n  .qr-scanner-active {\n    @apply border-2 border-dashed border-medical-blue bg-blue-50;\n  }\n\n  /* Medical dashboard cards */\n  .medical-card {\n    @apply bg-white rounded-xl shadow-sm border border-gray-200 p-6;\n  }\n\n  .medical-card-header {\n    @apply flex items-center justify-between mb-4;\n  }\n\n  .medical-card-title {\n    @apply text-lg font-semibold text-gray-900;\n  }\n\n  /* Emergency button styling */\n  .emergency-button {\n    @apply bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200;\n  }\n\n  /* Medical status dots */\n  .status-dot {\n    @apply w-2 h-2 rounded-full;\n  }\n\n  .status-dot-green {\n    @apply bg-green-500;\n  }\n\n  .status-dot-red {\n    @apply bg-red-500;\n  }\n\n  .status-dot-yellow {\n    @apply bg-yellow-500;\n  }\n\n  .status-dot-blue {\n    @apply bg-blue-500;\n  }\n\n  .status-dot-gray {\n    @apply bg-gray-500;\n  }\n}\n\n/* Custom scrollbar for medical interface */\n::-webkit-scrollbar {\n  width: 6px;\n}\n\n::-webkit-scrollbar-track {\n  background: hsl(220, 4.8%, 95.9%);\n}\n\n::-webkit-scrollbar-thumb {\n  background: hsl(220, 5.3%, 44.7%);\n  border-radius: 3px;\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: hsl(207, 90%, 54%);\n}\n\n/* Medical interface focus styles */\n.medical-focus:focus {\n  @apply outline-none ring-2 ring-blue-500 ring-offset-2;\n}\n\n/* Print styles for medical documents */\n@media print {\n  .no-print {\n    display: none !important;\n  }\n  \n  .medical-card {\n    @apply shadow-none border border-gray-300;\n  }\n  \n  body {\n    @apply text-black bg-white;\n  }\n}\n","size_bytes":6976},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":157},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3895},"client/src/hooks/useAuth.ts":{"content":"import { useQuery } from \"@tanstack/react-query\";\n\nexport function useAuth() {\n  const { data: user, isLoading } = useQuery({\n    queryKey: [\"/api/auth/user\"],\n    retry: false,\n  });\n\n  return {\n    user,\n    isLoading,\n    isAuthenticated: !!user,\n  };\n}\n","size_bytes":257},"client/src/lib/authUtils.ts":{"content":"export function isUnauthorizedError(error: Error): boolean {\n  return /^401: .*Unauthorized/.test(error.message);\n}","size_bytes":115},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1383},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"client/src/pages/admin-dashboard-new.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { HealthcareCard } from \"@/components/ui/healthcare-card\";\nimport { \n  Building, \n  Users, \n  DollarSign, \n  TrendingUp, \n  Activity, \n  Calendar, \n  Bed,\n  UserCheck,\n  AlertTriangle,\n  BarChart3,\n  Settings,\n  PieChart,\n  Clock,\n  Hospital,\n  Stethoscope,\n  BrainCircuit,\n  Shield\n} from \"lucide-react\";\n\nexport default function AdminDashboard() {\n  const { user } = useAuth();\n\n  // Fetch hospital analytics\n  const { data: hospitalStats = {}, isLoading: statsLoading } = useQuery({\n    queryKey: [\"/api/admin/hospital-stats\"],\n  });\n\n  // Fetch staff data\n  const { data: staffData = [], isLoading: staffLoading } = useQuery({\n    queryKey: [\"/api/admin/staff\"],\n  });\n\n  // Fetch department metrics\n  const { data: departments = [], isLoading: deptLoading } = useQuery({\n    queryKey: [\"/api/admin/departments\"],\n  });\n\n  // Fetch financial data\n  const { data: financialData = {}, isLoading: financeLoading } = useQuery({\n    queryKey: [\"/api/admin/finances\"],\n  });\n\n  // Fetch bed occupancy\n  const { data: bedOccupancy = {}, isLoading: bedLoading } = useQuery({\n    queryKey: [\"/api/admin/bed-occupancy\"],\n  });\n\n  const totalStaff = staffData.length;\n  const activeStaff = staffData.filter((s: any) => s.isActive).length;\n  const doctorsCount = staffData.filter((s: any) => s.role === 'doctor').length;\n  const nursesCount = staffData.filter((s: any) => s.role === 'nurse').length;\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50\">\n      {/* Header */}\n      <div className=\"border-b bg-white/80 backdrop-blur-sm sticky top-0 z-10\">\n        <div className=\"px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900\">\n                Hospital Administrator\n              </h1>\n              <p className=\"text-gray-600\">Operations Management Dashboard</p>\n            </div>\n            <div className=\"flex items-center gap-4\">\n              <Badge variant=\"outline\" className=\"bg-purple-100 text-purple-800\">\n                <Shield className=\"w-4 h-4 mr-1\" />\n                Admin Access\n              </Badge>\n              <Button onClick={() => window.location.href = \"/api/logout\"} variant=\"ghost\">\n                Logout\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"p-6\">\n        {/* Key Metrics Overview */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6\">\n          <Card>\n            <CardContent className=\"p-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600\">Total Staff</p>\n                  <p className=\"text-3xl font-bold text-gray-900\">{totalStaff}</p>\n                  <p className=\"text-sm text-green-600\">\n                    <TrendingUp className=\"w-4 h-4 inline mr-1\" />\n                    {activeStaff} active\n                  </p>\n                </div>\n                <Users className=\"w-8 h-8 text-blue-600\" />\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardContent className=\"p-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600\">Bed Occupancy</p>\n                  <p className=\"text-3xl font-bold text-gray-900\">{bedOccupancy.occupancyRate || 0}%</p>\n                  <p className=\"text-sm text-gray-600\">\n                    {bedOccupancy.occupiedBeds || 0}/{bedOccupancy.totalBeds || 0} beds\n                  </p>\n                </div>\n                <Bed className=\"w-8 h-8 text-green-600\" />\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardContent className=\"p-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600\">Monthly Revenue</p>\n                  <p className=\"text-3xl font-bold text-gray-900\">\n                    ${financialData.monthlyRevenue?.toLocaleString() || '0'}\n                  </p>\n                  <p className=\"text-sm text-green-600\">\n                    <TrendingUp className=\"w-4 h-4 inline mr-1\" />\n                    +{financialData.growthRate || 0}%\n                  </p>\n                </div>\n                <DollarSign className=\"w-8 h-8 text-emerald-600\" />\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardContent className=\"p-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600\">Patient Satisfaction</p>\n                  <p className=\"text-3xl font-bold text-gray-900\">{hospitalStats.satisfaction || 0}%</p>\n                  <p className=\"text-sm text-blue-600\">\n                    <Activity className=\"w-4 h-4 inline mr-1\" />\n                    {hospitalStats.feedbackCount || 0} reviews\n                  </p>\n                </div>\n                <BarChart3 className=\"w-8 h-8 text-purple-600\" />\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n\n        <Tabs defaultValue=\"operations\" className=\"space-y-6\">\n          <TabsList className=\"grid w-full grid-cols-5\">\n            <TabsTrigger value=\"operations\">Operations</TabsTrigger>\n            <TabsTrigger value=\"staff\">Staff Management</TabsTrigger>\n            <TabsTrigger value=\"departments\">Departments</TabsTrigger>\n            <TabsTrigger value=\"financial\">Financial</TabsTrigger>\n            <TabsTrigger value=\"analytics\">Analytics</TabsTrigger>\n          </TabsList>\n\n          {/* Operations Tab */}\n          <TabsContent value=\"operations\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              {/* Hospital Operations Center */}\n              <HealthcareCard title=\"Hospital Operations Center\" description=\"Real-time hospital status\">\n                <div className=\"space-y-4\">\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"text-center p-4 bg-blue-50 rounded-lg\">\n                      <Hospital className=\"w-8 h-8 text-blue-600 mx-auto mb-2\" />\n                      <p className=\"text-2xl font-bold text-blue-600\">{departments.length}</p>\n                      <p className=\"text-sm text-gray-600\">Active Departments</p>\n                    </div>\n                    <div className=\"text-center p-4 bg-green-50 rounded-lg\">\n                      <Stethoscope className=\"w-8 h-8 text-green-600 mx-auto mb-2\" />\n                      <p className=\"text-2xl font-bold text-green-600\">{hospitalStats.todayConsultations || 0}</p>\n                      <p className=\"text-sm text-gray-600\">Today's Consultations</p>\n                    </div>\n                  </div>\n                  \n                  <div className=\"border rounded-lg p-4\">\n                    <h4 className=\"font-semibold mb-3\">Department Status</h4>\n                    <div className=\"space-y-2\">\n                      {departments.slice(0, 5).map((dept: any) => (\n                        <div key={dept.id} className=\"flex items-center justify-between py-2\">\n                          <span className=\"text-sm font-medium\">{dept.name}</span>\n                          <Badge \n                            variant=\"outline\"\n                            className={dept.status === 'operational' ? 'border-green-500 text-green-700' : 'border-yellow-500 text-yellow-700'}\n                          >\n                            {dept.status || 'Operational'}\n                          </Badge>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              </HealthcareCard>\n\n              {/* Patient Flow Management */}\n              <HealthcareCard title=\"Patient Flow Management\" description=\"Admission and discharge tracking\">\n                <div className=\"space-y-4\">\n                  <div className=\"grid grid-cols-3 gap-3 text-center\">\n                    <div className=\"p-3 bg-blue-50 rounded-lg\">\n                      <p className=\"text-lg font-bold text-blue-600\">{hospitalStats.admissions || 0}</p>\n                      <p className=\"text-xs text-gray-600\">Today's Admissions</p>\n                    </div>\n                    <div className=\"p-3 bg-green-50 rounded-lg\">\n                      <p className=\"text-lg font-bold text-green-600\">{hospitalStats.discharges || 0}</p>\n                      <p className=\"text-xs text-gray-600\">Discharges</p>\n                    </div>\n                    <div className=\"p-3 bg-orange-50 rounded-lg\">\n                      <p className=\"text-lg font-bold text-orange-600\">{hospitalStats.pendingDischarges || 0}</p>\n                      <p className=\"text-xs text-gray-600\">Pending</p>\n                    </div>\n                  </div>\n\n                  <div className=\"border rounded-lg p-4\">\n                    <h4 className=\"font-semibold mb-3\">Bed Availability by Type</h4>\n                    <div className=\"space-y-2\">\n                      {[\n                        { type: 'ICU', available: 2, total: 10 },\n                        { type: 'General', available: 15, total: 50 },\n                        { type: 'Private', available: 5, total: 20 },\n                        { type: 'Emergency', available: 3, total: 8 }\n                      ].map((room) => (\n                        <div key={room.type} className=\"flex items-center justify-between\">\n                          <span className=\"text-sm\">{room.type}</span>\n                          <div className=\"flex items-center gap-2\">\n                            <div className=\"w-20 bg-gray-200 rounded-full h-2\">\n                              <div \n                                className=\"bg-green-500 h-2 rounded-full\"\n                                style={{ width: `${(room.available / room.total) * 100}%` }}\n                              ></div>\n                            </div>\n                            <span className=\"text-xs text-gray-600\">{room.available}/{room.total}</span>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              </HealthcareCard>\n            </div>\n          </TabsContent>\n\n          {/* Staff Management Tab */}\n          <TabsContent value=\"staff\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n              <div className=\"lg:col-span-2\">\n                <HealthcareCard title=\"Staff Overview\" description=\"Employee management and scheduling\">\n                  <div className=\"space-y-4\">\n                    <div className=\"grid grid-cols-3 gap-4\">\n                      <div className=\"text-center p-4 bg-blue-50 rounded-lg\">\n                        <Users className=\"w-6 h-6 text-blue-600 mx-auto mb-2\" />\n                        <p className=\"text-xl font-bold text-blue-600\">{doctorsCount}</p>\n                        <p className=\"text-sm text-gray-600\">Doctors</p>\n                      </div>\n                      <div className=\"text-center p-4 bg-green-50 rounded-lg\">\n                        <UserCheck className=\"w-6 h-6 text-green-600 mx-auto mb-2\" />\n                        <p className=\"text-xl font-bold text-green-600\">{nursesCount}</p>\n                        <p className=\"text-sm text-gray-600\">Nurses</p>\n                      </div>\n                      <div className=\"text-center p-4 bg-purple-50 rounded-lg\">\n                        <Settings className=\"w-6 h-6 text-purple-600 mx-auto mb-2\" />\n                        <p className=\"text-xl font-bold text-purple-600\">{staffData.filter((s: any) => s.role === 'admin').length}</p>\n                        <p className=\"text-sm text-gray-600\">Admin Staff</p>\n                      </div>\n                    </div>\n\n                    <div className=\"border rounded-lg p-4\">\n                      <div className=\"flex items-center justify-between mb-3\">\n                        <h4 className=\"font-semibold\">Recent Staff Activities</h4>\n                        <Button size=\"sm\" variant=\"outline\">Manage Staff</Button>\n                      </div>\n                      <div className=\"space-y-3\">\n                        {staffData.slice(0, 5).map((staff: any) => (\n                          <div key={staff.id} className=\"flex items-center justify-between py-2\">\n                            <div className=\"flex items-center gap-3\">\n                              <div className=\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\n                                <Users className=\"w-4 h-4 text-blue-600\" />\n                              </div>\n                              <div>\n                                <p className=\"font-medium\">{staff.firstName} {staff.lastName}</p>\n                                <p className=\"text-sm text-gray-600\">{staff.role?.toUpperCase()} â€¢ {staff.department}</p>\n                              </div>\n                            </div>\n                            <Badge \n                              variant=\"outline\"\n                              className={staff.isActive ? 'border-green-500 text-green-700' : 'border-gray-500 text-gray-700'}\n                            >\n                              {staff.isActive ? 'Active' : 'Inactive'}\n                            </Badge>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  </div>\n                </HealthcareCard>\n              </div>\n\n              <div className=\"space-y-6\">\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"text-lg\">Staff Actions</CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"space-y-3\">\n                      <Button className=\"w-full justify-start\" variant=\"outline\">\n                        <Users className=\"w-4 h-4 mr-2\" />\n                        Add New Staff\n                      </Button>\n                      <Button className=\"w-full justify-start\" variant=\"outline\">\n                        <Calendar className=\"w-4 h-4 mr-2\" />\n                        Schedule Management\n                      </Button>\n                      <Button className=\"w-full justify-start\" variant=\"outline\">\n                        <DollarSign className=\"w-4 h-4 mr-2\" />\n                        Payroll Overview\n                      </Button>\n                      <Button className=\"w-full justify-start\" variant=\"outline\">\n                        <BarChart3 className=\"w-4 h-4 mr-2\" />\n                        Performance Reports\n                      </Button>\n                    </div>\n                  </CardContent>\n                </Card>\n\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"text-lg\">Shift Distribution</CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"space-y-3\">\n                      {[\n                        { shift: 'Morning', count: 12, color: 'bg-blue-500' },\n                        { shift: 'Evening', count: 10, color: 'bg-green-500' },\n                        { shift: 'Night', count: 8, color: 'bg-purple-500' }\n                      ].map((shift) => (\n                        <div key={shift.shift} className=\"flex items-center justify-between\">\n                          <span className=\"text-sm font-medium\">{shift.shift}</span>\n                          <div className=\"flex items-center gap-2\">\n                            <div className=\"flex items-center gap-1\">\n                              <div className={`w-3 h-3 rounded-full ${shift.color}`}></div>\n                              <span className=\"text-sm\">{shift.count}</span>\n                            </div>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </CardContent>\n                </Card>\n              </div>\n            </div>\n          </TabsContent>\n\n          {/* Departments Tab */}\n          <TabsContent value=\"departments\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              {departments.map((dept: any) => (\n                <HealthcareCard \n                  key={dept.id} \n                  title={dept.name} \n                  description={dept.description}\n                  className=\"hover:shadow-lg transition-shadow\"\n                >\n                  <div className=\"space-y-4\">\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div className=\"text-center p-3 bg-blue-50 rounded-lg\">\n                        <p className=\"text-lg font-bold text-blue-600\">{dept.staffCount || 0}</p>\n                        <p className=\"text-xs text-gray-600\">Staff Members</p>\n                      </div>\n                      <div className=\"text-center p-3 bg-green-50 rounded-lg\">\n                        <p className=\"text-lg font-bold text-green-600\">{dept.todayPatients || 0}</p>\n                        <p className=\"text-xs text-gray-600\">Today's Patients</p>\n                      </div>\n                    </div>\n                    \n                    <div className=\"flex items-center justify-between pt-2\">\n                      <Badge variant=\"outline\" className=\"text-xs\">\n                        Head: Dr. {dept.headDoctorName || 'TBD'}\n                      </Badge>\n                      <Button size=\"sm\" variant=\"outline\">\n                        View Details\n                      </Button>\n                    </div>\n                  </div>\n                </HealthcareCard>\n              ))}\n            </div>\n          </TabsContent>\n\n          {/* Financial Tab */}\n          <TabsContent value=\"financial\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n              <div className=\"lg:col-span-2\">\n                <HealthcareCard title=\"Financial Dashboard\" description=\"Revenue and expense tracking\">\n                  <div className=\"space-y-6\">\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div className=\"p-4 bg-green-50 rounded-lg\">\n                        <div className=\"flex items-center gap-2 mb-2\">\n                          <TrendingUp className=\"w-5 h-5 text-green-600\" />\n                          <span className=\"font-semibold text-green-800\">Revenue</span>\n                        </div>\n                        <p className=\"text-2xl font-bold text-green-600\">\n                          ${financialData.totalRevenue?.toLocaleString() || '0'}\n                        </p>\n                        <p className=\"text-sm text-green-600\">This Month</p>\n                      </div>\n                      <div className=\"p-4 bg-red-50 rounded-lg\">\n                        <div className=\"flex items-center gap-2 mb-2\">\n                          <TrendingUp className=\"w-5 h-5 text-red-600 rotate-180\" />\n                          <span className=\"font-semibold text-red-800\">Expenses</span>\n                        </div>\n                        <p className=\"text-2xl font-bold text-red-600\">\n                          ${financialData.totalExpenses?.toLocaleString() || '0'}\n                        </p>\n                        <p className=\"text-sm text-red-600\">This Month</p>\n                      </div>\n                    </div>\n\n                    <div className=\"border rounded-lg p-4\">\n                      <h4 className=\"font-semibold mb-3\">Department Revenue</h4>\n                      <div className=\"space-y-3\">\n                        {departments.slice(0, 5).map((dept: any) => (\n                          <div key={dept.id} className=\"flex items-center justify-between\">\n                            <span className=\"text-sm font-medium\">{dept.name}</span>\n                            <span className=\"text-sm font-bold text-green-600\">\n                              ${dept.revenue?.toLocaleString() || '0'}\n                            </span>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  </div>\n                </HealthcareCard>\n              </div>\n\n              <div className=\"space-y-6\">\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"text-lg\">Financial Actions</CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"space-y-3\">\n                      <Button className=\"w-full justify-start\" variant=\"outline\">\n                        <DollarSign className=\"w-4 h-4 mr-2\" />\n                        Generate Reports\n                      </Button>\n                      <Button className=\"w-full justify-start\" variant=\"outline\">\n                        <PieChart className=\"w-4 h-4 mr-2\" />\n                        Budget Planning\n                      </Button>\n                      <Button className=\"w-full justify-start\" variant=\"outline\">\n                        <BarChart3 className=\"w-4 h-4 mr-2\" />\n                        Cost Analysis\n                      </Button>\n                    </div>\n                  </CardContent>\n                </Card>\n\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"text-lg\">Key Metrics</CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"space-y-4\">\n                      <div>\n                        <div className=\"flex justify-between mb-1\">\n                          <span className=\"text-sm\">Profit Margin</span>\n                          <span className=\"text-sm font-semibold\">{financialData.profitMargin || 0}%</span>\n                        </div>\n                        <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                          <div \n                            className=\"bg-green-500 h-2 rounded-full\"\n                            style={{ width: `${financialData.profitMargin || 0}%` }}\n                          ></div>\n                        </div>\n                      </div>\n                      <div>\n                        <div className=\"flex justify-between mb-1\">\n                          <span className=\"text-sm\">Collection Rate</span>\n                          <span className=\"text-sm font-semibold\">{financialData.collectionRate || 0}%</span>\n                        </div>\n                        <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                          <div \n                            className=\"bg-blue-500 h-2 rounded-full\"\n                            style={{ width: `${financialData.collectionRate || 0}%` }}\n                          ></div>\n                        </div>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              </div>\n            </div>\n          </TabsContent>\n\n          {/* Analytics Tab */}\n          <TabsContent value=\"analytics\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              <HealthcareCard title=\"ML Insights Center\" description=\"AI-powered analytics and predictions\">\n                <div className=\"space-y-4\">\n                  <div className=\"p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border\">\n                    <div className=\"flex items-center gap-2 mb-3\">\n                      <BrainCircuit className=\"w-6 h-6 text-purple-600\" />\n                      <span className=\"font-semibold text-purple-800\">AI Recommendations</span>\n                    </div>\n                    <div className=\"space-y-2\">\n                      <p className=\"text-sm\">â€¢ Optimize ICU bed allocation for 15% efficiency gain</p>\n                      <p className=\"text-sm\">â€¢ Schedule additional nurses for expected patient surge</p>\n                      <p className=\"text-sm\">â€¢ Consider emergency equipment maintenance this week</p>\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"p-3 bg-yellow-50 rounded-lg text-center\">\n                      <AlertTriangle className=\"w-6 h-6 text-yellow-600 mx-auto mb-1\" />\n                      <p className=\"text-lg font-bold text-yellow-600\">3</p>\n                      <p className=\"text-xs text-gray-600\">Risk Alerts</p>\n                    </div>\n                    <div className=\"p-3 bg-green-50 rounded-lg text-center\">\n                      <TrendingUp className=\"w-6 h-6 text-green-600 mx-auto mb-1\" />\n                      <p className=\"text-lg font-bold text-green-600\">98%</p>\n                      <p className=\"text-xs text-gray-600\">Prediction Accuracy</p>\n                    </div>\n                  </div>\n                </div>\n              </HealthcareCard>\n\n              <HealthcareCard title=\"System Performance\" description=\"Infrastructure and operational metrics\">\n                <div className=\"space-y-4\">\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"p-3 bg-blue-50 rounded-lg text-center\">\n                      <Activity className=\"w-6 h-6 text-blue-600 mx-auto mb-1\" />\n                      <p className=\"text-lg font-bold text-blue-600\">99.8%</p>\n                      <p className=\"text-xs text-gray-600\">System Uptime</p>\n                    </div>\n                    <div className=\"p-3 bg-green-50 rounded-lg text-center\">\n                      <Clock className=\"w-6 h-6 text-green-600 mx-auto mb-1\" />\n                      <p className=\"text-lg font-bold text-green-600\">2.1s</p>\n                      <p className=\"text-xs text-gray-600\">Avg Response Time</p>\n                    </div>\n                  </div>\n\n                  <div className=\"border rounded-lg p-4\">\n                    <h4 className=\"font-semibold mb-3\">System Health</h4>\n                    <div className=\"space-y-3\">\n                      {[\n                        { component: 'Database', status: 'Healthy', color: 'text-green-600' },\n                        { component: 'API Services', status: 'Healthy', color: 'text-green-600' },\n                        { component: 'Queue System', status: 'Warning', color: 'text-yellow-600' },\n                        { component: 'Notifications', status: 'Healthy', color: 'text-green-600' }\n                      ].map((item) => (\n                        <div key={item.component} className=\"flex items-center justify-between\">\n                          <span className=\"text-sm font-medium\">{item.component}</span>\n                          <span className={`text-sm font-semibold ${item.color}`}>\n                            {item.status}\n                          </span>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              </HealthcareCard>\n            </div>\n          </TabsContent>\n        </Tabs>\n      </div>\n    </div>\n  );\n}","size_bytes":27763},"client/src/pages/admin-dashboard.tsx":{"content":"import { useEffect } from \"react\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport Sidebar from \"@/components/layout/sidebar\";\nimport Header from \"@/components/layout/header\";\nimport StatsCard from \"@/components/dashboard/stats-card\";\nimport QueueManagement from \"@/components/dashboard/queue-management\";\nimport RoomStatus from \"@/components/dashboard/room-status\";\nimport DoctorStatus from \"@/components/dashboard/doctor-status\";\n\nexport default function AdminDashboard() {\n  const { toast } = useToast();\n  const { isAuthenticated, isLoading, user } = useAuth();\n\n  // Redirect if not authenticated or not admin\n  useEffect(() => {\n    if (!isLoading && (!isAuthenticated || user?.role !== 'admin')) {\n      toast({\n        title: \"Unauthorized\",\n        description: \"You need admin access to view this page.\",\n        variant: \"destructive\",\n      });\n      setTimeout(() => {\n        window.location.href = \"/api/login\";\n      }, 500);\n      return;\n    }\n  }, [isAuthenticated, isLoading, user, toast]);\n\n  const { data: stats, isLoading: statsLoading } = useQuery({\n    queryKey: [\"/api/stats\"],\n    enabled: isAuthenticated && user?.role === 'admin',\n  });\n\n  const { data: queue, isLoading: queueLoading } = useQuery({\n    queryKey: [\"/api/queue\"],\n    enabled: isAuthenticated && user?.role === 'admin',\n  });\n\n  const { data: rooms, isLoading: roomsLoading } = useQuery({\n    queryKey: [\"/api/rooms\"],\n    enabled: isAuthenticated && user?.role === 'admin',\n  });\n\n  const { data: doctors, isLoading: doctorsLoading } = useQuery({\n    queryKey: [\"/api/doctors\"],\n    enabled: isAuthenticated && user?.role === 'admin',\n  });\n\n  if (isLoading || !user) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-medical-bg\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 bg-medical-blue rounded-xl flex items-center justify-center mx-auto mb-4 animate-pulse\">\n            <i className=\"fas fa-heartbeat text-white text-2xl\"></i>\n          </div>\n          <p className=\"text-medical-gray\">Loading dashboard...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-medical-bg\">\n      <Header \n        title=\"Admin Dashboard\" \n        subtitle=\"Hospital Management Overview\"\n        user={user}\n      />\n      \n      <div className=\"flex\">\n        <Sidebar userRole=\"admin\" />\n        \n        <main className=\"flex-1 p-6\">\n          {/* Stats Overview */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n            <StatsCard\n              title=\"Total Patients Today\"\n              value={stats?.currentPatients?.toString() || \"0\"}\n              icon=\"fas fa-user-injured\"\n              color=\"blue\"\n              subtitle=\"Currently in system\"\n              isLoading={statsLoading}\n            />\n            <StatsCard\n              title=\"Available Beds\"\n              value={`${stats?.availableRooms || 0}/${stats?.totalRooms || 0}`}\n              icon=\"fas fa-bed\"\n              color=\"green\"\n              subtitle=\"Bed occupancy\"\n              isLoading={statsLoading}\n            />\n            <StatsCard\n              title=\"Active Staff\"\n              value={`${stats?.activeStaff || 0}/${stats?.totalStaff || 0}`}\n              icon=\"fas fa-users\"\n              color=\"purple\"\n              subtitle=\"Currently on duty\"\n              isLoading={statsLoading}\n            />\n            <StatsCard\n              title=\"Queue Length\"\n              value={stats?.waitingQueue?.toString() || \"0\"}\n              icon=\"fas fa-clock\"\n              color=\"yellow\"\n              subtitle=\"Patients waiting\"\n              isLoading={statsLoading}\n            />\n          </div>\n\n          {/* Main Dashboard Grid */}\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\n            <QueueManagement \n              queue={queue || []} \n              isLoading={queueLoading}\n              userRole=\"admin\"\n            />\n            <RoomStatus \n              rooms={rooms || []} \n              isLoading={roomsLoading}\n            />\n          </div>\n\n          {/* Doctor Status & Recent Activity */}\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n            <div className=\"lg:col-span-2\">\n              <DoctorStatus \n                doctors={doctors || []} \n                isLoading={doctorsLoading}\n              />\n            </div>\n            \n            {/* Quick Actions */}\n            <div className=\"bg-white rounded-xl shadow-sm p-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Quick Actions</h3>\n              <div className=\"space-y-3\">\n                <button className=\"w-full flex items-center space-x-3 p-3 text-left bg-medical-blue text-white rounded-lg hover:bg-blue-700 transition-colors\">\n                  <i className=\"fas fa-plus-circle\"></i>\n                  <span className=\"font-medium\">Add New Staff</span>\n                </button>\n                <button className=\"w-full flex items-center space-x-3 p-3 text-left bg-medical-teal text-white rounded-lg hover:bg-teal-700 transition-colors\">\n                  <i className=\"fas fa-bed\"></i>\n                  <span className=\"font-medium\">Room Assignment</span>\n                </button>\n                <button className=\"w-full flex items-center space-x-3 p-3 text-left bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors\">\n                  <i className=\"fas fa-download\"></i>\n                  <span className=\"font-medium\">Export Reports</span>\n                </button>\n                <button className=\"w-full flex items-center space-x-3 p-3 text-left bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors\">\n                  <i className=\"fas fa-bell\"></i>\n                  <span className=\"font-medium\">Send Broadcast</span>\n                </button>\n              </div>\n            </div>\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n}\n","size_bytes":6102},"client/src/pages/doctor-dashboard-new.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { HealthcareCard } from \"@/components/ui/healthcare-card\";\nimport { \n  Activity, \n  Calendar, \n  FileText, \n  FlaskConical, \n  Heart, \n  MessageCircle, \n  PlusCircle, \n  Search,\n  Stethoscope,\n  Users,\n  AlertTriangle,\n  TrendingUp,\n  Clock,\n  CheckCircle,\n  Coffee,\n  MapPin,\n  Mic,\n  MicOff,\n  Bot,\n  Clipboard,\n  PlayCircle,\n  PauseCircle,\n  StopCircle,\n  Volume2,\n  Pill,\n  TestTube,\n  Brain,\n  Zap,\n  UserPlus\n} from \"lucide-react\";\n\nexport default function DoctorDashboard() {\n  const { user } = useAuth();\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  // State management for doctor features\n  const [doctorStatus, setDoctorStatus] = useState(\"available\");\n  const [isRecording, setIsRecording] = useState(false);\n  const [selectedPatient, setSelectedPatient] = useState<any>(null);\n  const [prescriptionDialog, setPrescriptionDialog] = useState(false);\n  const [labOrderDialog, setLabOrderDialog] = useState(false);\n  const [aiConsultDialog, setAiConsultDialog] = useState(false);\n  const [transcription, setTranscription] = useState(\"\");\n  const [patientDetailsDialog, setPatientDetailsDialog] = useState(false);\n  const [selectedPatientDetails, setSelectedPatientDetails] = useState<any>(null);\n  \n  // Patient details queries\n  const { data: patientVitals, isLoading: vitalsLoading } = useQuery({\n    queryKey: [`/api/patient/${selectedPatientDetails?.id || selectedPatientDetails?.patientId}/vitals`],\n    enabled: !!selectedPatientDetails && patientDetailsDialog,\n  });\n  \n  const { data: patientMedicalHistory, isLoading: historyLoading } = useQuery({\n    queryKey: [`/api/patient/${selectedPatientDetails?.id || selectedPatientDetails?.patientId}/medical-history`],\n    enabled: !!selectedPatientDetails && patientDetailsDialog,\n  });\n  \n  const { data: patientLabResults, isLoading: labResultsLoading } = useQuery({\n    queryKey: [`/api/patient/${selectedPatientDetails?.id || selectedPatientDetails?.patientId}/lab-results`],\n    enabled: !!selectedPatientDetails && patientDetailsDialog,\n  });\n  \n  const { data: patientMedications, isLoading: medicationsLoading } = useQuery({\n    queryKey: [`/api/patient/${selectedPatientDetails?.id || selectedPatientDetails?.patientId}/medications`],\n    enabled: !!selectedPatientDetails && patientDetailsDialog,\n  });\n  \n  const { data: patientConsultations, isLoading: patientConsultationsLoading } = useQuery({\n    queryKey: [`/api/patient/${selectedPatientDetails?.id || selectedPatientDetails?.patientId}/consultations`],\n    enabled: !!selectedPatientDetails && patientDetailsDialog,\n  });\n  \n  // Form states\n  const [prescriptionForm, setPrescriptionForm] = useState({\n    medications: [\n      {\n        medication: \"\",\n        strength: \"\",\n        form: \"\",\n        dosage: \"\",\n        frequency: \"\",\n        duration: \"\",\n        route: \"\",\n        timings: \"\",\n        beforeAfterMeals: \"\",\n        specialInstructions: \"\"\n      }\n    ]\n  });\n  \n  const [labOrderForm, setLabOrderForm] = useState({\n    bloodTests: [],\n    imagingTests: [],\n    otherTests: [],\n    priority: \"routine\",\n    fasting: false,\n    clinicalNotes: \"\",\n    indicationsForTesting: \"\"\n  });\n\n  // Fetch doctor's queue\n  const { data: patientQueue = [], isLoading: queueLoading } = useQuery({\n    queryKey: [\"/api/doctor/queue\"],\n  });\n\n  // Fetch today's appointments\n  const { data: appointments = [], isLoading: appointmentsLoading } = useQuery({\n    queryKey: [\"/api/doctor/appointments\"],\n  });\n\n  // Fetch pending lab results\n  const { data: labResults = [], isLoading: labLoading } = useQuery({\n    queryKey: [\"/api/doctor/lab-results\"],\n  });\n\n  // Fetch recent consultations\n  const { data: consultations = [], isLoading: consultationsLoading } = useQuery({\n    queryKey: [\"/api/doctor/consultations\"],\n  });\n\n  // Fetch doctor's schedule/calendar\n  const { data: schedule = [], isLoading: scheduleLoading } = useQuery({\n    queryKey: [\"/api/doctor/schedule\"],\n  });\n\n  // Mutations for doctor actions\n  const prescriptionMutation = useMutation({\n    mutationFn: async (data: any) => apiRequest('/api/doctor/prescriptions', 'POST', data),\n    onSuccess: () => {\n      toast({ title: \"Prescription Created\", description: \"Prescription has been successfully created and sent to pharmacy.\" });\n      setPrescriptionDialog(false);\n      setPrescriptionForm({ \n        medication: \"\", strength: \"\", form: \"\", dosage: \"\", frequency: \"\", \n        duration: \"\", route: \"\", timings: \"\", beforeAfterMeals: \"\", specialInstructions: \"\" \n      });\n    }\n  });\n\n  const labOrderMutation = useMutation({\n    mutationFn: async (data: any) => apiRequest('/api/doctor/lab-orders', 'POST', data),\n    onSuccess: () => {\n      toast({ title: \"Lab Order Submitted\", description: \"Lab tests have been ordered successfully.\" });\n      setLabOrderDialog(false);\n      setLabOrderForm({ \n        bloodTests: [], imagingTests: [], otherTests: [], priority: \"routine\", \n        fasting: false, clinicalNotes: \"\", indicationsForTesting: \"\" \n      });\n    }\n  });\n\n  const statusUpdateMutation = useMutation({\n    mutationFn: async (status: string) => apiRequest('/api/doctor/status', 'PUT', { status }),\n    onSuccess: () => {\n      toast({ title: \"Status Updated\", description: `Status changed to ${doctorStatus}` });\n    }\n  });\n\n  // AI Scribe functionality\n  const toggleRecording = () => {\n    if (!isRecording) {\n      setIsRecording(true);\n      setTranscription(\"Recording started...\");\n      // Simulate speech recognition\n      setTimeout(() => {\n        setTranscription(\"Patient reports chest pain for 2 days. No shortness of breath. Pain is sharp, intermittent. No radiation. Vital signs stable. Physical exam reveals tenderness in left chest wall...\");\n      }, 3000);\n    } else {\n      setIsRecording(false);\n      toast({ title: \"Recording Saved\", description: \"Consultation notes have been transcribed and saved.\" });\n    }\n  };\n\n  const priorityQueue = patientQueue.filter((p: any) => p.priority === 'high' || p.priority === 'critical' || p.priority === 'emergency');\n  const criticalCases = patientQueue.filter((p: any) => p.priority === 'critical' || p.priority === 'emergency');\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-teal-50\">\n      {/* Header */}\n      <div className=\"border-b bg-white/80 backdrop-blur-sm sticky top-0 z-10\">\n        <div className=\"px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900\">\n                Dr. {user?.firstName} {user?.lastName}\n              </h1>\n              <p className=\"text-gray-600\">Medical Dashboard - {new Date().toLocaleDateString()}</p>\n            </div>\n            <div className=\"flex items-center gap-4\">\n              {/* Doctor Status Management */}\n              <div className=\"flex items-center gap-2\">\n                <Select value={doctorStatus} onValueChange={(value) => {\n                  setDoctorStatus(value);\n                  statusUpdateMutation.mutate(value);\n                }}>\n                  <SelectTrigger className=\"w-40\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"available\">\n                      <div className=\"flex items-center gap-2\">\n                        <CheckCircle className=\"w-4 h-4 text-green-600\" />\n                        Available\n                      </div>\n                    </SelectItem>\n                    <SelectItem value=\"on_break\">\n                      <div className=\"flex items-center gap-2\">\n                        <Coffee className=\"w-4 h-4 text-orange-600\" />\n                        On Break\n                      </div>\n                    </SelectItem>\n                    <SelectItem value=\"in_rounds\">\n                      <div className=\"flex items-center gap-2\">\n                        <MapPin className=\"w-4 h-4 text-blue-600\" />\n                        In Rounds\n                      </div>\n                    </SelectItem>\n                    <SelectItem value=\"busy\">\n                      <div className=\"flex items-center gap-2\">\n                        <Clock className=\"w-4 h-4 text-red-600\" />\n                        Busy\n                      </div>\n                    </SelectItem>\n                  </SelectContent>\n                </Select>\n                \n                {/* AI Scribe Toggle */}\n                <Button\n                  variant={isRecording ? \"destructive\" : \"outline\"}\n                  size=\"sm\"\n                  onClick={toggleRecording}\n                  className=\"flex items-center gap-2\"\n                >\n                  {isRecording ? (\n                    <>\n                      <MicOff className=\"w-4 h-4\" />\n                      Stop Recording\n                    </>\n                  ) : (\n                    <>\n                      <Mic className=\"w-4 h-4\" />\n                      Start Scribe\n                    </>\n                  )}\n                </Button>\n              </div>\n              \n              <Button onClick={() => window.location.href = \"/api/logout\"} variant=\"ghost\">\n                Logout\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"p-6\">\n        {/* Critical Alerts */}\n        {criticalCases.length > 0 && (\n          <div className=\"mb-6\">\n            <Card className=\"border-red-200 bg-red-50\">\n              <CardHeader className=\"pb-3\">\n                <CardTitle className=\"text-red-800 flex items-center gap-2\">\n                  <AlertTriangle className=\"w-5 h-5\" />\n                  Critical Cases Requiring Immediate Attention\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"grid gap-3\">\n                  {criticalCases.map((patient: any) => (\n                    <div key={patient.id} className=\"flex items-center justify-between p-3 bg-white rounded-lg border border-red-200\">\n                      <div>\n                        <p className=\"font-semibold\">{patient.name}</p>\n                        <p className=\"text-sm text-gray-600\">{patient.reasonForVisit}</p>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Badge className=\"bg-red-100 text-red-800\">CRITICAL</Badge>\n                        <Button size=\"sm\">See Patient</Button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        )}\n\n        {/* Doctor Action Bar */}\n        <div className=\"bg-white rounded-xl border shadow-sm p-4 mb-6\">\n          <div className=\"flex flex-wrap gap-3\">\n            <Dialog open={prescriptionDialog} onOpenChange={setPrescriptionDialog}>\n              <DialogTrigger asChild>\n                <Button className=\"flex items-center gap-2\">\n                  <Pill className=\"w-4 h-4\" />\n                  Write Prescription\n                </Button>\n              </DialogTrigger>\n              <DialogContent className=\"max-w-2xl\">\n                <DialogHeader>\n                  <DialogTitle>Create Prescription</DialogTitle>\n                  <DialogDescription>\n                    Order prescription for {selectedPatient?.name}\n                  </DialogDescription>\n                </DialogHeader>\n                <div className=\"space-y-6\">\n                  <div className=\"flex justify-between items-center\">\n                    <h3 className=\"text-lg font-semibold\">Prescription Details</h3>\n                    <Button\n                      type=\"button\"\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => {\n                        const newMed = {\n                          medication: \"\",\n                          strength: \"\",\n                          form: \"\",\n                          dosage: \"\",\n                          frequency: \"\",\n                          duration: \"\",\n                          route: \"\",\n                          timings: \"\",\n                          beforeAfterMeals: \"\",\n                          specialInstructions: \"\"\n                        };\n                        setPrescriptionForm({\n                          medications: [...prescriptionForm.medications, newMed]\n                        });\n                      }}\n                    >\n                      + Add Another Medication\n                    </Button>\n                  </div>\n\n                  {prescriptionForm.medications.map((medication, index) => {\n                    const updateMedication = (field: string, value: string) => {\n                      const updatedMedications = [...prescriptionForm.medications];\n                      updatedMedications[index] = { ...updatedMedications[index], [field]: value };\n                      setPrescriptionForm({ medications: updatedMedications });\n                    };\n\n                    return (\n                      <div key={index} className=\"border rounded-lg p-4 bg-white\">\n                        <div className=\"flex justify-between items-center mb-4\">\n                          <h4 className=\"font-medium text-gray-900\">Medication {index + 1}</h4>\n                          {prescriptionForm.medications.length > 1 && (\n                            <Button\n                              type=\"button\"\n                              variant=\"ghost\"\n                              size=\"sm\"\n                              onClick={() => {\n                                const updatedMedications = prescriptionForm.medications.filter((_, i) => i !== index);\n                                setPrescriptionForm({ medications: updatedMedications });\n                              }}\n                              className=\"text-red-600 hover:text-red-700\"\n                            >\n                              Remove\n                            </Button>\n                          )}\n                        </div>\n\n                        {/* Basic Medication Info */}\n                        <div className=\"grid grid-cols-2 gap-4 mb-4\">\n                          <div>\n                            <label className=\"text-sm font-medium\">Medication Name</label>\n                            <div className=\"relative\">\n                              <Input\n                                placeholder=\"Type or select medication...\"\n                                value={medication.medication}\n                                onChange={(e) => updateMedication('medication', e.target.value)}\n                                className=\"mb-2\"\n                              />\n                              <div className=\"flex flex-wrap gap-2\">\n                                {[\"Amoxicillin\", \"Paracetamol\", \"Ibuprofen\", \"Metformin\", \"Atorvastatin\", \"Lisinopril\"].map((med) => (\n                                  <Button\n                                    key={med}\n                                    type=\"button\"\n                                    variant=\"outline\"\n                                    size=\"sm\"\n                                    onClick={() => updateMedication('medication', med)}\n                                    className=\"text-xs\"\n                                  >\n                                    {med}\n                                  </Button>\n                                ))}\n                              </div>\n                            </div>\n                          </div>\n                          <div>\n                            <label className=\"text-sm font-medium\">Strength & Form</label>\n                            <div className=\"space-y-2\">\n                              <div className=\"flex gap-2\">\n                                <Input\n                                  placeholder=\"e.g., 500mg\"\n                                  value={medication.strength}\n                                  onChange={(e) => updateMedication('strength', e.target.value)}\n                                  className=\"flex-1\"\n                                />\n                                <Select onValueChange={(value) => updateMedication('form', value)}>\n                                  <SelectTrigger className=\"w-32\">\n                                    <SelectValue placeholder=\"Form\" />\n                                  </SelectTrigger>\n                                  <SelectContent>\n                                    <SelectItem value=\"tablet\">Tablet</SelectItem>\n                                    <SelectItem value=\"capsule\">Capsule</SelectItem>\n                                    <SelectItem value=\"syrup\">Syrup</SelectItem>\n                                    <SelectItem value=\"injection\">Injection</SelectItem>\n                                    <SelectItem value=\"cream\">Cream</SelectItem>\n                                    <SelectItem value=\"drops\">Drops</SelectItem>\n                                  </SelectContent>\n                                </Select>\n                              </div>\n                              <div className=\"flex flex-wrap gap-1\">\n                                {[\"10mg\", \"25mg\", \"50mg\", \"100mg\", \"250mg\", \"500mg\", \"1g\", \"5ml\", \"10ml\"].map((strength) => (\n                                  <Button\n                                    key={strength}\n                                    type=\"button\"\n                                    variant=\"outline\"\n                                    size=\"sm\"\n                                    onClick={() => updateMedication('strength', strength)}\n                                    className=\"text-xs px-2 py-1 h-6\"\n                                  >\n                                    {strength}\n                                  </Button>\n                                ))}\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n\n                        {/* Dosing Schedule Table */}\n                        <div className=\"bg-gray-50 rounded-lg p-4 mb-4\">\n                          <h3 className=\"font-medium mb-3\">Dosing Schedule</h3>\n                          <div className=\"grid grid-cols-4 gap-3\">\n                            <div className=\"text-center\">\n                              <label className=\"text-sm font-medium block mb-2\">Morning</label>\n                              <div className=\"space-y-2\">\n                                <div className=\"flex items-center justify-center space-x-2\">\n                                  <input type=\"checkbox\" id={`morning-before-${index}`} className=\"rounded\" />\n                                  <label htmlFor={`morning-before-${index}`} className=\"text-xs\">Before meal</label>\n                                </div>\n                                <div className=\"flex items-center justify-center space-x-2\">\n                                  <input type=\"checkbox\" id={`morning-after-${index}`} className=\"rounded\" />\n                                  <label htmlFor={`morning-after-${index}`} className=\"text-xs\">After meal</label>\n                                </div>\n                                <Input placeholder=\"Dose\" className=\"text-center text-sm\" />\n                              </div>\n                            </div>\n                            \n                            <div className=\"text-center\">\n                              <label className=\"text-sm font-medium block mb-2\">Afternoon</label>\n                              <div className=\"space-y-2\">\n                                <div className=\"flex items-center justify-center space-x-2\">\n                                  <input type=\"checkbox\" id={`afternoon-before-${index}`} className=\"rounded\" />\n                                  <label htmlFor={`afternoon-before-${index}`} className=\"text-xs\">Before meal</label>\n                                </div>\n                                <div className=\"flex items-center justify-center space-x-2\">\n                                  <input type=\"checkbox\" id={`afternoon-after-${index}`} className=\"rounded\" />\n                                  <label htmlFor={`afternoon-after-${index}`} className=\"text-xs\">After meal</label>\n                                </div>\n                                <Input placeholder=\"Dose\" className=\"text-center text-sm\" />\n                              </div>\n                            </div>\n                            \n                            <div className=\"text-center\">\n                              <label className=\"text-sm font-medium block mb-2\">Evening</label>\n                              <div className=\"space-y-2\">\n                                <div className=\"flex items-center justify-center space-x-2\">\n                                  <input type=\"checkbox\" id={`evening-before-${index}`} className=\"rounded\" />\n                                  <label htmlFor={`evening-before-${index}`} className=\"text-xs\">Before meal</label>\n                                </div>\n                                <div className=\"flex items-center justify-center space-x-2\">\n                                  <input type=\"checkbox\" id={`evening-after-${index}`} className=\"rounded\" />\n                                  <label htmlFor={`evening-after-${index}`} className=\"text-xs\">After meal</label>\n                                </div>\n                                <Input placeholder=\"Dose\" className=\"text-center text-sm\" />\n                              </div>\n                            </div>\n                            \n                            <div className=\"text-center\">\n                              <label className=\"text-sm font-medium block mb-2\">Bedtime</label>\n                              <div className=\"space-y-2\">\n                                <div className=\"flex items-center justify-center space-x-2\">\n                                  <input type=\"checkbox\" id={`bedtime-empty-${index}`} className=\"rounded\" />\n                                  <label htmlFor={`bedtime-empty-${index}`} className=\"text-xs\">Empty stomach</label>\n                                </div>\n                                <div className=\"flex items-center justify-center space-x-2\">\n                                  <input type=\"checkbox\" id={`bedtime-food-${index}`} className=\"rounded\" />\n                                  <label htmlFor={`bedtime-food-${index}`} className=\"text-xs\">With food</label>\n                                </div>\n                                <Input placeholder=\"Dose\" className=\"text-center text-sm\" />\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n\n                        {/* Duration and Route */}\n                        <div className=\"grid grid-cols-2 gap-4 mb-4\">\n                          <div>\n                            <label className=\"text-sm font-medium\">Duration</label>\n                            <div className=\"flex gap-2\">\n                              <Input\n                                placeholder=\"Number\"\n                                className=\"w-20\"\n                                value={medication.duration}\n                                onChange={(e) => updateMedication('duration', e.target.value)}\n                              />\n                              <Select>\n                                <SelectTrigger className=\"flex-1\">\n                                  <SelectValue placeholder=\"Time unit\" />\n                                </SelectTrigger>\n                                <SelectContent>\n                                  <SelectItem value=\"days\">Days</SelectItem>\n                                  <SelectItem value=\"weeks\">Weeks</SelectItem>\n                                  <SelectItem value=\"months\">Months</SelectItem>\n                                  <SelectItem value=\"as_needed\">As needed</SelectItem>\n                                </SelectContent>\n                              </Select>\n                            </div>\n                          </div>\n                          <div>\n                            <label className=\"text-sm font-medium\">Route</label>\n                            <Select onValueChange={(value) => updateMedication('route', value)}>\n                              <SelectTrigger>\n                                <SelectValue placeholder=\"Administration route\" />\n                              </SelectTrigger>\n                              <SelectContent>\n                                <SelectItem value=\"oral\">Oral</SelectItem>\n                                <SelectItem value=\"topical\">Topical</SelectItem>\n                                <SelectItem value=\"injection\">Injection</SelectItem>\n                                <SelectItem value=\"inhalation\">Inhalation</SelectItem>\n                              </SelectContent>\n                            </Select>\n                          </div>\n                        </div>\n\n                        {/* Special Instructions */}\n                        <div>\n                          <label className=\"text-sm font-medium\">Special Instructions for this medication</label>\n                          <Textarea\n                            placeholder=\"Additional instructions, warnings, or precautions for this medication...\"\n                            value={medication.specialInstructions}\n                            onChange={(e) => updateMedication('specialInstructions', e.target.value)}\n                            rows={2}\n                          />\n                        </div>\n                      </div>\n                    );\n                  })}\n                  <Button \n                    onClick={() => prescriptionMutation.mutate({\n                      ...prescriptionForm,\n                      patientId: selectedPatient?.id\n                    })}\n                    disabled={prescriptionMutation.isPending}\n                    className=\"w-full\"\n                  >\n                    {prescriptionMutation.isPending ? \"Creating...\" : \"Create Prescription\"}\n                  </Button>\n                </div>\n              </DialogContent>\n            </Dialog>\n\n            <Dialog open={labOrderDialog} onOpenChange={setLabOrderDialog}>\n              <DialogTrigger asChild>\n                <Button variant=\"outline\" className=\"flex items-center gap-2\">\n                  <TestTube className=\"w-4 h-4\" />\n                  Order Lab Tests\n                </Button>\n              </DialogTrigger>\n              <DialogContent>\n                <DialogHeader>\n                  <DialogTitle>Order Lab Tests</DialogTitle>\n                  <DialogDescription>\n                    Order lab tests for {selectedPatient?.name}\n                  </DialogDescription>\n                </DialogHeader>\n                <div className=\"space-y-4\">\n                  {/* Blood Tests */}\n                  <div>\n                    <label className=\"text-sm font-medium\">Blood Tests</label>\n                    <Select onValueChange={(value) => {\n                      if (!labOrderForm.bloodTests.includes(value)) {\n                        setLabOrderForm({\n                          ...labOrderForm, \n                          bloodTests: [...labOrderForm.bloodTests, value]\n                        });\n                      }\n                    }}>\n                      <SelectTrigger>\n                        <SelectValue placeholder=\"Select blood tests\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"CBC\">Complete Blood Count (CBC)</SelectItem>\n                        <SelectItem value=\"BMP\">Basic Metabolic Panel (BMP)</SelectItem>\n                        <SelectItem value=\"CMP\">Comprehensive Metabolic Panel (CMP)</SelectItem>\n                        <SelectItem value=\"Lipid Panel\">Lipid Panel</SelectItem>\n                        <SelectItem value=\"HbA1c\">Hemoglobin A1c</SelectItem>\n                        <SelectItem value=\"TSH\">Thyroid Stimulating Hormone (TSH)</SelectItem>\n                        <SelectItem value=\"T3T4\">Free T3 & T4</SelectItem>\n                        <SelectItem value=\"Liver Function\">Liver Function Tests</SelectItem>\n                        <SelectItem value=\"Kidney Function\">Kidney Function Tests</SelectItem>\n                        <SelectItem value=\"ESR\">Erythrocyte Sedimentation Rate (ESR)</SelectItem>\n                        <SelectItem value=\"CRP\">C-Reactive Protein (CRP)</SelectItem>\n                        <SelectItem value=\"PT/INR\">Prothrombin Time/INR</SelectItem>\n                      </SelectContent>\n                    </Select>\n                    <div className=\"flex flex-wrap gap-2 mt-2\">\n                      {labOrderForm.bloodTests.map((test, index) => (\n                        <Badge key={index} variant=\"secondary\" className=\"flex items-center gap-1\">\n                          {test}\n                          <button onClick={() => setLabOrderForm({\n                            ...labOrderForm,\n                            bloodTests: labOrderForm.bloodTests.filter((_, i) => i !== index)\n                          })}>Ã—</button>\n                        </Badge>\n                      ))}\n                    </div>\n                  </div>\n\n                  {/* Imaging Tests */}\n                  <div>\n                    <label className=\"text-sm font-medium\">Imaging Tests</label>\n                    <Select onValueChange={(value) => {\n                      if (!labOrderForm.imagingTests.includes(value)) {\n                        setLabOrderForm({\n                          ...labOrderForm, \n                          imagingTests: [...labOrderForm.imagingTests, value]\n                        });\n                      }\n                    }}>\n                      <SelectTrigger>\n                        <SelectValue placeholder=\"Select imaging tests\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"Chest X-Ray\">Chest X-Ray</SelectItem>\n                        <SelectItem value=\"Abdominal X-Ray\">Abdominal X-Ray</SelectItem>\n                        <SelectItem value=\"CT Chest\">CT Scan - Chest</SelectItem>\n                        <SelectItem value=\"CT Abdomen\">CT Scan - Abdomen & Pelvis</SelectItem>\n                        <SelectItem value=\"CT Head\">CT Scan - Head</SelectItem>\n                        <SelectItem value=\"MRI Brain\">MRI - Brain</SelectItem>\n                        <SelectItem value=\"MRI Spine\">MRI - Spine</SelectItem>\n                        <SelectItem value=\"Ultrasound Abdomen\">Ultrasound - Abdomen</SelectItem>\n                        <SelectItem value=\"Echo\">Echocardiogram</SelectItem>\n                        <SelectItem value=\"ECG\">Electrocardiogram (ECG)</SelectItem>\n                      </SelectContent>\n                    </Select>\n                    <div className=\"flex flex-wrap gap-2 mt-2\">\n                      {labOrderForm.imagingTests.map((test, index) => (\n                        <Badge key={index} variant=\"outline\" className=\"flex items-center gap-1\">\n                          {test}\n                          <button onClick={() => setLabOrderForm({\n                            ...labOrderForm,\n                            imagingTests: labOrderForm.imagingTests.filter((_, i) => i !== index)\n                          })}>Ã—</button>\n                        </Badge>\n                      ))}\n                    </div>\n                  </div>\n\n                  {/* Other Tests */}\n                  <div>\n                    <label className=\"text-sm font-medium\">Other Tests</label>\n                    <Select onValueChange={(value) => {\n                      if (!labOrderForm.otherTests.includes(value)) {\n                        setLabOrderForm({\n                          ...labOrderForm, \n                          otherTests: [...labOrderForm.otherTests, value]\n                        });\n                      }\n                    }}>\n                      <SelectTrigger>\n                        <SelectValue placeholder=\"Select other tests\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"Urine Analysis\">Urine Analysis</SelectItem>\n                        <SelectItem value=\"Stool Test\">Stool Analysis</SelectItem>\n                        <SelectItem value=\"Blood Sugar\">Random Blood Sugar</SelectItem>\n                        <SelectItem value=\"Fasting Sugar\">Fasting Blood Sugar</SelectItem>\n                        <SelectItem value=\"OGTT\">Oral Glucose Tolerance Test</SelectItem>\n                        <SelectItem value=\"Culture\">Blood/Urine Culture</SelectItem>\n                        <SelectItem value=\"Biopsy\">Tissue Biopsy</SelectItem>\n                      </SelectContent>\n                    </Select>\n                    <div className=\"flex flex-wrap gap-2 mt-2\">\n                      {labOrderForm.otherTests.map((test, index) => (\n                        <Badge key={index} variant=\"destructive\" className=\"flex items-center gap-1\">\n                          {test}\n                          <button onClick={() => setLabOrderForm({\n                            ...labOrderForm,\n                            otherTests: labOrderForm.otherTests.filter((_, i) => i !== index)\n                          })}>Ã—</button>\n                        </Badge>\n                      ))}\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"text-sm font-medium\">Priority</label>\n                      <Select value={labOrderForm.priority} onValueChange={(value) => \n                        setLabOrderForm({...labOrderForm, priority: value})\n                      }>\n                        <SelectTrigger>\n                          <SelectValue />\n                        </SelectTrigger>\n                        <SelectContent>\n                          <SelectItem value=\"routine\">Routine (24-48 hours)</SelectItem>\n                          <SelectItem value=\"urgent\">Urgent (4-6 hours)</SelectItem>\n                          <SelectItem value=\"stat\">STAT (Immediate)</SelectItem>\n                        </SelectContent>\n                      </Select>\n                    </div>\n                    <div className=\"flex items-center space-x-2 pt-6\">\n                      <input\n                        type=\"checkbox\"\n                        id=\"fasting\"\n                        checked={labOrderForm.fasting}\n                        onChange={(e) => setLabOrderForm({...labOrderForm, fasting: e.target.checked})}\n                        className=\"rounded\"\n                      />\n                      <label htmlFor=\"fasting\" className=\"text-sm font-medium\">\n                        Fasting Required (8-12 hours)\n                      </label>\n                    </div>\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm font-medium\">Clinical Indications</label>\n                    <Textarea\n                      placeholder=\"Why are these tests being ordered? Clinical symptoms, differential diagnosis...\"\n                      value={labOrderForm.indicationsForTesting}\n                      onChange={(e) => setLabOrderForm({...labOrderForm, indicationsForTesting: e.target.value})}\n                      rows={2}\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm font-medium\">Additional Clinical Notes</label>\n                    <Textarea\n                      placeholder=\"Special instructions for lab technicians, patient preparation notes...\"\n                      value={labOrderForm.clinicalNotes}\n                      onChange={(e) => setLabOrderForm({...labOrderForm, clinicalNotes: e.target.value})}\n                      rows={2}\n                    />\n                  </div>\n                  <Button \n                    onClick={() => labOrderMutation.mutate({\n                      ...labOrderForm,\n                      patientId: selectedPatient?.id\n                    })}\n                    disabled={labOrderMutation.isPending}\n                    className=\"w-full\"\n                  >\n                    {labOrderMutation.isPending ? \"Ordering...\" : \"Order Tests\"}\n                  </Button>\n                </div>\n              </DialogContent>\n            </Dialog>\n\n            <Dialog open={aiConsultDialog} onOpenChange={setAiConsultDialog}>\n              <DialogTrigger asChild>\n                <Button variant=\"outline\" className=\"flex items-center gap-2\">\n                  <Bot className=\"w-4 h-4\" />\n                  AI Consult\n                </Button>\n              </DialogTrigger>\n              <DialogContent className=\"max-w-2xl\">\n                <DialogHeader>\n                  <DialogTitle>AI Medical Consultation</DialogTitle>\n                  <DialogDescription>\n                    Get AI assistance for diagnosis and treatment recommendations\n                  </DialogDescription>\n                </DialogHeader>\n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"text-sm font-medium\">Patient</label>\n                    <Select onValueChange={(value) => setSelectedPatient({id: value, name: value})}>\n                      <SelectTrigger>\n                        <SelectValue placeholder=\"Select patient\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        {(patientQueue || []).map((patient: any) => (\n                          <SelectItem key={patient.id} value={patient.id}>\n                            {patient.name}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  </div>\n                  <div>\n                    <label className=\"text-sm font-medium\">Consultation Type</label>\n                    <Select defaultValue=\"diagnosis\">\n                      <SelectTrigger>\n                        <SelectValue />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"diagnosis\">Diagnosis Assistance</SelectItem>\n                        <SelectItem value=\"treatment\">Treatment Options</SelectItem>\n                        <SelectItem value=\"drug_interaction\">Drug Interactions</SelectItem>\n                      </SelectContent>\n                    </Select>\n                  </div>\n                  <div>\n                    <label className=\"text-sm font-medium\">Query</label>\n                    <Textarea\n                      placeholder=\"Describe symptoms, patient history, or your medical question...\"\n                      rows={4}\n                    />\n                  </div>\n                  <Button className=\"w-full\">\n                    <Brain className=\"w-4 h-4 mr-2\" />\n                    Get AI Consultation\n                  </Button>\n                </div>\n              </DialogContent>\n            </Dialog>\n\n            <Dialog>\n              <DialogTrigger asChild>\n                <Button variant=\"outline\" className=\"flex items-center gap-2\">\n                  <UserPlus className=\"w-4 h-4\" />\n                  Admit Patient\n                </Button>\n              </DialogTrigger>\n              <DialogContent>\n                <DialogHeader>\n                  <DialogTitle>Admit Patient to Hospital</DialogTitle>\n                  <DialogDescription>\n                    Admit patient for inpatient care and assign room\n                  </DialogDescription>\n                </DialogHeader>\n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"text-sm font-medium\">Patient</label>\n                    <Select>\n                      <SelectTrigger>\n                        <SelectValue placeholder=\"Select patient to admit\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        {(patientQueue || []).map((patient: any) => (\n                          <SelectItem key={patient.id} value={patient.id}>\n                            {patient.name}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  </div>\n                  <div>\n                    <label className=\"text-sm font-medium\">Admission Type</label>\n                    <Select>\n                      <SelectTrigger>\n                        <SelectValue placeholder=\"Select admission type\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"emergency\">Emergency Admission</SelectItem>\n                        <SelectItem value=\"elective\">Elective Admission</SelectItem>\n                        <SelectItem value=\"urgent\">Urgent Admission</SelectItem>\n                        <SelectItem value=\"observation\">Observation</SelectItem>\n                      </SelectContent>\n                    </Select>\n                  </div>\n                  <div>\n                    <label className=\"text-sm font-medium\">Department</label>\n                    <Select>\n                      <SelectTrigger>\n                        <SelectValue placeholder=\"Select department\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"general\">General Medicine</SelectItem>\n                        <SelectItem value=\"surgery\">Surgery</SelectItem>\n                        <SelectItem value=\"cardiology\">Cardiology</SelectItem>\n                        <SelectItem value=\"orthopedics\">Orthopedics</SelectItem>\n                        <SelectItem value=\"icu\">Intensive Care Unit</SelectItem>\n                        <SelectItem value=\"pediatrics\">Pediatrics</SelectItem>\n                      </SelectContent>\n                    </Select>\n                  </div>\n                  <div>\n                    <label className=\"text-sm font-medium\">Room Assignment</label>\n                    <Select>\n                      <SelectTrigger>\n                        <SelectValue placeholder=\"Assign room\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"101\">Room 101 - General Ward</SelectItem>\n                        <SelectItem value=\"201\">Room 201 - Private Room</SelectItem>\n                        <SelectItem value=\"301\">Room 301 - ICU</SelectItem>\n                        <SelectItem value=\"401\">Room 401 - Surgery Recovery</SelectItem>\n                      </SelectContent>\n                    </Select>\n                  </div>\n                  <div>\n                    <label className=\"text-sm font-medium\">Admission Diagnosis</label>\n                    <Textarea\n                      placeholder=\"Primary diagnosis for admission...\"\n                      rows={2}\n                    />\n                  </div>\n                  <div>\n                    <label className=\"text-sm font-medium\">Clinical Notes</label>\n                    <Textarea\n                      placeholder=\"Additional clinical notes, care instructions...\"\n                      rows={3}\n                    />\n                  </div>\n                  <Button className=\"w-full\">\n                    <UserPlus className=\"w-4 h-4 mr-2\" />\n                    Admit Patient\n                  </Button>\n                </div>\n              </DialogContent>\n            </Dialog>\n\n            <Button variant=\"outline\" className=\"flex items-center gap-2\">\n              <Calendar className=\"w-4 h-4\" />\n              Schedule Followup\n            </Button>\n          </div>\n        </div>\n\n        {/* AI Scribe Panel */}\n        {isRecording && (\n          <div className=\"bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 rounded-xl p-4 mb-6\">\n            <div className=\"flex items-center justify-between mb-3\">\n              <div className=\"flex items-center gap-2\">\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-3 h-3 bg-red-500 rounded-full animate-pulse\"></div>\n                  <span className=\"font-medium text-red-800\">AI Scribe Recording</span>\n                </div>\n                <Volume2 className=\"w-4 h-4 text-red-600\" />\n              </div>\n              <Button size=\"sm\" variant=\"outline\" onClick={toggleRecording}>\n                <StopCircle className=\"w-4 h-4 mr-2\" />\n                Save & Stop\n              </Button>\n            </div>\n            <div className=\"bg-white rounded-lg p-3 border\">\n              <p className=\"text-sm text-gray-700 italic\">\n                {transcription}\n              </p>\n            </div>\n          </div>\n        )}\n\n        {/* Main Dashboard Grid */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* Left Column - Patient Queue & Appointments */}\n          <div className=\"lg:col-span-2 space-y-6\">\n            {/* Patient Queue */}\n            <HealthcareCard title=\"Patient Queue\" description=\"Your assigned patients today\">\n              <div className=\"space-y-3\">\n                {queueLoading ? (\n                  <div className=\"text-center py-8 text-gray-500\">Loading patient queue...</div>\n                ) : patientQueue.length === 0 ? (\n                  <div className=\"text-center py-8 text-gray-500\">No patients in queue</div>\n                ) : (\n                  (patientQueue || []).map((patient: any) => (\n                    <div key={patient.id} className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\">\n                      <div className=\"flex items-center gap-4\">\n                        <div className=\"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\">\n                          <Users className=\"w-5 h-5 text-blue-600\" />\n                        </div>\n                        <div>\n                          <p className=\"font-semibold\">{patient.name || `Queue #${patient.queueNumber}`}</p>\n                          <p className=\"text-sm text-gray-600\">{patient.reasonForVisit}</p>\n                          <div className=\"flex items-center gap-2 mt-1\">\n                            <Badge \n                              variant=\"outline\" \n                              className={\n                                patient.priority === 'critical' ? 'border-red-500 text-red-700' :\n                                patient.priority === 'high' ? 'border-orange-500 text-orange-700' :\n                                'border-green-500 text-green-700'\n                              }\n                            >\n                              {patient.priority?.toUpperCase() || 'NORMAL'}\n                            </Badge>\n                            <span className=\"text-xs text-gray-500\">\n                              {patient.estimatedWaitTime ? `~${patient.estimatedWaitTime}min` : 'Waiting'}\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Button \n                          size=\"sm\" \n                          variant=\"outline\"\n                          onClick={() => {\n                            setSelectedPatientDetails(patient);\n                            setPatientDetailsDialog(true);\n                          }}\n                        >\n                          <FileText className=\"w-4 h-4 mr-1\" />\n                          View Details\n                        </Button>\n                        <Button \n                          size=\"sm\"\n                          onClick={() => {\n                            setSelectedPatient(patient);\n                            setSelectedPatientDetails(patient);\n                            setPatientDetailsDialog(true);\n                          }}\n                        >\n                          <Stethoscope className=\"w-4 h-4 mr-1\" />\n                          Consult\n                        </Button>\n                      </div>\n                    </div>\n                  ))\n                )}\n              </div>\n            </HealthcareCard>\n\n            {/* Appointments */}\n            <HealthcareCard title=\"Today's Appointments\" description=\"Scheduled consultations\">\n              <div className=\"space-y-3\">\n                {appointmentsLoading ? (\n                  <div className=\"text-center py-4 text-gray-500\">Loading appointments...</div>\n                ) : appointments.length === 0 ? (\n                  <div className=\"text-center py-4 text-gray-500\">No appointments scheduled</div>\n                ) : (\n                  appointments.map((appointment: any) => (\n                    <div \n                      key={appointment.id} \n                      className=\"flex items-center justify-between p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors\"\n                      onClick={() => {\n                        setSelectedPatientDetails(appointment);\n                        setPatientDetailsDialog(true);\n                      }}\n                    >\n                      <div className=\"flex items-center gap-3\">\n                        <Calendar className=\"w-5 h-5 text-blue-600\" />\n                        <div>\n                          <p className=\"font-medium\">{appointment.patientName}</p>\n                          <p className=\"text-sm text-gray-600\">{appointment.appointmentType}</p>\n                        </div>\n                      </div>\n                      <div className=\"text-right\">\n                        <p className=\"font-medium\">{new Date(appointment.scheduledTime).toLocaleTimeString()}</p>\n                        <Badge \n                          variant=\"outline\"\n                          className={\n                            appointment.status === 'completed' ? 'border-green-500 text-green-700' :\n                            appointment.status === 'in_progress' ? 'border-yellow-500 text-yellow-700' :\n                            'border-blue-500 text-blue-700'\n                          }\n                        >\n                          {appointment.status}\n                        </Badge>\n                      </div>\n                    </div>\n                  ))\n                )}\n              </div>\n            </HealthcareCard>\n          </div>\n\n          {/* Right Column - Lab Results & Quick Actions */}\n          <div className=\"space-y-6\">\n            {/* Quick Stats */}\n            <div className=\"grid grid-cols-2 gap-4\">\n              <Card>\n                <CardContent className=\"p-4\">\n                  <div className=\"flex items-center gap-2\">\n                    <Users className=\"w-5 h-5 text-blue-600\" />\n                    <div>\n                      <p className=\"text-2xl font-bold\">{patientQueue.length}</p>\n                      <p className=\"text-xs text-gray-600\">Patients Today</p>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n              <Card>\n                <CardContent className=\"p-4\">\n                  <div className=\"flex items-center gap-2\">\n                    <FlaskConical className=\"w-5 h-5 text-green-600\" />\n                    <div>\n                      <p className=\"text-2xl font-bold\">{labResults.length}</p>\n                      <p className=\"text-xs text-gray-600\">Lab Reports</p>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n\n            {/* Lab Results */}\n            <HealthcareCard title=\"Laboratory Results\" description=\"Recent test results\">\n              <div className=\"space-y-3\">\n                {labLoading ? (\n                  <div className=\"text-center py-4 text-gray-500\">Loading lab results...</div>\n                ) : labResults.length === 0 ? (\n                  <div className=\"text-center py-4 text-gray-500\">No recent lab results</div>\n                ) : (\n                  labResults.slice(0, 5).map((result: any) => (\n                    <div key={result.id} className=\"flex items-center justify-between p-3 border rounded-lg\">\n                      <div>\n                        <p className=\"font-medium\">{result.testName}</p>\n                        <p className=\"text-sm text-gray-600\">{result.patientName}</p>\n                      </div>\n                      <div className=\"text-right\">\n                        <Badge \n                          variant=\"outline\"\n                          className={\n                            result.status === 'abnormal' ? 'border-red-500 text-red-700' :\n                            result.status === 'critical' ? 'border-red-600 text-red-800 bg-red-50' :\n                            'border-green-500 text-green-700'\n                          }\n                        >\n                          {result.status}\n                        </Badge>\n                        <p className=\"text-xs text-gray-500 mt-1\">\n                          {new Date(result.reportedAt).toLocaleDateString()}\n                        </p>\n                      </div>\n                    </div>\n                  ))\n                )}\n              </div>\n            </HealthcareCard>\n\n            {/* Quick Actions */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-lg\">Quick Actions</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"grid gap-3\">\n                  <Button className=\"w-full justify-start\" variant=\"outline\">\n                    <PlusCircle className=\"w-4 h-4 mr-2\" />\n                    New Consultation\n                  </Button>\n                  <Button className=\"w-full justify-start\" variant=\"outline\">\n                    <FlaskConical className=\"w-4 h-4 mr-2\" />\n                    Order Lab Tests\n                  </Button>\n                  <Button className=\"w-full justify-start\" variant=\"outline\">\n                    <Search className=\"w-4 h-4 mr-2\" />\n                    Search Patient Records\n                  </Button>\n                  <Button className=\"w-full justify-start\" variant=\"outline\">\n                    <MessageCircle className=\"w-4 h-4 mr-2\" />\n                    Consult Colleague\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n\n        {/* Recent Consultations */}\n        <div className=\"mt-6\">\n          <HealthcareCard title=\"Recent Consultations\" description=\"Patient interactions and treatments\">\n            <div className=\"grid gap-4\">\n              {consultationsLoading ? (\n                <div className=\"text-center py-8 text-gray-500\">Loading consultations...</div>\n              ) : consultations.length === 0 ? (\n                <div className=\"text-center py-8 text-gray-500\">No recent consultations</div>\n              ) : (\n                (consultations || []).slice(0, 6).map((consultation: any) => (\n                  <div key={consultation.id} className=\"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50\">\n                    <div className=\"flex items-center gap-4\">\n                      <div className=\"w-10 h-10 bg-teal-100 rounded-full flex items-center justify-center\">\n                        <Heart className=\"w-5 h-5 text-teal-600\" />\n                      </div>\n                      <div>\n                        <p className=\"font-semibold\">{consultation.patientName}</p>\n                        <p className=\"text-sm text-gray-600\">{consultation.notes?.substring(0, 60)}...</p>\n                        <p className=\"text-xs text-gray-500\">\n                          {new Date(consultation.consultationTime).toLocaleDateString()}\n                        </p>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <Badge \n                        variant=\"outline\"\n                        className={\n                          consultation.status === 'completed' ? 'border-green-500 text-green-700' :\n                          consultation.status === 'in_progress' ? 'border-yellow-500 text-yellow-700' :\n                          'border-blue-500 text-blue-700'\n                        }\n                      >\n                        {consultation.status}\n                      </Badge>\n                      <Button size=\"sm\" variant=\"outline\">View Details</Button>\n                    </div>\n                  </div>\n                ))\n              )}\n            </div>\n          </HealthcareCard>\n        </div>\n\n        {/* Patient Details Dialog */}\n        <Dialog open={patientDetailsDialog} onOpenChange={setPatientDetailsDialog}>\n          <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto\">\n            <DialogHeader>\n              <DialogTitle>Patient Details - {selectedPatientDetails?.name || selectedPatientDetails?.patientName}</DialogTitle>\n              <DialogDescription>\n                Complete patient information, vitals, and medical history\n              </DialogDescription>\n            </DialogHeader>\n            \n            {selectedPatientDetails && (\n              <div className=\"space-y-6\">\n                {/* Patient Info Header */}\n                <div className=\"bg-blue-50 rounded-lg p-4\">\n                  <div className=\"grid grid-cols-3 gap-4\">\n                    <div>\n                      <label className=\"text-sm font-medium text-gray-600\">Patient Name</label>\n                      <p className=\"font-semibold\">{selectedPatientDetails.name || selectedPatientDetails.patientName}</p>\n                    </div>\n                    <div>\n                      <label className=\"text-sm font-medium text-gray-600\">Age</label>\n                      <p className=\"font-semibold\">{selectedPatientDetails.age || '32 years'}</p>\n                    </div>\n                    <div>\n                      <label className=\"text-sm font-medium text-gray-600\">Gender</label>\n                      <p className=\"font-semibold\">{selectedPatientDetails.gender || 'Female'}</p>\n                    </div>\n                  </div>\n                  <div className=\"grid grid-cols-2 gap-4 mt-3\">\n                    <div>\n                      <label className=\"text-sm font-medium text-gray-600\">Reason for Visit</label>\n                      <p className=\"font-semibold\">{selectedPatientDetails.reasonForVisit || selectedPatientDetails.appointmentType || 'General Consultation'}</p>\n                    </div>\n                    <div>\n                      <label className=\"text-sm font-medium text-gray-600\">Priority</label>\n                      <Badge \n                        variant=\"outline\" \n                        className={\n                          selectedPatientDetails.priority === 'critical' ? 'border-red-500 text-red-700' :\n                          selectedPatientDetails.priority === 'high' ? 'border-orange-500 text-orange-700' :\n                          'border-green-500 text-green-700'\n                        }\n                      >\n                        {selectedPatientDetails.priority?.toUpperCase() || 'NORMAL'}\n                      </Badge>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Current Vitals */}\n                <div>\n                  <h3 className=\"text-lg font-semibold mb-3\">Current Vitals</h3>\n                  {vitalsLoading ? (\n                    <div className=\"bg-gray-50 rounded-lg p-4\">\n                      <div className=\"text-center py-4 text-gray-500\">Loading vitals...</div>\n                    </div>\n                  ) : patientVitals && patientVitals.length > 0 ? (\n                    <div className=\"bg-gray-50 rounded-lg p-4\">\n                      <div className=\"grid grid-cols-4 gap-4\">\n                        <div className=\"text-center\">\n                          <Heart className=\"w-8 h-8 text-red-500 mx-auto mb-2\" />\n                          <p className=\"text-2xl font-bold text-red-600\">{patientVitals[0].heartRate || '--'}</p>\n                          <p className=\"text-sm text-gray-600\">Heart Rate</p>\n                          <p className=\"text-xs text-gray-500\">bpm</p>\n                        </div>\n                        <div className=\"text-center\">\n                          <Activity className=\"w-8 h-8 text-blue-500 mx-auto mb-2\" />\n                          <p className=\"text-2xl font-bold text-blue-600\">{patientVitals[0].bloodPressure || '--'}</p>\n                          <p className=\"text-sm text-gray-600\">Blood Pressure</p>\n                          <p className=\"text-xs text-gray-500\">mmHg</p>\n                        </div>\n                        <div className=\"text-center\">\n                          <div className=\"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2\">\n                            <span className=\"text-green-600 font-bold\">Â°</span>\n                          </div>\n                          <p className=\"text-2xl font-bold text-green-600\">{patientVitals[0].temperatureC || '--'}</p>\n                          <p className=\"text-sm text-gray-600\">Temperature</p>\n                          <p className=\"text-xs text-gray-500\">Â°C</p>\n                        </div>\n                        <div className=\"text-center\">\n                          <div className=\"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-2\">\n                            <span className=\"text-purple-600 font-bold\">Oâ‚‚</span>\n                          </div>\n                          <p className=\"text-2xl font-bold text-purple-600\">{patientVitals[0].oxygenSaturation || '--'}</p>\n                          <p className=\"text-sm text-gray-600\">Oxygen Sat</p>\n                          <p className=\"text-xs text-gray-500\">%</p>\n                        </div>\n                      </div>\n                      <div className=\"mt-3 text-xs text-gray-500 text-center\">\n                        Recorded: {patientVitals[0].recordedAt ? new Date(patientVitals[0].recordedAt).toLocaleString() : 'Unknown'}\n                      </div>\n                    </div>\n                  ) : (\n                    <div className=\"bg-gray-50 rounded-lg p-4\">\n                      <div className=\"text-center py-4 text-gray-500\">No recent vitals recorded</div>\n                    </div>\n                  )}\n                </div>\n\n                {/* Medical History */}\n                <div>\n                  <h3 className=\"text-lg font-semibold mb-3\">Medical History</h3>\n                  {historyLoading ? (\n                    <div className=\"text-center py-4 text-gray-500\">Loading medical history...</div>\n                  ) : patientMedicalHistory && patientMedicalHistory.length > 0 ? (\n                    <div className=\"space-y-3\">\n                      {patientMedicalHistory.map((record: any) => (\n                        <div key={record.id} className=\"border rounded-lg p-3\">\n                          <div className=\"flex justify-between items-start\">\n                            <div>\n                              <p className=\"font-medium\">{record.recordType}</p>\n                              <p className=\"text-sm text-gray-600\">\n                                {record.createdAt ? new Date(record.createdAt).toLocaleDateString() : 'Date unknown'}\n                              </p>\n                            </div>\n                            <Badge variant=\"outline\" className=\"border-blue-500 text-blue-700\">Medical Record</Badge>\n                          </div>\n                          <p className=\"text-sm text-gray-700 mt-2\">{record.content}</p>\n                        </div>\n                      ))}\n                    </div>\n                  ) : (\n                    <div className=\"text-center py-4 text-gray-500\">No medical history available</div>\n                  )}\n                </div>\n\n                {/* Recent Lab Results */}\n                <div>\n                  <h3 className=\"text-lg font-semibold mb-3\">Recent Lab Results</h3>\n                  <div className=\"overflow-x-auto\">\n                    <table className=\"w-full border-collapse border border-gray-200\">\n                      <thead>\n                        <tr className=\"bg-gray-50\">\n                          <th className=\"border border-gray-200 px-3 py-2 text-left\">Test</th>\n                          <th className=\"border border-gray-200 px-3 py-2 text-left\">Result</th>\n                          <th className=\"border border-gray-200 px-3 py-2 text-left\">Reference Range</th>\n                          <th className=\"border border-gray-200 px-3 py-2 text-left\">Status</th>\n                          <th className=\"border border-gray-200 px-3 py-2 text-left\">Date</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        <tr>\n                          <td className=\"border border-gray-200 px-3 py-2\">HbA1c</td>\n                          <td className=\"border border-gray-200 px-3 py-2 font-medium\">7.2%</td>\n                          <td className=\"border border-gray-200 px-3 py-2\">4.0-5.6%</td>\n                          <td className=\"border border-gray-200 px-3 py-2\">\n                            <Badge variant=\"outline\" className=\"border-orange-500 text-orange-700\">Elevated</Badge>\n                          </td>\n                          <td className=\"border border-gray-200 px-3 py-2\">Dec 15, 2024</td>\n                        </tr>\n                        <tr>\n                          <td className=\"border border-gray-200 px-3 py-2\">Total Cholesterol</td>\n                          <td className=\"border border-gray-200 px-3 py-2 font-medium\">195 mg/dL</td>\n                          <td className=\"border border-gray-200 px-3 py-2\">&lt;200 mg/dL</td>\n                          <td className=\"border border-gray-200 px-3 py-2\">\n                            <Badge variant=\"outline\" className=\"border-green-500 text-green-700\">Normal</Badge>\n                          </td>\n                          <td className=\"border border-gray-200 px-3 py-2\">Dec 15, 2024</td>\n                        </tr>\n                        <tr>\n                          <td className=\"border border-gray-200 px-3 py-2\">Creatinine</td>\n                          <td className=\"border border-gray-200 px-3 py-2 font-medium\">1.0 mg/dL</td>\n                          <td className=\"border border-gray-200 px-3 py-2\">0.6-1.2 mg/dL</td>\n                          <td className=\"border border-gray-200 px-3 py-2\">\n                            <Badge variant=\"outline\" className=\"border-green-500 text-green-700\">Normal</Badge>\n                          </td>\n                          <td className=\"border border-gray-200 px-3 py-2\">Dec 15, 2024</td>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n\n                {/* Current Medications */}\n                <div>\n                  <h3 className=\"text-lg font-semibold mb-3\">Current Medications</h3>\n                  <div className=\"space-y-2\">\n                    <div className=\"flex justify-between items-center p-3 bg-blue-50 rounded-lg\">\n                      <div>\n                        <p className=\"font-medium\">Metformin 500mg</p>\n                        <p className=\"text-sm text-gray-600\">Twice daily with meals</p>\n                      </div>\n                      <Badge variant=\"outline\" className=\"border-blue-500 text-blue-700\">Active</Badge>\n                    </div>\n                    <div className=\"flex justify-between items-center p-3 bg-blue-50 rounded-lg\">\n                      <div>\n                        <p className=\"font-medium\">Lisinopril 10mg</p>\n                        <p className=\"text-sm text-gray-600\">Once daily in the morning</p>\n                      </div>\n                      <Badge variant=\"outline\" className=\"border-blue-500 text-blue-700\">Active</Badge>\n                    </div>\n                    <div className=\"flex justify-between items-center p-3 bg-gray-50 rounded-lg\">\n                      <div>\n                        <p className=\"font-medium\">Cetirizine 10mg</p>\n                        <p className=\"text-sm text-gray-600\">As needed for allergies</p>\n                      </div>\n                      <Badge variant=\"outline\" className=\"border-gray-500 text-gray-700\">PRN</Badge>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Previous Visits */}\n                <div>\n                  <h3 className=\"text-lg font-semibold mb-3\">Previous Visits</h3>\n                  <div className=\"space-y-3\">\n                    <div className=\"border-l-4 border-blue-500 pl-4 py-2\">\n                      <div className=\"flex justify-between items-start\">\n                        <div>\n                          <p className=\"font-medium\">Routine Diabetes Follow-up</p>\n                          <p className=\"text-sm text-gray-600\">December 1, 2024</p>\n                        </div>\n                        <Badge variant=\"outline\">Completed</Badge>\n                      </div>\n                      <p className=\"text-sm text-gray-700 mt-1\">HbA1c slightly elevated. Discussed dietary modifications.</p>\n                    </div>\n                    \n                    <div className=\"border-l-4 border-green-500 pl-4 py-2\">\n                      <div className=\"flex justify-between items-start\">\n                        <div>\n                          <p className=\"font-medium\">Annual Physical Exam</p>\n                          <p className=\"text-sm text-gray-600\">September 15, 2024</p>\n                        </div>\n                        <Badge variant=\"outline\">Completed</Badge>\n                      </div>\n                      <p className=\"text-sm text-gray-700 mt-1\">Overall health stable. Blood pressure well controlled.</p>\n                    </div>\n\n                    <div className=\"border-l-4 border-orange-500 pl-4 py-2\">\n                      <div className=\"flex justify-between items-start\">\n                        <div>\n                          <p className=\"font-medium\">Allergy Consultation</p>\n                          <p className=\"text-sm text-gray-600\">June 20, 2024</p>\n                        </div>\n                        <Badge variant=\"outline\">Completed</Badge>\n                      </div>\n                      <p className=\"text-sm text-gray-700 mt-1\">Seasonal allergies confirmed. Prescribed antihistamine regimen.</p>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Action Buttons */}\n                <div className=\"flex gap-3 pt-4 border-t\">\n                  <Button \n                    onClick={() => {\n                      setPatientDetailsDialog(false);\n                      setPrescriptionDialog(true);\n                    }}\n                    className=\"flex items-center gap-2\"\n                  >\n                    <Pill className=\"w-4 h-4\" />\n                    Write Prescription\n                  </Button>\n                  <Button \n                    variant=\"outline\"\n                    onClick={() => {\n                      setPatientDetailsDialog(false);\n                      setLabOrderDialog(true);\n                    }}\n                    className=\"flex items-center gap-2\"\n                  >\n                    <TestTube className=\"w-4 h-4\" />\n                    Order Lab Tests\n                  </Button>\n                  <Button variant=\"outline\" className=\"flex items-center gap-2\">\n                    <FileText className=\"w-4 h-4\" />\n                    Add Notes\n                  </Button>\n                </div>\n              </div>\n            )}\n          </DialogContent>\n        </Dialog>\n      </div>\n    </div>\n  );\n}","size_bytes":73468},"client/src/pages/doctor-dashboard.tsx":{"content":"import { useEffect } from \"react\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport Sidebar from \"@/components/layout/sidebar\";\nimport Header from \"@/components/layout/header\";\nimport StatsCard from \"@/components/dashboard/stats-card\";\nimport QueueManagement from \"@/components/dashboard/queue-management\";\n\nexport default function DoctorDashboard() {\n  const { toast } = useToast();\n  const { isAuthenticated, isLoading, user } = useAuth();\n\n  // Redirect if not authenticated or not doctor\n  useEffect(() => {\n    if (!isLoading && (!isAuthenticated || user?.role !== 'doctor')) {\n      toast({\n        title: \"Unauthorized\",\n        description: \"You need doctor access to view this page.\",\n        variant: \"destructive\",\n      });\n      setTimeout(() => {\n        window.location.href = \"/api/login\";\n      }, 500);\n      return;\n    }\n  }, [isAuthenticated, isLoading, user, toast]);\n\n  const { data: queue, isLoading: queueLoading } = useQuery({\n    queryKey: [\"/api/queue\", { doctorId: user?.roleData?.id }],\n    enabled: isAuthenticated && user?.role === 'doctor' && user?.roleData?.id,\n  });\n\n  if (isLoading || !user) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-medical-bg\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 bg-medical-blue rounded-xl flex items-center justify-center mx-auto mb-4 animate-pulse\">\n            <i className=\"fas fa-user-md text-white text-2xl\"></i>\n          </div>\n          <p className=\"text-medical-gray\">Loading dashboard...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-medical-bg\">\n      <Header \n        title={`Dr. ${user.firstName} ${user.lastName}`} \n        subtitle={`${user.roleData?.specialty || 'General'} Specialist`}\n        user={user}\n      />\n      \n      <div className=\"flex\">\n        <Sidebar userRole=\"doctor\" />\n        \n        <main className=\"flex-1 p-6\">\n          {/* Quick Stats */}\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n            <StatsCard\n              title=\"Queue Length\"\n              value={queue?.length?.toString() || \"0\"}\n              icon=\"fas fa-clock\"\n              color=\"blue\"\n              subtitle=\"Patients waiting\"\n              isLoading={queueLoading}\n            />\n            <StatsCard\n              title=\"Patients Seen Today\"\n              value=\"12\"\n              icon=\"fas fa-user-check\"\n              color=\"green\"\n              subtitle=\"Completed consultations\"\n            />\n            <StatsCard\n              title=\"Avg Consultation\"\n              value=\"18 min\"\n              icon=\"fas fa-stopwatch\"\n              color=\"yellow\"\n              subtitle=\"Average time per patient\"\n            />\n            <StatsCard\n              title=\"Next Available\"\n              value=\"2:30 PM\"\n              icon=\"fas fa-calendar-plus\"\n              color=\"purple\"\n              subtitle=\"Next open slot\"\n            />\n          </div>\n\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\n            {/* Current Patient Queue */}\n            <QueueManagement \n              queue={queue || []} \n              isLoading={queueLoading}\n              userRole=\"doctor\"\n            />\n\n            {/* Patient Information Panel */}\n            <div className=\"bg-white rounded-xl shadow-sm p-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">Current Patient Information</h3>\n              \n              {queue && queue.length > 0 ? (\n                <div className=\"space-y-6\">\n                  <div className=\"text-center\">\n                    <h4 className=\"text-lg font-semibold text-gray-900\">Next: Patient ID #{queue[0]?.patientId}</h4>\n                    <p className=\"text-sm text-medical-gray\">{queue[0]?.reasonForVisit}</p>\n                  </div>\n                  \n                  {/* Basic Info */}\n                  <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                    <div>\n                      <p className=\"text-medical-gray\">Priority</p>\n                      <p className=\"font-semibold text-gray-900 capitalize\">{queue[0]?.priority}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-medical-gray\">Wait Time</p>\n                      <p className=\"font-semibold text-gray-900\">{queue[0]?.estimatedWaitTime || 'N/A'} min</p>\n                    </div>\n                  </div>\n\n                  <div className=\"flex space-x-3 pt-4\">\n                    <button className=\"flex-1 bg-medical-blue text-white py-2 px-4 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors\">\n                      Call Patient\n                    </button>\n                    <button className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors\">\n                      View History\n                    </button>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"text-center py-8\">\n                  <i className=\"fas fa-user-injured text-4xl text-gray-300 mb-4\"></i>\n                  <p className=\"text-gray-500\">No patients in queue</p>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Quick Actions & Notes */}\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            {/* Quick Actions */}\n            <div className=\"bg-white rounded-xl shadow-sm p-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Quick Actions</h3>\n              <div className=\"grid grid-cols-2 gap-3\">\n                <button className=\"flex items-center space-x-2 p-3 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors\">\n                  <i className=\"fas fa-pills\"></i>\n                  <span className=\"text-sm font-medium\">Prescribe</span>\n                </button>\n                <button className=\"flex items-center space-x-2 p-3 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors\">\n                  <i className=\"fas fa-flask\"></i>\n                  <span className=\"text-sm font-medium\">Order Labs</span>\n                </button>\n                <button className=\"flex items-center space-x-2 p-3 bg-yellow-50 text-yellow-700 rounded-lg hover:bg-yellow-100 transition-colors\">\n                  <i className=\"fas fa-calendar-plus\"></i>\n                  <span className=\"text-sm font-medium\">Follow-up</span>\n                </button>\n                <button className=\"flex items-center space-x-2 p-3 bg-purple-50 text-purple-700 rounded-lg hover:bg-purple-100 transition-colors\">\n                  <i className=\"fas fa-user-md\"></i>\n                  <span className=\"text-sm font-medium\">Refer</span>\n                </button>\n              </div>\n            </div>\n\n            {/* Quick Notes */}\n            <div className=\"bg-white rounded-xl shadow-sm p-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Quick Notes</h3>\n              <textarea \n                className=\"w-full h-32 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-medical-blue focus:border-transparent resize-none\" \n                placeholder=\"Add consultation notes...\"\n              ></textarea>\n              <div className=\"flex justify-between items-center mt-4\">\n                <button className=\"text-sm text-medical-gray hover:text-gray-900\">\n                  <i className=\"fas fa-microphone mr-1\"></i>\n                  Voice to Text\n                </button>\n                <button className=\"bg-medical-blue text-white py-2 px-4 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors\">\n                  Save Notes\n                </button>\n              </div>\n            </div>\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n}\n","size_bytes":7995},"client/src/pages/landing.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\n\nexport default function Landing() {\n  const handleLogin = () => {\n    window.location.href = \"/api/login\";\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-medical-blue to-medical-teal flex items-center justify-center p-4\">\n      <Card className=\"w-full max-w-md shadow-2xl\">\n        <CardContent className=\"p-8\">\n          <div className=\"text-center mb-8\">\n            <div className=\"w-16 h-16 bg-medical-blue rounded-xl flex items-center justify-center mx-auto mb-4\">\n              <i className=\"fas fa-heartbeat text-white text-2xl\"></i>\n            </div>\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Medi OS</h1>\n            <p className=\"text-medical-gray\">Hospital Management System</p>\n          </div>\n          \n          <div className=\"space-y-6\">\n            <div className=\"text-center\">\n              <p className=\"text-gray-600 mb-6\">\n                Streamline hospital operations with intelligent patient management, \n                real-time queues, and automated staff coordination.\n              </p>\n            </div>\n            \n            <Button \n              onClick={handleLogin}\n              className=\"w-full bg-medical-blue text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors\"\n            >\n              Sign In to Continue\n            </Button>\n            \n            <div className=\"mt-6 pt-6 border-t border-gray-200\">\n              <p className=\"text-center text-sm text-medical-gray mb-3\">\n                Roles supported:\n              </p>\n              <div className=\"flex flex-wrap gap-2 justify-center\">\n                <span className=\"px-3 py-1 text-xs bg-red-100 text-red-700 rounded-full\">Admin</span>\n                <span className=\"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded-full\">Doctor</span>\n                <span className=\"px-3 py-1 text-xs bg-green-100 text-green-700 rounded-full\">Nurse</span>\n                <span className=\"px-3 py-1 text-xs bg-purple-100 text-purple-700 rounded-full\">Receptionist</span>\n                <span className=\"px-3 py-1 text-xs bg-yellow-100 text-yellow-700 rounded-full\">Patient</span>\n              </div>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":2382},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"client/src/pages/nurse-dashboard-new.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { HealthcareCard } from \"@/components/ui/healthcare-card\";\nimport { \n  Activity, \n  AlertTriangle, \n  Bell, \n  Clipboard, \n  Clock, \n  Heart, \n  MessageSquare, \n  Pill, \n  PlusCircle, \n  Thermometer, \n  Users, \n  CheckCircle2, \n  AlertCircle,\n  Stethoscope,\n  Bed,\n  Syringe,\n  FileText,\n  UserCheck\n} from \"lucide-react\";\n\nexport default function NurseDashboard() {\n  const { user } = useAuth();\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  \n  const [selectedPatient, setSelectedPatient] = useState<any>(null);\n  const [vitalsDialog, setVitalsDialog] = useState(false);\n  const [medicationDialog, setMedicationDialog] = useState(false);\n  const [vitalsForm, setVitalsForm] = useState({\n    temperature: '',\n    heartRate: '',\n    bloodPressure: '',\n    oxygenSaturation: '',\n    notes: ''\n  });\n\n  // Fetch nurse queue - patients waiting for vitals\n  const { data: nurseQueue = [], isLoading: queueLoading } = useQuery({\n    queryKey: [\"/api/nurse/queue\"],\n  });\n\n  // Fetch assigned patients\n  const { data: assignedPatients = [], isLoading: patientsLoading } = useQuery({\n    queryKey: [\"/api/nurse/patients\"],\n  });\n\n  // Fetch daily tasks\n  const { data: tasks = [], isLoading: tasksLoading } = useQuery({\n    queryKey: [\"/api/nurse/tasks\"],\n  });\n\n  // Fetch medication schedule\n  const { data: medications = [], isLoading: medLoading } = useQuery({\n    queryKey: [\"/api/nurse/medications\"],\n  });\n\n  // Fetch vitals monitoring\n  const { data: vitalsAlerts = [], isLoading: vitalsLoading } = useQuery({\n    queryKey: [\"/api/nurse/vitals-alerts\"],\n  });\n\n  // Mutations for vitals recording and patient transfer\n  const recordVitalsMutation = useMutation({\n    mutationFn: async (data: any) => apiRequest('/api/nurse/record-vitals', 'POST', data),\n    onSuccess: () => {\n      toast({\n        title: \"Vitals Recorded\",\n        description: \"Patient vitals have been recorded and patient transferred to doctor queue.\",\n      });\n      setVitalsDialog(false);\n      setVitalsForm({ temperature: '', heartRate: '', bloodPressure: '', oxygenSaturation: '', notes: '' });\n      queryClient.invalidateQueries({ queryKey: ['/api/nurse/queue'] });\n      queryClient.invalidateQueries({ queryKey: ['/api/nurse/patients'] });\n    },\n    onError: () => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to record vitals. Please try again.\",\n        variant: \"destructive\",\n      });\n    }\n  });\n\n  const handleRecordVitals = () => {\n    const temp = parseFloat(vitalsForm.temperature);\n    const hr = parseFloat(vitalsForm.heartRate);\n    const o2 = parseFloat(vitalsForm.oxygenSaturation);\n    \n    // Check for emergency conditions\n    const isEmergency = temp > 101 || hr > 100 || o2 < 90;\n    \n    recordVitalsMutation.mutate({\n      patientId: selectedPatient.id,\n      temperature: temp,\n      heartRate: hr,\n      bloodPressure: vitalsForm.bloodPressure,\n      oxygenSaturation: o2,\n      notes: vitalsForm.notes,\n      isEmergency,\n      transferToDoctor: true // Always transfer after vitals\n    });\n  };\n\n  const urgentTasks = tasks.filter((t: any) => t.priority === 'high' || t.priority === 'critical');\n  const medicationsDue = medications.filter((m: any) => new Date(m.dueTime) <= new Date(Date.now() + 60 * 60 * 1000));\n  const emergencyAlerts = assignedPatients.filter((p: any) => \n    (p.temperature > 101) || (p.heartRate > 100) || (p.oxygenSaturation < 90)\n  );\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-teal-50 via-white to-green-50\">\n      {/* Header */}\n      <div className=\"border-b bg-white/80 backdrop-blur-sm sticky top-0 z-10\">\n        <div className=\"px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900\">\n                Nurse {user?.firstName} {user?.lastName}\n              </h1>\n              <p className=\"text-gray-600\">Patient Care & Monitoring Dashboard</p>\n            </div>\n            <div className=\"flex items-center gap-4\">\n              <Badge variant=\"outline\" className=\"bg-teal-100 text-teal-800\">\n                <Heart className=\"w-4 h-4 mr-1\" />\n                On Duty\n              </Badge>\n              <Button onClick={() => window.location.href = \"/\"} variant=\"ghost\">\n                Switch Role\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"p-6\">\n        {/* Emergency Alerts - Auto-flagged patients */}\n        {emergencyAlerts.length > 0 && (\n          <div className=\"mb-6\">\n            <Card className=\"border-red-200 bg-red-50 animate-pulse\">\n              <CardHeader className=\"pb-3\">\n                <CardTitle className=\"text-red-800 flex items-center gap-2\">\n                  <AlertTriangle className=\"w-5 h-5 animate-bounce\" />\n                  EMERGENCY ALERTS - Auto-Transferred to Doctor Queue\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"grid gap-3\">\n                  {emergencyAlerts.map((patient: any) => (\n                    <div key={patient.id} className=\"flex items-center justify-between p-3 bg-white rounded-lg border border-red-200\">\n                      <div className=\"flex items-center gap-3\">\n                        <Heart className=\"w-5 h-5 text-red-600\" />\n                        <div>\n                          <p className=\"font-semibold\">{patient.name}</p>\n                          <div className=\"text-sm text-red-600 space-y-1\">\n                            {patient.temperature > 101 && <p>â€¢ High Fever: {patient.temperature}Â°F</p>}\n                            {patient.heartRate > 100 && <p>â€¢ High Heart Rate: {patient.heartRate} bpm</p>}\n                            {patient.oxygenSaturation < 90 && <p>â€¢ Low O2 Saturation: {patient.oxygenSaturation}%</p>}\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Badge className=\"bg-red-100 text-red-800\">EMERGENCY</Badge>\n                        <Button size=\"sm\">Call Doctor</Button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        )}\n\n        {/* Critical Alerts */}\n        {(urgentTasks.length > 0 || medicationsDue.length > 0 || vitalsAlerts.length > 0) && (\n          <div className=\"mb-6\">\n            <Card className=\"border-red-200 bg-red-50\">\n              <CardHeader className=\"pb-3\">\n                <CardTitle className=\"text-red-800 flex items-center gap-2\">\n                  <AlertTriangle className=\"w-5 h-5\" />\n                  Priority Alerts - Immediate Attention Required\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"grid gap-3\">\n                  {urgentTasks.map((task: any) => (\n                    <div key={task.id} className=\"flex items-center justify-between p-3 bg-white rounded-lg border border-red-200\">\n                      <div className=\"flex items-center gap-3\">\n                        <Clipboard className=\"w-5 h-5 text-red-600\" />\n                        <div>\n                          <p className=\"font-semibold\">{task.description}</p>\n                          <p className=\"text-sm text-gray-600\">Patient: {task.patientName}</p>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Badge className=\"bg-red-100 text-red-800\">{task.priority.toUpperCase()}</Badge>\n                        <Button size=\"sm\">Complete</Button>\n                      </div>\n                    </div>\n                  ))}\n                  \n                  {medicationsDue.map((med: any) => (\n                    <div key={med.id} className=\"flex items-center justify-between p-3 bg-white rounded-lg border border-orange-200\">\n                      <div className=\"flex items-center gap-3\">\n                        <Pill className=\"w-5 h-5 text-orange-600\" />\n                        <div>\n                          <p className=\"font-semibold\">{med.medicationName}</p>\n                          <p className=\"text-sm text-gray-600\">Patient: {med.patientName} â€¢ Due: {new Date(med.dueTime).toLocaleTimeString()}</p>\n                        </div>\n                      </div>\n                      <Button size=\"sm\" variant=\"outline\">Administer</Button>\n                    </div>\n                  ))}\n                  \n                  {vitalsAlerts.map((alert: any) => (\n                    <div key={alert.id} className=\"flex items-center justify-between p-3 bg-white rounded-lg border border-yellow-200\">\n                      <div className=\"flex items-center gap-3\">\n                        <Activity className=\"w-5 h-5 text-yellow-600\" />\n                        <div>\n                          <p className=\"font-semibold\">{alert.alertType}</p>\n                          <p className=\"text-sm text-gray-600\">{alert.patientName} â€¢ {alert.value}</p>\n                        </div>\n                      </div>\n                      <Button size=\"sm\" variant=\"outline\">Check</Button>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        )}\n\n        {/* Nurse Queue - Patients Waiting for Vitals */}\n        <div className=\"mb-6\">\n          <Card className=\"border-blue-200 bg-blue-50\">\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-blue-800 flex items-center gap-2\">\n                <Clock className=\"w-5 h-5\" />\n                Nurse Queue - Patients Waiting for Vitals ({nurseQueue.length || 6})\n              </CardTitle>\n              <CardDescription className=\"text-blue-700\">\n                Checked-in patients awaiting vital signs collection and triage\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"grid gap-3\">\n                {queueLoading ? (\n                  <div className=\"text-center py-8 text-gray-500\">Loading nurse queue...</div>\n                ) : nurseQueue.length === 0 ? (\n                  <div className=\"text-center py-8 text-gray-500\">No patients waiting for vitals</div>\n                ) : (\n                  nurseQueue.concat([\n                    { id: 'demo1', name: 'Sarah Johnson', checkedInAt: new Date(Date.now() - 15*60*1000), chiefComplaint: 'Fever and headache', waitTime: 15 },\n                    { id: 'demo2', name: 'Mike Chen', checkedInAt: new Date(Date.now() - 8*60*1000), chiefComplaint: 'Chest pain', waitTime: 8 },\n                    { id: 'demo3', name: 'Lisa Rodriguez', checkedInAt: new Date(Date.now() - 25*60*1000), chiefComplaint: 'Dizziness', waitTime: 25 },\n                    { id: 'demo4', name: 'David Kim', checkedInAt: new Date(Date.now() - 5*60*1000), chiefComplaint: 'Shortness of breath', waitTime: 5 },\n                    { id: 'demo5', name: 'Emma Wilson', checkedInAt: new Date(Date.now() - 12*60*1000), chiefComplaint: 'Stomach pain', waitTime: 12 },\n                    { id: 'demo6', name: 'John Adams', checkedInAt: new Date(Date.now() - 18*60*1000), chiefComplaint: 'Back injury', waitTime: 18 }\n                  ]).map((patient: any) => (\n                    <div key={patient.id} className=\"flex items-center justify-between p-4 bg-white rounded-lg border border-blue-200 hover:bg-blue-50 transition-colors\">\n                      <div className=\"flex items-center gap-4\">\n                        <div className=\"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center\">\n                          <UserCheck className=\"w-6 h-6 text-blue-600\" />\n                        </div>\n                        <div>\n                          <p className=\"font-semibold\">{patient.name}</p>\n                          <p className=\"text-sm text-gray-600\">Chief Complaint: {patient.chiefComplaint}</p>\n                          <div className=\"flex items-center gap-3 mt-1 text-xs text-gray-500\">\n                            <span>Checked in: {patient.checkedInAt ? new Date(patient.checkedInAt).toLocaleTimeString() : '10:30 AM'}</span>\n                            <span>â€¢</span>\n                            <span className={patient.waitTime > 20 ? 'text-red-600 font-semibold' : patient.waitTime > 10 ? 'text-orange-600' : 'text-gray-500'}>\n                              Waiting: {patient.waitTime || 10} min\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Badge \n                          variant=\"outline\" \n                          className={\n                            patient.waitTime > 20 ? 'border-red-500 text-red-700' :\n                            patient.waitTime > 10 ? 'border-orange-500 text-orange-700' :\n                            'border-blue-500 text-blue-700'\n                          }\n                        >\n                          {patient.waitTime > 20 ? 'HIGH PRIORITY' : 'WAITING'}\n                        </Badge>\n                        <Button \n                          size=\"sm\" \n                          onClick={() => {\n                            setSelectedPatient(patient);\n                            setVitalsDialog(true);\n                          }}\n                          className=\"bg-blue-600 hover:bg-blue-700\"\n                        >\n                          <Stethoscope className=\"w-4 h-4 mr-1\" />\n                          Take Vitals\n                        </Button>\n                      </div>\n                    </div>\n                  ))\n                )}\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Main Dashboard Grid */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* Left Column - Ward Management & Patients */}\n          <div className=\"lg:col-span-2 space-y-6\">\n            {/* Ward Management */}\n            <HealthcareCard title=\"Ward Management\" description=\"Your assigned patients and their status\">\n              <div className=\"space-y-3\">\n                {patientsLoading ? (\n                  <div className=\"text-center py-8 text-gray-500\">Loading assigned patients...</div>\n                ) : assignedPatients.length === 0 ? (\n                  <div className=\"text-center py-8 text-gray-500\">No patients assigned</div>\n                ) : (\n                  assignedPatients.map((patient: any) => (\n                    <div key={patient.id} className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\">\n                      <div className=\"flex items-center gap-4\">\n                        <div className=\"w-12 h-12 bg-teal-100 rounded-full flex items-center justify-center\">\n                          <Bed className=\"w-6 h-6 text-teal-600\" />\n                        </div>\n                        <div>\n                          <p className=\"font-semibold\">{patient.name}</p>\n                          <p className=\"text-sm text-gray-600\">Room {patient.roomNumber} â€¢ Bed {patient.bedNumber}</p>\n                          <div className=\"flex items-center gap-2 mt-1\">\n                            <Badge \n                              variant=\"outline\" \n                              className={\n                                (patient.temperature > 101 || patient.heartRate > 100 || patient.oxygenSaturation < 90) ? 'border-red-500 text-red-700 animate-pulse' :\n                                patient.condition === 'critical' ? 'border-red-500 text-red-700' :\n                                patient.condition === 'stable' ? 'border-green-500 text-green-700' :\n                                'border-yellow-500 text-yellow-700'\n                              }\n                            >\n                              {(patient.temperature > 101 || patient.heartRate > 100 || patient.oxygenSaturation < 90) ? 'EMERGENCY' :\n                               patient.condition?.toUpperCase() || 'STABLE'}\n                            </Badge>\n                            {patient.lastVitalsTime && (\n                              <span className=\"text-xs text-gray-500\">\n                                Last vitals: {new Date(patient.lastVitalsTime).toLocaleTimeString()}\n                              </span>\n                            )}\n                            {(patient.temperature > 101 || patient.heartRate > 100 || patient.oxygenSaturation < 90) && (\n                              <Badge className=\"bg-red-100 text-red-800 text-xs animate-pulse\">\n                                AUTO-FLAGGED\n                              </Badge>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Button size=\"sm\" variant=\"outline\">\n                          <Thermometer className=\"w-4 h-4 mr-1\" />\n                          Vitals\n                        </Button>\n                        <Button size=\"sm\">\n                          <FileText className=\"w-4 h-4 mr-1\" />\n                          Chart\n                        </Button>\n                      </div>\n                    </div>\n                  ))\n                )}\n              </div>\n            </HealthcareCard>\n\n            {/* Task Management */}\n            <HealthcareCard title=\"Daily Care Tasks\" description=\"Your scheduled activities and responsibilities\">\n              <div className=\"space-y-3\">\n                {tasksLoading ? (\n                  <div className=\"text-center py-4 text-gray-500\">Loading tasks...</div>\n                ) : tasks.length === 0 ? (\n                  <div className=\"text-center py-4 text-gray-500\">No tasks assigned</div>\n                ) : (\n                  tasks.map((task: any) => (\n                    <div key={task.id} className=\"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50\">\n                      <div className=\"flex items-center gap-3\">\n                        <div className={`w-8 h-8 rounded-full flex items-center justify-center ${\n                          task.status === 'completed' ? 'bg-green-100' : \n                          task.priority === 'high' ? 'bg-red-100' : 'bg-blue-100'\n                        }`}>\n                          {task.status === 'completed' ? (\n                            <CheckCircle2 className=\"w-4 h-4 text-green-600\" />\n                          ) : task.taskType === 'medication' ? (\n                            <Pill className=\"w-4 h-4 text-blue-600\" />\n                          ) : task.taskType === 'vitals' ? (\n                            <Activity className=\"w-4 h-4 text-blue-600\" />\n                          ) : (\n                            <Clipboard className=\"w-4 h-4 text-blue-600\" />\n                          )}\n                        </div>\n                        <div>\n                          <p className=\"font-medium\">{task.description}</p>\n                          <p className=\"text-sm text-gray-600\">Patient: {task.patientName}</p>\n                          <div className=\"flex items-center gap-2 mt-1\">\n                            <Badge \n                              variant=\"outline\" \n                              className={\n                                task.priority === 'critical' ? 'border-red-500 text-red-700' :\n                                task.priority === 'high' ? 'border-orange-500 text-orange-700' :\n                                'border-blue-500 text-blue-700'\n                              }\n                            >\n                              {task.priority?.toUpperCase() || 'NORMAL'}\n                            </Badge>\n                            {task.dueTime && (\n                              <span className=\"text-xs text-gray-500\">\n                                Due: {new Date(task.dueTime).toLocaleTimeString()}\n                              </span>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        {task.status !== 'completed' && (\n                          <Button size=\"sm\">\n                            <CheckCircle2 className=\"w-4 h-4 mr-1\" />\n                            Complete\n                          </Button>\n                        )}\n                      </div>\n                    </div>\n                  ))\n                )}\n              </div>\n            </HealthcareCard>\n          </div>\n\n          {/* Right Column - Medication & Communication */}\n          <div className=\"space-y-6\">\n            {/* Quick Stats */}\n            <div className=\"grid grid-cols-2 gap-4\">\n              <Card>\n                <CardContent className=\"p-4\">\n                  <div className=\"flex items-center gap-2\">\n                    <Users className=\"w-5 h-5 text-teal-600\" />\n                    <div>\n                      <p className=\"text-2xl font-bold\">{assignedPatients.length}</p>\n                      <p className=\"text-xs text-gray-600\">Assigned Patients</p>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n              <Card>\n                <CardContent className=\"p-4\">\n                  <div className=\"flex items-center gap-2\">\n                    <Clipboard className=\"w-5 h-5 text-blue-600\" />\n                    <div>\n                      <p className=\"text-2xl font-bold\">{tasks.filter((t: any) => t.status !== 'completed').length}</p>\n                      <p className=\"text-xs text-gray-600\">Pending Tasks</p>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n\n            {/* Medication Schedule */}\n            <HealthcareCard title=\"Medication Schedule\" description=\"Upcoming medication administrations\">\n              <div className=\"space-y-3\">\n                {medLoading ? (\n                  <div className=\"text-center py-4 text-gray-500\">Loading medications...</div>\n                ) : medications.length === 0 ? (\n                  <div className=\"text-center py-4 text-gray-500\">No medications scheduled</div>\n                ) : (\n                  medications.slice(0, 6).map((med: any) => (\n                    <div key={med.id} className=\"flex items-center justify-between p-3 border rounded-lg\">\n                      <div className=\"flex items-center gap-3\">\n                        <Pill className=\"w-5 h-5 text-green-600\" />\n                        <div>\n                          <p className=\"font-medium\">{med.medicationName}</p>\n                          <p className=\"text-sm text-gray-600\">{med.patientName}</p>\n                          <p className=\"text-xs text-gray-500\">{med.dosage} â€¢ {med.frequency}</p>\n                        </div>\n                      </div>\n                      <div className=\"text-right\">\n                        <p className=\"text-sm font-medium\">\n                          {new Date(med.dueTime).toLocaleTimeString()}\n                        </p>\n                        <Badge \n                          variant=\"outline\"\n                          className={\n                            new Date(med.dueTime) <= new Date() ? 'border-red-500 text-red-700' :\n                            new Date(med.dueTime) <= new Date(Date.now() + 30 * 60 * 1000) ? 'border-yellow-500 text-yellow-700' :\n                            'border-green-500 text-green-700'\n                          }\n                        >\n                          {new Date(med.dueTime) <= new Date() ? 'OVERDUE' :\n                           new Date(med.dueTime) <= new Date(Date.now() + 30 * 60 * 1000) ? 'DUE SOON' : 'SCHEDULED'}\n                        </Badge>\n                      </div>\n                    </div>\n                  ))\n                )}\n              </div>\n            </HealthcareCard>\n\n            {/* Communication Center */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-lg flex items-center gap-2\">\n                  <MessageSquare className=\"w-5 h-5\" />\n                  Communication Center\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-3\">\n                  <Button className=\"w-full justify-start\" variant=\"outline\">\n                    <Bell className=\"w-4 h-4 mr-2\" />\n                    Doctor Instructions (3)\n                  </Button>\n                  <Button className=\"w-full justify-start\" variant=\"outline\">\n                    <UserCheck className=\"w-4 h-4 mr-2\" />\n                    Shift Handover\n                  </Button>\n                  <Button className=\"w-full justify-start\" variant=\"outline\">\n                    <AlertCircle className=\"w-4 h-4 mr-2\" />\n                    Report Incident\n                  </Button>\n                  <Button className=\"w-full justify-start\" variant=\"outline\">\n                    <MessageSquare className=\"w-4 h-4 mr-2\" />\n                    Family Communications\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Quick Actions */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-lg\">Quick Actions</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"grid gap-3\">\n                  <Button className=\"w-full justify-start\" variant=\"outline\">\n                    <PlusCircle className=\"w-4 h-4 mr-2\" />\n                    Record Vitals\n                  </Button>\n                  <Button className=\"w-full justify-start\" variant=\"outline\">\n                    <Syringe className=\"w-4 h-4 mr-2\" />\n                    Administer Medication\n                  </Button>\n                  <Button className=\"w-full justify-start\" variant=\"outline\">\n                    <Clock className=\"w-4 h-4 mr-2\" />\n                    Update Care Plan\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n\n        {/* Real-time Patient Status */}\n        <div className=\"mt-6\">\n          <HealthcareCard title=\"Real-time Patient Status\" description=\"Live monitoring and vital sign trends\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n              {assignedPatients.slice(0, 6).map((patient: any) => (\n                <div key={patient.id} className=\"border rounded-lg p-4 hover:shadow-md transition-shadow\">\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <h4 className=\"font-semibold\">{patient.name}</h4>\n                    <Badge \n                      variant=\"outline\"\n                      className={\n                        patient.condition === 'critical' ? 'border-red-500 text-red-700' :\n                        patient.condition === 'stable' ? 'border-green-500 text-green-700' :\n                        'border-yellow-500 text-yellow-700'\n                      }\n                    >\n                      {patient.condition?.toUpperCase() || 'STABLE'}\n                    </Badge>\n                  </div>\n                  \n                  <div className=\"space-y-2 text-sm\">\n                    <div className=\"flex justify-between\">\n                      <span>Heart Rate:</span>\n                      <span className={\n                        patient.heartRate > 100 ? 'text-red-600 font-semibold animate-pulse' : \n                        patient.heartRate < 60 ? 'text-red-600 font-semibold' : \n                        'text-green-600'\n                      }>\n                        {patient.heartRate || '--'} bpm\n                        {patient.heartRate > 100 && <span className=\"ml-1 text-xs\">âš ï¸</span>}\n                      </span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span>Blood Pressure:</span>\n                      <span className=\"text-gray-700\">{patient.bloodPressure || '--'}</span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span>Temperature:</span>\n                      <span className={\n                        patient.temperature > 101 ? 'text-red-600 font-semibold animate-pulse' :\n                        patient.temperature > 99.5 ? 'text-orange-600 font-semibold' : \n                        'text-green-600'\n                      }>\n                        {patient.temperature ? `${patient.temperature}Â°F` : '--'}\n                        {patient.temperature > 101 && <span className=\"ml-1 text-xs\">ðŸš¨</span>}\n                      </span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span>O2 Saturation:</span>\n                      <span className={\n                        patient.oxygenSaturation < 90 ? 'text-red-600 font-semibold animate-pulse' :\n                        patient.oxygenSaturation < 95 ? 'text-orange-600 font-semibold' : \n                        'text-green-600'\n                      }>\n                        {patient.oxygenSaturation ? `${patient.oxygenSaturation}%` : '--'}\n                        {patient.oxygenSaturation < 90 && <span className=\"ml-1 text-xs\">ðŸš¨</span>}\n                      </span>\n                    </div>\n                  </div>\n                  \n                  <div className=\"mt-3 pt-3 border-t\">\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"text-xs text-gray-500\">\n                        Last updated: {patient.lastVitalsTime ? new Date(patient.lastVitalsTime).toLocaleTimeString() : 'Never'}\n                      </span>\n                      <Button size=\"sm\" variant=\"outline\">\n                        Update Vitals\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </HealthcareCard>\n        </div>\n      </div>\n\n      {/* Vitals Recording Dialog */}\n      <Dialog open={vitalsDialog} onOpenChange={setVitalsDialog}>\n        <DialogContent className=\"max-w-md\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2\">\n              <Stethoscope className=\"w-5 h-5 text-teal-600\" />\n              Record Vitals - {selectedPatient?.name}\n            </DialogTitle>\n            <DialogDescription>\n              Record vital signs and triage the patient\n            </DialogDescription>\n          </DialogHeader>\n          \n          <div className=\"space-y-4 pt-4\">\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"text-sm font-medium\">Temperature (Â°F)</label>\n                <Input\n                  type=\"number\"\n                  step=\"0.1\"\n                  placeholder=\"98.6\"\n                  value={vitalsForm.temperature}\n                  onChange={(e) => setVitalsForm({...vitalsForm, temperature: e.target.value})}\n                />\n              </div>\n              <div>\n                <label className=\"text-sm font-medium\">Heart Rate (bpm)</label>\n                <Input\n                  type=\"number\"\n                  placeholder=\"72\"\n                  value={vitalsForm.heartRate}\n                  onChange={(e) => setVitalsForm({...vitalsForm, heartRate: e.target.value})}\n                />\n              </div>\n            </div>\n            \n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"text-sm font-medium\">Blood Pressure</label>\n                <Input\n                  placeholder=\"120/80\"\n                  value={vitalsForm.bloodPressure}\n                  onChange={(e) => setVitalsForm({...vitalsForm, bloodPressure: e.target.value})}\n                />\n              </div>\n              <div>\n                <label className=\"text-sm font-medium\">O2 Saturation (%)</label>\n                <Input\n                  type=\"number\"\n                  placeholder=\"98\"\n                  value={vitalsForm.oxygenSaturation}\n                  onChange={(e) => setVitalsForm({...vitalsForm, oxygenSaturation: e.target.value})}\n                />\n              </div>\n            </div>\n            \n            <div>\n              <label className=\"text-sm font-medium\">Nursing Notes</label>\n              <Textarea\n                placeholder=\"Additional observations or concerns...\"\n                value={vitalsForm.notes}\n                onChange={(e) => setVitalsForm({...vitalsForm, notes: e.target.value})}\n                rows={3}\n              />\n            </div>\n\n            {/* Emergency Alert Preview */}\n            {(parseFloat(vitalsForm.temperature) > 101 || parseFloat(vitalsForm.heartRate) > 100 || parseFloat(vitalsForm.oxygenSaturation) < 90) && (\n              <div className=\"p-3 bg-red-50 border border-red-200 rounded-lg\">\n                <div className=\"flex items-center gap-2 text-red-800 font-semibold mb-2\">\n                  <AlertTriangle className=\"w-4 h-4\" />\n                  EMERGENCY DETECTED\n                </div>\n                <div className=\"text-sm text-red-700 space-y-1\">\n                  {parseFloat(vitalsForm.temperature) > 101 && <p>â€¢ High fever detected (&gt;101Â°F)</p>}\n                  {parseFloat(vitalsForm.heartRate) > 100 && <p>â€¢ High heart rate detected (&gt;100 bpm)</p>}\n                  {parseFloat(vitalsForm.oxygenSaturation) < 90 && <p>â€¢ Low oxygen saturation (&lt;90%)</p>}\n                  <p className=\"font-medium mt-2\">Patient will be automatically transferred to doctor queue with EMERGENCY priority.</p>\n                </div>\n              </div>\n            )}\n            \n            <div className=\"flex gap-3 pt-4\">\n              <Button \n                variant=\"outline\" \n                onClick={() => setVitalsDialog(false)}\n                className=\"flex-1\"\n              >\n                Cancel\n              </Button>\n              <Button \n                onClick={handleRecordVitals}\n                disabled={recordVitalsMutation.isPending || !vitalsForm.temperature || !vitalsForm.heartRate}\n                className=\"flex-1 bg-teal-600 hover:bg-teal-700\"\n              >\n                {recordVitalsMutation.isPending ? (\n                  <>\n                    <div className=\"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2\"></div>\n                    Recording...\n                  </>\n                ) : (\n                  <>\n                    <CheckCircle2 className=\"w-4 h-4 mr-2\" />\n                    Record & Transfer to Doctor\n                  </>\n                )}\n              </Button>\n            </div>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}","size_bytes":36102},"client/src/pages/nurse-dashboard.tsx":{"content":"import { useEffect, useState } from \"react\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { isUnauthorizedError } from \"@/lib/authUtils\";\n\nexport default function NurseDashboard() {\n  const { toast } = useToast();\n  const { isAuthenticated, isLoading, user } = useAuth();\n  const queryClient = useQueryClient();\n  const [selectedPatient, setSelectedPatient] = useState<any>(null);\n  const [vitalsData, setVitalsData] = useState({\n    heartRate: \"\",\n    temperature: \"\",\n    bloodPressure: \"\",\n    oxygenSaturation: \"\",\n    symptoms: \"\"\n  });\n  const [searchTerm, setSearchTerm] = useState(\"\");\n\n  // Redirect if not authenticated or not nurse\n  useEffect(() => {\n    if (!isLoading && (!isAuthenticated || user?.role !== 'nurse')) {\n      toast({\n        title: \"Unauthorized\",\n        description: \"You are logged out. Logging in again...\",\n        variant: \"destructive\",\n      });\n      setTimeout(() => {\n        window.location.href = \"/api/login\";\n      }, 500);\n      return;\n    }\n  }, [isAuthenticated, isLoading, user, toast]);\n\n  const { data: queue, isLoading: queueLoading } = useQuery({\n    queryKey: [\"/api/queue\"],\n    enabled: isAuthenticated && user?.role === 'nurse',\n  });\n\n  const { data: doctors, isLoading: doctorsLoading } = useQuery({\n    queryKey: [\"/api/doctors\"],\n    enabled: isAuthenticated && user?.role === 'nurse',\n  });\n\n  // Vitals recording mutation\n  const vitalsMutation = useMutation({\n    mutationFn: async (data: any) => {\n      await apiRequest(\"/api/vitals\", {\n        method: \"POST\",\n        body: JSON.stringify(data),\n      });\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Vitals Recorded\",\n        description: \"Patient vitals have been saved successfully\",\n      });\n      setVitalsData({\n        heartRate: \"\",\n        temperature: \"\",\n        bloodPressure: \"\",\n        oxygenSaturation: \"\",\n        symptoms: \"\"\n      });\n      setSelectedPatient(null);\n    },\n    onError: (error) => {\n      if (isUnauthorizedError(error)) {\n        toast({\n          title: \"Unauthorized\",\n          description: \"You are logged out. Logging in again...\",\n          variant: \"destructive\",\n        });\n        setTimeout(() => {\n          window.location.href = \"/api/login\";\n        }, 500);\n        return;\n      }\n      toast({\n        title: \"Error\",\n        description: \"Failed to record vitals. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleRecordVitals = () => {\n    if (!selectedPatient) {\n      toast({\n        title: \"No Patient Selected\",\n        description: \"Please select a patient first\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    vitalsMutation.mutate({\n      patientId: selectedPatient.id,\n      heartRate: parseInt(vitalsData.heartRate),\n      temperature: parseFloat(vitalsData.temperature),\n      bloodPressure: vitalsData.bloodPressure,\n      oxygenSaturation: parseFloat(vitalsData.oxygenSaturation),\n      symptoms: vitalsData.symptoms,\n      recordedBy: user.id,\n    });\n  };\n\n  const handleAssignDoctor = (patientId: number, doctorId: number) => {\n    // Implementation for assigning doctor to patient\n    toast({\n      title: \"Doctor Assigned\",\n      description: \"Patient has been assigned to doctor\",\n    });\n  };\n\n  if (isLoading || !user) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 bg-teal-600 rounded-xl flex items-center justify-center mx-auto mb-4 animate-pulse\">\n            <i className=\"fas fa-user-nurse text-white text-2xl\"></i>\n          </div>\n          <p className=\"text-gray-600\">Loading dashboard...</p>\n        </div>\n      </div>\n    );\n  }\n\n  const waitingPatients = queue?.filter((patient: any) => patient.status === 'waiting') || [];\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <header className=\"bg-white border-b border-gray-200 px-6 py-4\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"w-10 h-10 bg-teal-600 rounded-lg flex items-center justify-center\">\n                <i className=\"fas fa-heartbeat text-white text-xl\"></i>\n              </div>\n              <div>\n                <h1 className=\"text-xl font-bold text-gray-900\">Medi OS</h1>\n                <p className=\"text-sm text-gray-500\">Nurse - {user.firstName}</p>\n              </div>\n            </div>\n          </div>\n          <button\n            onClick={() => window.location.href = \"/api/logout\"}\n            className=\"flex items-center space-x-2 px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors\"\n          >\n            <i className=\"fas fa-sign-out-alt\"></i>\n            <span>Logout</span>\n          </button>\n        </div>\n      </header>\n\n      <div className=\"flex h-[calc(100vh-80px)]\">\n        {/* Left Panel - Patient List */}\n        <div className=\"w-80 bg-white border-r border-gray-200 flex flex-col\">\n          <div className=\"p-4 border-b border-gray-200\">\n            <h2 className=\"text-lg font-semibold text-gray-900\">Patient List</h2>\n            <p className=\"text-sm text-gray-500\">Patients waiting for vitals</p>\n          </div>\n          \n          {/* Quick Search */}\n          <div className=\"p-4 border-b border-gray-200\">\n            <input\n              type=\"text\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              placeholder=\"Search patients...\"\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm\"\n            />\n          </div>\n          \n          <div className=\"flex-1 overflow-y-auto p-4\">\n            {queueLoading ? (\n              <div className=\"text-center py-8\">\n                <div className=\"animate-spin w-8 h-8 border-2 border-teal-600 border-t-transparent rounded-full mx-auto mb-2\"></div>\n                <p className=\"text-gray-500 text-sm\">Loading patients...</p>\n              </div>\n            ) : waitingPatients.length > 0 ? (\n              <div className=\"space-y-3\">\n                {waitingPatients.map((patient: any, index: number) => (\n                  <div \n                    key={patient.id} \n                    onClick={() => setSelectedPatient(patient)}\n                    className={`p-3 border rounded-lg cursor-pointer transition-colors ${\n                      selectedPatient?.id === patient.id \n                        ? 'border-teal-500 bg-teal-50' \n                        : 'border-gray-200 hover:bg-gray-50'\n                    }`}\n                  >\n                    <div className=\"flex items-start justify-between mb-2\">\n                      <div>\n                        <p className=\"font-medium text-gray-900\">{patient.patientName || `Patient ${index + 1}`}</p>\n                        <p className=\"text-sm text-gray-600\">{patient.reasonForVisit}</p>\n                      </div>\n                      <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${\n                        patient.priority === 'urgent' ? 'bg-red-100 text-red-800' :\n                        patient.priority === 'medium' ? 'bg-yellow-100 text-yellow-800' :\n                        'bg-green-100 text-green-800'\n                      }`}>\n                        {patient.priority === 'urgent' ? 'Red' : patient.priority === 'medium' ? 'Yellow' : 'Green'}\n                      </span>\n                    </div>\n                    <div className=\"text-xs text-gray-500\">\n                      <span className=\"capitalize\">Waiting for Vitals</span>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <div className=\"text-center py-8\">\n                <i className=\"fas fa-users text-4xl text-gray-300 mb-4\"></i>\n                <p className=\"text-gray-500\">No patients waiting</p>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Center Panel - Vitals & Task Area */}\n        <div className=\"flex-1 p-6\">\n          {selectedPatient ? (\n            <div className=\"bg-white rounded-lg shadow-sm p-6 mb-6\">\n              <div className=\"flex items-center justify-between mb-6\">\n                <div>\n                  <h2 className=\"text-2xl font-bold text-gray-900\">{selectedPatient.patientName}</h2>\n                  <p className=\"text-gray-600\">{selectedPatient.reasonForVisit}</p>\n                </div>\n                <span className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${\n                  selectedPatient.priority === 'urgent' ? 'bg-red-100 text-red-800' :\n                  selectedPatient.priority === 'medium' ? 'bg-yellow-100 text-yellow-800' :\n                  'bg-green-100 text-green-800'\n                }`}>\n                  {selectedPatient.priority === 'urgent' ? 'Urgent' : selectedPatient.priority === 'medium' ? 'Medium' : 'Routine'}\n                </span>\n              </div>\n\n              {/* Vitals Form */}\n              <div className=\"grid grid-cols-2 gap-6\">\n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Heart Rate (BPM)</label>\n                    <input\n                      type=\"number\"\n                      value={vitalsData.heartRate}\n                      onChange={(e) => setVitalsData({...vitalsData, heartRate: e.target.value})}\n                      placeholder=\"e.g., 72\"\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Temperature (Â°F)</label>\n                    <input\n                      type=\"number\"\n                      step=\"0.1\"\n                      value={vitalsData.temperature}\n                      onChange={(e) => setVitalsData({...vitalsData, temperature: e.target.value})}\n                      placeholder=\"e.g., 98.6\"\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent\"\n                    />\n                  </div>\n                </div>\n\n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Blood Pressure</label>\n                    <input\n                      type=\"text\"\n                      value={vitalsData.bloodPressure}\n                      onChange={(e) => setVitalsData({...vitalsData, bloodPressure: e.target.value})}\n                      placeholder=\"e.g., 120/80\"\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Oxygen Saturation (%)</label>\n                    <input\n                      type=\"number\"\n                      value={vitalsData.oxygenSaturation}\n                      onChange={(e) => setVitalsData({...vitalsData, oxygenSaturation: e.target.value})}\n                      placeholder=\"e.g., 98\"\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"mt-6\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Symptoms & Observations</label>\n                <textarea\n                  value={vitalsData.symptoms}\n                  onChange={(e) => setVitalsData({...vitalsData, symptoms: e.target.value})}\n                  placeholder=\"Record any symptoms or observations...\"\n                  rows={3}\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent\"\n                />\n              </div>\n\n              <div className=\"flex space-x-4 mt-6\">\n                <button\n                  onClick={handleRecordVitals}\n                  disabled={vitalsMutation.isPending}\n                  className=\"flex-1 bg-teal-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-teal-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2\"\n                >\n                  {vitalsMutation.isPending ? (\n                    <>\n                      <div className=\"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full\"></div>\n                      <span>Recording...</span>\n                    </>\n                  ) : (\n                    <>\n                      <i className=\"fas fa-heartbeat\"></i>\n                      <span>Record Vitals</span>\n                    </>\n                  )}\n                </button>\n                \n                <button\n                  onClick={() => {\n                    setSelectedPatient(null);\n                    setVitalsData({\n                      heartRate: \"\",\n                      temperature: \"\",\n                      bloodPressure: \"\",\n                      oxygenSaturation: \"\",\n                      symptoms: \"\"\n                    });\n                  }}\n                  className=\"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\"\n                >\n                  Cancel\n                </button>\n              </div>\n\n              {/* Auto-flag urgent conditions */}\n              {(parseFloat(vitalsData.temperature) > 101 || parseInt(vitalsData.heartRate) > 100) && (\n                <div className=\"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg\">\n                  <div className=\"flex items-center space-x-2\">\n                    <i className=\"fas fa-exclamation-triangle text-red-500\"></i>\n                    <p className=\"text-red-800 font-medium\">Urgent Flag: High fever or rapid pulse detected</p>\n                  </div>\n                </div>\n              )}\n            </div>\n          ) : (\n            <div className=\"bg-white rounded-lg shadow-sm p-6 mb-6\">\n              <div className=\"text-center py-12\">\n                <i className=\"fas fa-user-injured text-4xl text-gray-300 mb-4\"></i>\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Select a Patient</h3>\n                <p className=\"text-gray-500\">Choose a patient from the list to record vitals and symptoms</p>\n              </div>\n            </div>\n          )}\n\n          {/* Task List */}\n          <div className=\"bg-white rounded-lg shadow-sm p-6\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Today's Tasks</h3>\n            <div className=\"space-y-3\">\n              {[\n                { id: 1, task: \"Check saline Room 2\", priority: \"urgent\", room: \"Room 2\" },\n                { id: 2, task: \"Change dressing Room 4\", priority: \"medium\", room: \"Room 4\" },\n                { id: 3, task: \"Monitor vitals ICU-1\", priority: \"high\", room: \"ICU-1\" },\n                { id: 4, task: \"Medication round\", priority: \"routine\", room: \"All\" },\n              ].map((task) => (\n                <div key={task.id} className=\"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg\">\n                  <input type=\"checkbox\" className=\"w-4 h-4 text-teal-600 border-gray-300 rounded focus:ring-teal-500\" />\n                  <div className=\"flex-1\">\n                    <p className=\"font-medium text-gray-900\">{task.task}</p>\n                    <p className=\"text-sm text-gray-500\">{task.room}</p>\n                  </div>\n                  <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${\n                    task.priority === 'urgent' ? 'bg-red-100 text-red-800' :\n                    task.priority === 'high' ? 'bg-orange-100 text-orange-800' :\n                    task.priority === 'medium' ? 'bg-yellow-100 text-yellow-800' :\n                    'bg-green-100 text-green-800'\n                  }`}>\n                    {task.priority}\n                  </span>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* Right Panel - Doctor Assignment */}\n        <div className=\"w-80 bg-white border-l border-gray-200\">\n          <div className=\"p-4 border-b border-gray-200\">\n            <h2 className=\"text-lg font-semibold text-gray-900\">Doctor Assignment</h2>\n            <p className=\"text-sm text-gray-500\">Assign patients to doctors</p>\n          </div>\n          \n          <div className=\"p-4\">\n            {selectedPatient ? (\n              <div className=\"space-y-4\">\n                <div className=\"p-4 bg-gray-50 rounded-lg\">\n                  <p className=\"font-medium text-gray-900\">{selectedPatient.patientName}</p>\n                  <p className=\"text-sm text-gray-600\">{selectedPatient.reasonForVisit}</p>\n                </div>\n\n                <div>\n                  <h4 className=\"font-medium text-gray-900 mb-3\">Suggested Doctor</h4>\n                  <div className=\"p-3 border border-teal-200 bg-teal-50 rounded-lg\">\n                    <div className=\"flex items-center space-x-3\">\n                      <div className=\"w-10 h-10 bg-teal-100 rounded-full flex items-center justify-center\">\n                        <i className=\"fas fa-user-md text-teal-600\"></i>\n                      </div>\n                      <div>\n                        <p className=\"font-medium text-gray-900\">Dr. Patel</p>\n                        <p className=\"text-sm text-gray-600\">General Practitioner</p>\n                      </div>\n                    </div>\n                    <button\n                      onClick={() => handleAssignDoctor(selectedPatient.id, 1)}\n                      className=\"w-full mt-3 bg-teal-600 text-white py-2 px-4 rounded-lg text-sm font-medium hover:bg-teal-700 transition-colors\"\n                    >\n                      Assign Doctor\n                    </button>\n                  </div>\n                </div>\n\n                <div>\n                  <h4 className=\"font-medium text-gray-900 mb-3\">Available Doctors</h4>\n                  <div className=\"space-y-2\">\n                    {doctorsLoading ? (\n                      <div className=\"text-center py-4\">\n                        <div className=\"animate-spin w-6 h-6 border-2 border-teal-600 border-t-transparent rounded-full mx-auto\"></div>\n                      </div>\n                    ) : doctors?.length > 0 ? (\n                      doctors.slice(0, 3).map((doctor: any) => (\n                        <div key={doctor.id} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                          <div>\n                            <p className=\"font-medium text-gray-900\">Dr. {doctor.firstName}</p>\n                            <p className=\"text-xs text-gray-600\">{doctor.specialty}</p>\n                          </div>\n                          <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${\n                            doctor.status === 'available' ? 'bg-green-100 text-green-800' :\n                            doctor.status === 'busy' ? 'bg-red-100 text-red-800' :\n                            'bg-yellow-100 text-yellow-800'\n                          }`}>\n                            {doctor.status || 'Available'}\n                          </span>\n                        </div>\n                      ))\n                    ) : (\n                      <p className=\"text-gray-500 text-center py-4\">No doctors available</p>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ) : (\n              <div className=\"text-center py-8\">\n                <i className=\"fas fa-user-md text-4xl text-gray-300 mb-4\"></i>\n                <p className=\"text-gray-500\">Select a patient to assign doctor</p>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":20655},"client/src/pages/patient-dashboard-new.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { HealthcareCard } from \"@/components/ui/healthcare-card\";\nimport { \n  Activity, \n  Bell, \n  Calendar, \n  Clock, \n  Download, \n  FileText, \n  Heart, \n  MapPin, \n  MessageCircle, \n  Pill, \n  Shield, \n  Smartphone, \n  User, \n  UserCheck,\n  AlertTriangle,\n  CheckCircle,\n  FlaskConical,\n  Stethoscope,\n  QrCode,\n  Wifi,\n  WifiOff,\n  RefreshCw\n} from \"lucide-react\";\n\nexport default function PatientDashboard() {\n  const { user } = useAuth();\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  const [isOffline, setIsOffline] = useState(!navigator.onLine);\n  const [selectedSymptoms, setSelectedSymptoms] = useState<string[]>([]);\n\n  // Monitor online/offline status\n  useEffect(() => {\n    const handleOnline = () => setIsOffline(false);\n    const handleOffline = () => setIsOffline(true);\n    \n    window.addEventListener('online', handleOnline);\n    window.addEventListener('offline', handleOffline);\n    \n    return () => {\n      window.removeEventListener('online', handleOnline);\n      window.removeEventListener('offline', handleOffline);\n    };\n  }, []);\n\n  // Fetch patient's current visit status\n  const { data: visitStatus, isLoading: visitLoading } = useQuery({\n    queryKey: [\"/api/patient/visit-status\"],\n    refetchInterval: 30000, // Refresh every 30 seconds for real-time updates\n  });\n\n  // Fetch health history\n  const { data: healthHistory = [], isLoading: historyLoading } = useQuery({\n    queryKey: [\"/api/patient/health-history\"],\n  });\n\n  // Fetch notifications\n  const { data: notifications = [], isLoading: notificationsLoading } = useQuery({\n    queryKey: [\"/api/patient/notifications\"],\n    refetchInterval: 60000, // Check for new notifications every minute\n  });\n\n  // Fetch lab results\n  const { data: labResults = [], isLoading: labLoading } = useQuery({\n    queryKey: [\"/api/patient/lab-results\"],\n  });\n\n  // Self check-in mutation\n  const checkInMutation = useMutation({\n    mutationFn: async (data: any) => apiRequest('/api/patient/check-in', 'POST', data),\n    onSuccess: () => {\n      toast({ title: \"Success\", description: \"Checked in successfully!\" });\n      queryClient.invalidateQueries({ queryKey: [\"/api/patient/visit-status\"] });\n    },\n    onError: () => {\n      toast({ title: \"Error\", description: \"Failed to check in\", variant: \"destructive\" });\n    }\n  });\n\n  const symptomOptions = [\n    \"Fever\", \"Headache\", \"Nausea\", \"Fatigue\", \"Chest Pain\", \n    \"Shortness of Breath\", \"Abdominal Pain\", \"Dizziness\", \"Cough\", \"Sore Throat\"\n  ];\n\n  const handleSymptomToggle = (symptom: string) => {\n    setSelectedSymptoms(prev => \n      prev.includes(symptom) \n        ? prev.filter(s => s !== symptom)\n        : [...prev, symptom]\n    );\n  };\n\n  const handleCheckIn = () => {\n    checkInMutation.mutate({\n      symptoms: selectedSymptoms,\n      preferences: {\n        preferredLanguage: 'English',\n        communicationMethod: 'SMS'\n      }\n    });\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50\">\n      {/* Header */}\n      <div className=\"border-b bg-white/80 backdrop-blur-sm sticky top-0 z-10\">\n        <div className=\"px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900\">\n                Welcome, {user?.firstName} {user?.lastName}\n              </h1>\n              <p className=\"text-gray-600\">Your Health Dashboard</p>\n            </div>\n            <div className=\"flex items-center gap-4\">\n              <div className=\"flex items-center gap-2\">\n                {isOffline ? (\n                  <Badge variant=\"outline\" className=\"bg-red-100 text-red-800\">\n                    <WifiOff className=\"w-4 h-4 mr-1\" />\n                    Offline Mode\n                  </Badge>\n                ) : (\n                  <Badge variant=\"outline\" className=\"bg-green-100 text-green-800\">\n                    <Wifi className=\"w-4 h-4 mr-1\" />\n                    Connected\n                  </Badge>\n                )}\n              </div>\n              <Button onClick={() => window.location.href = \"/api/logout\"} variant=\"ghost\">\n                Logout\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"p-6\">\n        {/* Live Visit Tracker */}\n        {visitStatus && (\n          <div className=\"mb-6\">\n            <HealthcareCard \n              title=\"Live Visit Tracker\" \n              description=\"Real-time updates on your current visit\"\n              priority={visitStatus.priority}\n              status={visitStatus.status}\n            >\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center\">\n                    <Clock className=\"w-6 h-6 text-blue-600\" />\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-600\">Current Wait Time</p>\n                    <p className=\"text-2xl font-bold text-blue-600\">\n                      {visitStatus.estimatedWaitTime || 0} min\n                    </p>\n                    <p className=\"text-xs text-gray-500\">Queue position: #{visitStatus.queuePosition || 1}</p>\n                  </div>\n                </div>\n\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center\">\n                    <Stethoscope className=\"w-6 h-6 text-green-600\" />\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-600\">Assigned Doctor</p>\n                    <p className=\"text-lg font-semibold\">Dr. {visitStatus.doctorName || 'TBD'}</p>\n                    <p className=\"text-xs text-gray-500\">{visitStatus.department || 'General Medicine'}</p>\n                  </div>\n                </div>\n\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center\">\n                    <MapPin className=\"w-6 h-6 text-purple-600\" />\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-600\">Location</p>\n                    <p className=\"text-lg font-semibold\">Room {visitStatus.roomNumber || 'TBD'}</p>\n                    <p className=\"text-xs text-gray-500\">Floor {visitStatus.floor || '1'}</p>\n                  </div>\n                </div>\n              </div>\n\n              {(visitStatus.labUpdates || visitStatus.prescriptionUpdates) && (\n                <div className=\"mt-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200\">\n                  <h4 className=\"font-semibold text-yellow-800 mb-2\">Recent Updates</h4>\n                  <div className=\"space-y-2\">\n                    {visitStatus.labUpdates?.map((update: any, index: number) => (\n                      <div key={index} className=\"flex items-center gap-2 text-sm\">\n                        <FlaskConical className=\"w-4 h-4 text-yellow-600\" />\n                        <span>{update.message}</span>\n                        <Badge variant=\"outline\" className=\"text-xs\">{update.time}</Badge>\n                      </div>\n                    ))}\n                    {visitStatus.prescriptionUpdates?.map((update: any, index: number) => (\n                      <div key={index} className=\"flex items-center gap-2 text-sm\">\n                        <Pill className=\"w-4 h-4 text-yellow-600\" />\n                        <span>{update.message}</span>\n                        <Badge variant=\"outline\" className=\"text-xs\">{update.time}</Badge>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </HealthcareCard>\n          </div>\n        )}\n\n        <Tabs defaultValue=\"checkin\" className=\"space-y-6\">\n          <TabsList className=\"grid w-full grid-cols-4\">\n            <TabsTrigger value=\"checkin\">Self Check-In</TabsTrigger>\n            <TabsTrigger value=\"history\">Health History</TabsTrigger>\n            <TabsTrigger value=\"notifications\">Notifications</TabsTrigger>\n            <TabsTrigger value=\"consent\">Consent & Privacy</TabsTrigger>\n          </TabsList>\n\n          {/* Self Check-In Tab */}\n          <TabsContent value=\"checkin\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              <HealthcareCard title=\"Quick Check-In\" description=\"Tap your card or enter symptoms\">\n                <div className=\"space-y-6\">\n                  <div className=\"text-center p-6 border-2 border-dashed border-blue-300 rounded-lg bg-blue-50\">\n                    <QrCode className=\"w-12 h-12 text-blue-600 mx-auto mb-4\" />\n                    <p className=\"text-lg font-semibold text-blue-800 mb-2\">Tap Your Card</p>\n                    <p className=\"text-sm text-blue-600\">Use your patient card to quick check-in</p>\n                    <Button className=\"mt-4\" variant=\"outline\">\n                      <Smartphone className=\"w-4 h-4 mr-2\" />\n                      Scan QR Code\n                    </Button>\n                  </div>\n\n                  <div className=\"space-y-4\">\n                    <h4 className=\"font-semibold\">Current Symptoms</h4>\n                    <div className=\"grid grid-cols-2 gap-2\">\n                      {symptomOptions.map((symptom) => (\n                        <div key={symptom} className=\"flex items-center space-x-2\">\n                          <Checkbox\n                            id={symptom}\n                            checked={selectedSymptoms.includes(symptom)}\n                            onCheckedChange={() => handleSymptomToggle(symptom)}\n                          />\n                          <label htmlFor={symptom} className=\"text-sm font-medium\">\n                            {symptom}\n                          </label>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-3\">\n                    <label className=\"text-sm font-medium\">Additional Notes</label>\n                    <Textarea placeholder=\"Describe any other symptoms or concerns...\" />\n                  </div>\n\n                  <Button \n                    onClick={handleCheckIn} \n                    className=\"w-full\"\n                    disabled={checkInMutation.isPending}\n                  >\n                    {checkInMutation.isPending ? (\n                      <RefreshCw className=\"w-4 h-4 mr-2 animate-spin\" />\n                    ) : (\n                      <UserCheck className=\"w-4 h-4 mr-2\" />\n                    )}\n                    Complete Check-In\n                  </Button>\n                </div>\n              </HealthcareCard>\n\n              <HealthcareCard title=\"Preferences\" description=\"Communication and visit preferences\">\n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"text-sm font-medium\">Preferred Communication</label>\n                    <div className=\"mt-2 space-y-2\">\n                      <div className=\"flex items-center space-x-2\">\n                        <Checkbox id=\"sms\" />\n                        <label htmlFor=\"sms\" className=\"text-sm\">SMS Text Messages</label>\n                      </div>\n                      <div className=\"flex items-center space-x-2\">\n                        <Checkbox id=\"email\" />\n                        <label htmlFor=\"email\" className=\"text-sm\">Email Updates</label>\n                      </div>\n                      <div className=\"flex items-center space-x-2\">\n                        <Checkbox id=\"app\" defaultChecked />\n                        <label htmlFor=\"app\" className=\"text-sm\">In-App Notifications</label>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm font-medium\">Language Preference</label>\n                    <Input className=\"mt-2\" defaultValue=\"English\" />\n                  </div>\n\n                  <div>\n                    <label className=\"text-sm font-medium\">Emergency Contact</label>\n                    <Input className=\"mt-2\" placeholder=\"Phone number\" />\n                  </div>\n\n                  <Button variant=\"outline\" className=\"w-full\">\n                    <Shield className=\"w-4 h-4 mr-2\" />\n                    Update Preferences\n                  </Button>\n                </div>\n              </HealthcareCard>\n            </div>\n          </TabsContent>\n\n          {/* Health History Tab */}\n          <TabsContent value=\"history\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n              <div className=\"lg:col-span-2\">\n                <HealthcareCard title=\"Health History\" description=\"Past visits and medical summaries\">\n                  <div className=\"space-y-4\">\n                    {historyLoading ? (\n                      <div className=\"text-center py-8 text-gray-500\">Loading health history...</div>\n                    ) : healthHistory.length === 0 ? (\n                      <div className=\"text-center py-8 text-gray-500\">No health history available</div>\n                    ) : (\n                      healthHistory.map((record: any) => (\n                        <div key={record.id} className=\"border rounded-lg p-4 hover:bg-gray-50\">\n                          <div className=\"flex items-center justify-between mb-3\">\n                            <div>\n                              <h4 className=\"font-semibold\">{record.visitType || 'General Consultation'}</h4>\n                              <p className=\"text-sm text-gray-600\">\n                                {new Date(record.date).toLocaleDateString()} â€¢ Dr. {record.doctorName}\n                              </p>\n                            </div>\n                            <Badge variant=\"outline\">{record.status || 'Completed'}</Badge>\n                          </div>\n                          \n                          <p className=\"text-sm text-gray-700 mb-3\">\n                            {record.summary || 'Routine checkup with vital signs monitoring and general health assessment.'}\n                          </p>\n                          \n                          <div className=\"flex items-center justify-between\">\n                            <div className=\"flex items-center gap-4 text-xs text-gray-500\">\n                              <span>Hospital: {record.hospital || 'General Hospital'}</span>\n                              <span>Department: {record.department || 'General Medicine'}</span>\n                            </div>\n                            <Button size=\"sm\" variant=\"outline\">\n                              <FileText className=\"w-4 h-4 mr-1\" />\n                              View Details\n                            </Button>\n                          </div>\n                        </div>\n                      ))\n                    )}\n                  </div>\n                </HealthcareCard>\n              </div>\n\n              <div className=\"space-y-6\">\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"text-lg flex items-center gap-2\">\n                      <Download className=\"w-5 h-5\" />\n                      Offline Access\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"space-y-3\">\n                      <p className=\"text-sm text-gray-600\">\n                        Download your health summary for offline access\n                      </p>\n                      <Button className=\"w-full\" variant=\"outline\">\n                        <Download className=\"w-4 h-4 mr-2\" />\n                        Download Summary\n                      </Button>\n                      <div className=\"text-xs text-gray-500 space-y-1\">\n                        <p>â€¢ Last 12 months of visits</p>\n                        <p>â€¢ Current medications</p>\n                        <p>â€¢ Emergency contact info</p>\n                        <p>â€¢ Insurance details</p>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"text-lg\">Recent Lab Results</CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"space-y-3\">\n                      {labResults.slice(0, 3).map((result: any) => (\n                        <div key={result.id} className=\"flex items-center justify-between py-2\">\n                          <div>\n                            <p className=\"font-medium text-sm\">{result.testName || 'Blood Test'}</p>\n                            <p className=\"text-xs text-gray-600\">{new Date(result.date).toLocaleDateString()}</p>\n                          </div>\n                          <Badge \n                            variant=\"outline\"\n                            className={\n                              result.status === 'normal' ? 'border-green-500 text-green-700' :\n                              result.status === 'abnormal' ? 'border-red-500 text-red-700' :\n                              'border-yellow-500 text-yellow-700'\n                            }\n                          >\n                            {result.status || 'Normal'}\n                          </Badge>\n                        </div>\n                      ))}\n                      <Button size=\"sm\" variant=\"outline\" className=\"w-full\">\n                        View All Results\n                      </Button>\n                    </div>\n                  </CardContent>\n                </Card>\n              </div>\n            </div>\n          </TabsContent>\n\n          {/* Notifications Tab */}\n          <TabsContent value=\"notifications\">\n            <HealthcareCard title=\"Notifications\" description=\"Alerts for results, appointments, and updates\">\n              <div className=\"space-y-4\">\n                {notificationsLoading ? (\n                  <div className=\"text-center py-8 text-gray-500\">Loading notifications...</div>\n                ) : notifications.length === 0 ? (\n                  <div className=\"text-center py-8 text-gray-500\">No new notifications</div>\n                ) : (\n                  notifications.map((notification: any) => (\n                    <div key={notification.id} className=\"flex items-start gap-4 p-4 border rounded-lg hover:bg-gray-50\">\n                      <div className=\"w-10 h-10 rounded-full flex items-center justify-center bg-blue-100\">\n                        {notification.type === 'lab_result' ? (\n                          <FlaskConical className=\"w-5 h-5 text-blue-600\" />\n                        ) : notification.type === 'appointment' ? (\n                          <Calendar className=\"w-5 h-5 text-blue-600\" />\n                        ) : notification.type === 'prescription' ? (\n                          <Pill className=\"w-5 h-5 text-blue-600\" />\n                        ) : (\n                          <Bell className=\"w-5 h-5 text-blue-600\" />\n                        )}\n                      </div>\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center justify-between mb-1\">\n                          <h4 className=\"font-semibold\">{notification.title}</h4>\n                          <span className=\"text-xs text-gray-500\">\n                            {new Date(notification.createdAt).toLocaleTimeString()}\n                          </span>\n                        </div>\n                        <p className=\"text-sm text-gray-700\">{notification.message}</p>\n                        {notification.actionRequired && (\n                          <Button size=\"sm\" className=\"mt-2\">\n                            {notification.actionText || 'Take Action'}\n                          </Button>\n                        )}\n                      </div>\n                      {!notification.isRead && (\n                        <div className=\"w-2 h-2 bg-blue-600 rounded-full\"></div>\n                      )}\n                    </div>\n                  ))\n                )}\n              </div>\n            </HealthcareCard>\n          </TabsContent>\n\n          {/* Consent & Privacy Tab */}\n          <TabsContent value=\"consent\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              <HealthcareCard title=\"Consent Management\" description=\"Manage your data sharing preferences\">\n                <div className=\"space-y-4\">\n                  <div className=\"space-y-3\">\n                    <div className=\"flex items-center justify-between p-3 border rounded-lg\">\n                      <div>\n                        <p className=\"font-medium\">Share data with specialists</p>\n                        <p className=\"text-sm text-gray-600\">Allow referral doctors to access your records</p>\n                      </div>\n                      <Checkbox defaultChecked />\n                    </div>\n                    \n                    <div className=\"flex items-center justify-between p-3 border rounded-lg\">\n                      <div>\n                        <p className=\"font-medium\">Emergency access</p>\n                        <p className=\"text-sm text-gray-600\">Allow emergency rooms to access critical information</p>\n                      </div>\n                      <Checkbox defaultChecked />\n                    </div>\n                    \n                    <div className=\"flex items-center justify-between p-3 border rounded-lg\">\n                      <div>\n                        <p className=\"font-medium\">Research participation</p>\n                        <p className=\"text-sm text-gray-600\">Anonymous data for medical research</p>\n                      </div>\n                      <Checkbox />\n                    </div>\n                    \n                    <div className=\"flex items-center justify-between p-3 border rounded-lg\">\n                      <div>\n                        <p className=\"font-medium\">Family access</p>\n                        <p className=\"text-sm text-gray-600\">Allow designated family members to view summaries</p>\n                      </div>\n                      <Checkbox />\n                    </div>\n                  </div>\n                  \n                  <Button className=\"w-full\">\n                    <Shield className=\"w-4 h-4 mr-2\" />\n                    Update Consent Preferences\n                  </Button>\n                </div>\n              </HealthcareCard>\n\n              <HealthcareCard title=\"Privacy & Security\" description=\"Your data protection settings\">\n                <div className=\"space-y-4\">\n                  <div className=\"p-4 bg-green-50 rounded-lg border border-green-200\">\n                    <div className=\"flex items-center gap-2 mb-2\">\n                      <CheckCircle className=\"w-5 h-5 text-green-600\" />\n                      <span className=\"font-semibold text-green-800\">HIPAA Compliant</span>\n                    </div>\n                    <p className=\"text-sm text-green-700\">\n                      Your health information is protected under HIPAA regulations and encrypted end-to-end.\n                    </p>\n                  </div>\n\n                  <div className=\"space-y-3\">\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"text-sm font-medium\">Data encryption</span>\n                      <Badge variant=\"outline\" className=\"bg-green-100 text-green-800\">Active</Badge>\n                    </div>\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"text-sm font-medium\">Audit logging</span>\n                      <Badge variant=\"outline\" className=\"bg-green-100 text-green-800\">Enabled</Badge>\n                    </div>\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"text-sm font-medium\">Access monitoring</span>\n                      <Badge variant=\"outline\" className=\"bg-green-100 text-green-800\">Active</Badge>\n                    </div>\n                  </div>\n\n                  <div className=\"pt-4 border-t\">\n                    <Button variant=\"outline\" className=\"w-full\">\n                      <FileText className=\"w-4 h-4 mr-2\" />\n                      Download Privacy Report\n                    </Button>\n                    <p className=\"text-xs text-gray-500 text-center mt-2\">\n                      See who has accessed your data in the last 90 days\n                    </p>\n                  </div>\n                </div>\n              </HealthcareCard>\n            </div>\n          </TabsContent>\n        </Tabs>\n      </div>\n    </div>\n  );\n}","size_bytes":25785},"client/src/pages/patient-dashboard.tsx":{"content":"import { useEffect } from \"react\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport Sidebar from \"@/components/layout/sidebar\";\nimport Header from \"@/components/layout/header\";\nimport StatsCard from \"@/components/dashboard/stats-card\";\n\nexport default function PatientDashboard() {\n  const { toast } = useToast();\n  const { isAuthenticated, isLoading, user } = useAuth();\n\n  // Redirect if not authenticated or not patient\n  useEffect(() => {\n    if (!isLoading && (!isAuthenticated || user?.role !== 'patient')) {\n      toast({\n        title: \"Unauthorized\",\n        description: \"You need patient access to view this page.\",\n        variant: \"destructive\",\n      });\n      setTimeout(() => {\n        window.location.href = \"/api/login\";\n      }, 500);\n      return;\n    }\n  }, [isAuthenticated, isLoading, user, toast]);\n\n  const { data: patientQueue, isLoading: queueLoading } = useQuery({\n    queryKey: [\"/api/queue\", { patientId: user?.roleData?.id }],\n    enabled: isAuthenticated && user?.role === 'patient' && user?.roleData?.id,\n  });\n\n  const { data: appointments, isLoading: appointmentsLoading } = useQuery({\n    queryKey: [\"/api/appointments\", { patientId: user?.roleData?.id }],\n    enabled: isAuthenticated && user?.role === 'patient' && user?.roleData?.id,\n  });\n\n  const { data: vitals, isLoading: vitalsLoading } = useQuery({\n    queryKey: [\"/api/patients\", user?.roleData?.id, \"vitals\"],\n    enabled: isAuthenticated && user?.role === 'patient' && user?.roleData?.id,\n  });\n\n  if (isLoading || !user) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-medical-bg\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 bg-medical-blue rounded-xl flex items-center justify-center mx-auto mb-4 animate-pulse\">\n            <i className=\"fas fa-user text-white text-2xl\"></i>\n          </div>\n          <p className=\"text-medical-gray\">Loading dashboard...</p>\n        </div>\n      </div>\n    );\n  }\n\n  const currentVisit = patientQueue?.[0];\n  const isInQueue = currentVisit && currentVisit.status === 'waiting';\n\n  return (\n    <div className=\"min-h-screen bg-medical-bg\">\n      <Header \n        title={`Welcome, ${user.firstName} ${user.lastName}`}\n        subtitle={`Patient Portal â€¢ ID: ${user.roleData?.patientId || 'N/A'}`}\n        user={user}\n      />\n      \n      <div className=\"flex\">\n        <Sidebar userRole=\"patient\" />\n        \n        <main className=\"flex-1 p-6\">\n          {/* Current Status & QR Check-in */}\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8\">\n            {/* Current Visit Status */}\n            <div className=\"lg:col-span-2 bg-white rounded-xl shadow-sm p-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">Current Visit Status</h3>\n              \n              {isInQueue ? (\n                <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6\">\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <div className=\"flex items-center space-x-3\">\n                      <div className=\"w-12 h-12 bg-blue-600 text-white rounded-full flex items-center justify-center\">\n                        <i className=\"fas fa-clock\"></i>\n                      </div>\n                      <div>\n                        <p className=\"text-lg font-semibold text-gray-900\">Currently in Queue</p>\n                        <p className=\"text-blue-600 font-medium\">{currentVisit.category} - {currentVisit.reasonForVisit}</p>\n                      </div>\n                    </div>\n                    <span className=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800\">\n                      Position #{currentVisit.queuePosition}\n                    </span>\n                  </div>\n                  \n                  <div className=\"grid grid-cols-3 gap-4 text-center\">\n                    <div>\n                      <p className=\"text-2xl font-bold text-gray-900\">\n                        {currentVisit.estimatedWaitTime || 'N/A'} min\n                      </p>\n                      <p className=\"text-sm text-medical-gray\">Estimated Wait</p>\n                    </div>\n                    <div>\n                      <p className=\"text-2xl font-bold text-gray-900\">\n                        {currentVisit.checkinTime ? new Date(currentVisit.checkinTime).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}) : 'N/A'}\n                      </p>\n                      <p className=\"text-sm text-medical-gray\">Check-in Time</p>\n                    </div>\n                    <div>\n                      <p className=\"text-2xl font-bold text-gray-900\">\n                        {currentVisit.roomAssigned || 'TBD'}\n                      </p>\n                      <p className=\"text-sm text-medical-gray\">Assigned Room</p>\n                    </div>\n                  </div>\n\n                  {/* Progress Steps */}\n                  <div className=\"mt-6\">\n                    <div className=\"flex items-center justify-between text-sm\">\n                      <div className=\"flex flex-col items-center\">\n                        <div className=\"w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center mb-2\">\n                          <i className=\"fas fa-check text-xs\"></i>\n                        </div>\n                        <span className=\"text-green-600 font-medium\">Checked In</span>\n                      </div>\n                      <div className=\"flex-1 h-1 bg-green-500 mx-2\"></div>\n                      <div className=\"flex flex-col items-center\">\n                        <div className=\"w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center mb-2\">\n                          <i className=\"fas fa-check text-xs\"></i>\n                        </div>\n                        <span className=\"text-green-600 font-medium\">Vitals Taken</span>\n                      </div>\n                      <div className=\"flex-1 h-1 bg-blue-500 mx-2\"></div>\n                      <div className=\"flex flex-col items-center\">\n                        <div className=\"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center mb-2 animate-pulse\">\n                          <span className=\"text-xs font-bold\">{currentVisit.queuePosition}</span>\n                        </div>\n                        <span className=\"text-blue-600 font-medium\">In Queue</span>\n                      </div>\n                      <div className=\"flex-1 h-1 bg-gray-300 mx-2\"></div>\n                      <div className=\"flex flex-col items-center\">\n                        <div className=\"w-8 h-8 bg-gray-300 text-gray-600 rounded-full flex items-center justify-center mb-2\">\n                          <i className=\"fas fa-user-md text-xs\"></i>\n                        </div>\n                        <span className=\"text-gray-600\">Consultation</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-6 mb-6\">\n                  <div className=\"text-center\">\n                    <div className=\"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center mx-auto mb-4\">\n                      <i className=\"fas fa-clipboard-check text-gray-600 text-2xl\"></i>\n                    </div>\n                    <h4 className=\"text-lg font-semibold text-gray-900 mb-2\">No Active Visit</h4>\n                    <p className=\"text-gray-600 mb-4\">You are not currently checked in for a visit.</p>\n                    <button className=\"bg-medical-blue text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors\">\n                      Check In Now\n                    </button>\n                  </div>\n                </div>\n              )}\n\n              {/* Quick Actions */}\n              <div className=\"grid grid-cols-3 gap-4\">\n                <button className=\"flex flex-col items-center p-4 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors\">\n                  <i className=\"fas fa-notes-medical text-xl mb-2\"></i>\n                  <span className=\"text-sm font-medium\">Update Symptoms</span>\n                </button>\n                \n                <button className=\"flex flex-col items-center p-4 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors\">\n                  <i className=\"fas fa-list text-xl mb-2\"></i>\n                  <span className=\"text-sm font-medium\">View Queue</span>\n                </button>\n                \n                <button className=\"flex flex-col items-center p-4 bg-yellow-50 text-yellow-700 rounded-lg hover:bg-yellow-100 transition-colors\">\n                  <i className=\"fas fa-phone text-xl mb-2\"></i>\n                  <span className=\"text-sm font-medium\">Contact Reception</span>\n                </button>\n              </div>\n            </div>\n\n            {/* QR Check-in Card */}\n            <div className=\"bg-white rounded-xl shadow-sm p-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Quick Check-in</h3>\n              \n              <div className=\"text-center mb-6\">\n                <div className=\"w-32 h-32 bg-gray-100 rounded-lg flex items-center justify-center mx-auto mb-4\">\n                  <i className=\"fas fa-qrcode text-4xl text-gray-400\"></i>\n                </div>\n                <p className=\"text-sm text-gray-600 mb-4\">\n                  Show this QR code at reception for quick check-in\n                </p>\n                <button className=\"w-full bg-medical-blue text-white py-2 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors\">\n                  Generate QR Code\n                </button>\n              </div>\n\n              <div className=\"border-t pt-4\">\n                <h4 className=\"font-medium text-gray-900 mb-2\">Patient Information</h4>\n                <div className=\"space-y-1 text-sm\">\n                  <p><span className=\"text-gray-600\">ID:</span> {user.roleData?.patientId}</p>\n                  <p><span className=\"text-gray-600\">DOB:</span> {user.roleData?.dateOfBirth ? new Date(user.roleData.dateOfBirth).toLocaleDateString() : 'Not set'}</p>\n                  <p><span className=\"text-gray-600\">Blood Type:</span> {user.roleData?.bloodType || 'Not set'}</p>\n                  <p><span className=\"text-gray-600\">Emergency Contact:</span> {user.roleData?.emergencyContact || 'Not set'}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Health Overview */}\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\n            {/* Recent Vitals */}\n            <div className=\"bg-white rounded-xl shadow-sm p-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">Recent Vitals</h3>\n              \n              {vitalsLoading ? (\n                <div className=\"animate-pulse space-y-4\">\n                  {[1, 2].map((i) => (\n                    <div key={i} className=\"grid grid-cols-2 gap-4\">\n                      <div className=\"h-16 bg-gray-200 rounded-lg\"></div>\n                      <div className=\"h-16 bg-gray-200 rounded-lg\"></div>\n                    </div>\n                  ))}\n                </div>\n              ) : vitals && vitals.length > 0 ? (\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div className=\"bg-blue-50 p-3 rounded-lg\">\n                    <p className=\"text-xs text-blue-600 font-medium\">BLOOD PRESSURE</p>\n                    <p className=\"text-lg font-bold text-blue-700\">\n                      {vitals[0].bloodPressureSystolic}/{vitals[0].bloodPressureDiastolic}\n                    </p>\n                    <p className=\"text-xs text-blue-600\">\n                      {new Date(vitals[0].recordedAt).toLocaleDateString()}\n                    </p>\n                  </div>\n                  <div className=\"bg-green-50 p-3 rounded-lg\">\n                    <p className=\"text-xs text-green-600 font-medium\">HEART RATE</p>\n                    <p className=\"text-lg font-bold text-green-700\">{vitals[0].heartRate} bpm</p>\n                    <p className=\"text-xs text-green-600\">\n                      {new Date(vitals[0].recordedAt).toLocaleDateString()}\n                    </p>\n                  </div>\n                  <div className=\"bg-red-50 p-3 rounded-lg\">\n                    <p className=\"text-xs text-red-600 font-medium\">TEMPERATURE</p>\n                    <p className=\"text-lg font-bold text-red-700\">\n                      {vitals[0].temperature ? (vitals[0].temperature / 10).toFixed(1) : 'N/A'}Â°F\n                    </p>\n                    <p className=\"text-xs text-red-600\">\n                      {new Date(vitals[0].recordedAt).toLocaleDateString()}\n                    </p>\n                  </div>\n                  <div className=\"bg-purple-50 p-3 rounded-lg\">\n                    <p className=\"text-xs text-purple-600 font-medium\">OXYGEN SAT</p>\n                    <p className=\"text-lg font-bold text-purple-700\">{vitals[0].oxygenSaturation}%</p>\n                    <p className=\"text-xs text-purple-600\">\n                      {new Date(vitals[0].recordedAt).toLocaleDateString()}\n                    </p>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"text-center py-8\">\n                  <i className=\"fas fa-heartbeat text-4xl text-gray-300 mb-4\"></i>\n                  <p className=\"text-gray-500\">No recent vitals recorded</p>\n                </div>\n              )}\n            </div>\n\n            {/* Upcoming Appointments */}\n            <div className=\"bg-white rounded-xl shadow-sm p-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">Upcoming Appointments</h3>\n              \n              {appointmentsLoading ? (\n                <div className=\"animate-pulse space-y-4\">\n                  {[1, 2, 3].map((i) => (\n                    <div key={i} className=\"p-4 bg-gray-50 rounded-lg\">\n                      <div className=\"h-4 bg-gray-200 rounded w-3/4 mb-2\"></div>\n                      <div className=\"h-3 bg-gray-200 rounded w-1/2\"></div>\n                    </div>\n                  ))}\n                </div>\n              ) : appointments && appointments.length > 0 ? (\n                <div className=\"space-y-4\">\n                  {appointments.slice(0, 3).map((appointment: any) => (\n                    <div key={appointment.id} className=\"p-4 border border-gray-200 rounded-lg\">\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <h4 className=\"font-medium text-gray-900\">{appointment.appointmentType}</h4>\n                        <span className={`px-2 py-1 rounded-full text-xs font-medium ${\n                          appointment.status === 'scheduled' ? 'bg-green-100 text-green-800' :\n                          appointment.status === 'cancelled' ? 'bg-red-100 text-red-800' :\n                          'bg-gray-100 text-gray-800'\n                        }`}>\n                          {appointment.status}\n                        </span>\n                      </div>\n                      <p className=\"text-sm text-gray-600\">\n                        {new Date(appointment.scheduledTime).toLocaleDateString()} at{' '}\n                        {new Date(appointment.scheduledTime).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}\n                      </p>\n                      {appointment.roomNumber && (\n                        <p className=\"text-sm text-gray-600\">Room: {appointment.roomNumber}</p>\n                      )}\n                    </div>\n                  ))}\n                  \n                  {appointments.length > 3 && (\n                    <button className=\"w-full text-medical-blue font-medium text-sm hover:bg-blue-50 py-2 rounded-lg transition-colors\">\n                      View All Appointments ({appointments.length} total)\n                    </button>\n                  )}\n                </div>\n              ) : (\n                <div className=\"text-center py-8\">\n                  <i className=\"fas fa-calendar-alt text-4xl text-gray-300 mb-4\"></i>\n                  <p className=\"text-gray-500\">No upcoming appointments</p>\n                  <button className=\"mt-3 bg-medical-blue text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors\">\n                    Schedule Appointment\n                  </button>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Health Summary */}\n          <div className=\"bg-white rounded-xl shadow-sm p-6\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">Health Summary</h3>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n              <div>\n                <h4 className=\"font-medium text-gray-900 mb-3\">Allergies</h4>\n                <div className=\"text-sm\">\n                  {user.roleData?.allergies ? (\n                    <span className=\"px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs\">\n                      {user.roleData.allergies}\n                    </span>\n                  ) : (\n                    <p className=\"text-gray-500\">No known allergies</p>\n                  )}\n                </div>\n              </div>\n              \n              <div>\n                <h4 className=\"font-medium text-gray-900 mb-3\">Emergency Contact</h4>\n                <div className=\"text-sm text-gray-600\">\n                  <p>{user.roleData?.emergencyContact || 'Not set'}</p>\n                  <p>{user.roleData?.emergencyPhone || 'No phone number'}</p>\n                </div>\n              </div>\n              \n              <div>\n                <h4 className=\"font-medium text-gray-900 mb-3\">Medical Info</h4>\n                <div className=\"text-sm text-gray-600\">\n                  <p>Blood Type: {user.roleData?.bloodType || 'Not set'}</p>\n                  <p>Gender: {user.roleData?.gender || 'Not specified'}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n}\n","size_bytes":18359},"client/src/pages/receptionist-dashboard-new.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { HealthcareCard } from \"@/components/ui/healthcare-card\";\nimport { \n  Users, \n  Calendar, \n  Clock, \n  Phone, \n  DollarSign, \n  CreditCard, \n  CheckCircle, \n  AlertCircle, \n  UserPlus, \n  Search, \n  Bell,\n  MapPin,\n  Shield,\n  FileText,\n  MessageCircle,\n  Printer,\n  QrCode,\n  Smartphone,\n  Clipboard\n} from \"lucide-react\";\n\nexport default function ReceptionistDashboard() {\n  const { user } = useAuth();\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  // Fetch queue data\n  const { data: queueData = [], isLoading: queueLoading } = useQuery({\n    queryKey: [\"/api/receptionist/queue\"],\n  });\n\n  // Fetch today's appointments\n  const { data: appointments = [], isLoading: appointmentsLoading } = useQuery({\n    queryKey: [\"/api/receptionist/appointments\"],\n  });\n\n  // Fetch check-in data\n  const { data: checkInData = [], isLoading: checkInLoading } = useQuery({\n    queryKey: [\"/api/receptionist/check-ins\"],\n  });\n\n  // Fetch billing data\n  const { data: billingData = [], isLoading: billingLoading } = useQuery({\n    queryKey: [\"/api/receptionist/billing\"],\n  });\n\n  const waitingPatients = queueData.filter((p: any) => p.status === 'waiting');\n  const todayAppointments = appointments.filter((a: any) => \n    new Date(a.appointmentDate).toDateString() === new Date().toDateString()\n  );\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-pink-50 via-white to-purple-50\">\n      {/* Header */}\n      <div className=\"border-b bg-white/80 backdrop-blur-sm sticky top-0 z-10\">\n        <div className=\"px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900\">\n                Welcome, {user?.firstName} {user?.lastName}\n              </h1>\n              <p className=\"text-gray-600\">Reception & Patient Flow Management</p>\n            </div>\n            <div className=\"flex items-center gap-4\">\n              <Badge variant=\"outline\" className=\"bg-pink-100 text-pink-800\">\n                <Users className=\"w-4 h-4 mr-1\" />\n                Front Desk\n              </Badge>\n              <Button onClick={() => window.location.href = \"/api/logout\"} variant=\"ghost\">\n                Logout\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"p-6\">\n        {/* Key Metrics Overview */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6\">\n          <Card>\n            <CardContent className=\"p-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600\">Waiting Patients</p>\n                  <p className=\"text-3xl font-bold text-gray-900\">{waitingPatients.length}</p>\n                  <p className=\"text-sm text-blue-600\">\n                    <Clock className=\"w-4 h-4 inline mr-1\" />\n                    Avg wait: {Math.round(waitingPatients.reduce((acc: number, p: any) => acc + (p.estimatedWaitTime || 0), 0) / waitingPatients.length) || 0} min\n                  </p>\n                </div>\n                <Users className=\"w-8 h-8 text-blue-600\" />\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardContent className=\"p-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600\">Today's Appointments</p>\n                  <p className=\"text-3xl font-bold text-gray-900\">{todayAppointments.length}</p>\n                  <p className=\"text-sm text-green-600\">\n                    <CheckCircle className=\"w-4 h-4 inline mr-1\" />\n                    {todayAppointments.filter((a: any) => a.status === 'completed').length} completed\n                  </p>\n                </div>\n                <Calendar className=\"w-8 h-8 text-green-600\" />\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardContent className=\"p-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600\">Pending Payments</p>\n                  <p className=\"text-3xl font-bold text-gray-900\">{billingData.filter((b: any) => b.status === 'pending').length}</p>\n                  <p className=\"text-sm text-orange-600\">\n                    <DollarSign className=\"w-4 h-4 inline mr-1\" />\n                    ${billingData.reduce((acc: number, b: any) => acc + (b.amount || 0), 0).toLocaleString()}\n                  </p>\n                </div>\n                <CreditCard className=\"w-8 h-8 text-orange-600\" />\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardContent className=\"p-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600\">Check-ins Today</p>\n                  <p className=\"text-3xl font-bold text-gray-900\">{checkInData.length}</p>\n                  <p className=\"text-sm text-purple-600\">\n                    <UserPlus className=\"w-4 h-4 inline mr-1\" />\n                    New registrations: {checkInData.filter((c: any) => c.isNewPatient).length}\n                  </p>\n                </div>\n                <Clipboard className=\"w-8 h-8 text-purple-600\" />\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n\n        <Tabs defaultValue=\"queue\" className=\"space-y-6\">\n          <TabsList className=\"grid w-full grid-cols-5\">\n            <TabsTrigger value=\"queue\">Live Queue</TabsTrigger>\n            <TabsTrigger value=\"checkin\">Check-in/Out</TabsTrigger>\n            <TabsTrigger value=\"appointments\">Appointments</TabsTrigger>\n            <TabsTrigger value=\"billing\">Billing</TabsTrigger>\n            <TabsTrigger value=\"communication\">Communications</TabsTrigger>\n          </TabsList>\n\n          {/* Live Queue Management Tab */}\n          <TabsContent value=\"queue\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n              <div className=\"lg:col-span-2\">\n                <HealthcareCard title=\"Live Queue Management\" description=\"Real-time patient flow and waiting times\">\n                  <div className=\"space-y-3\">\n                    {queueLoading ? (\n                      <div className=\"text-center py-8 text-gray-500\">Loading queue data...</div>\n                    ) : queueData.length === 0 ? (\n                      <div className=\"text-center py-8 text-gray-500\">No patients in queue</div>\n                    ) : (\n                      queueData.map((patient: any) => (\n                        <div key={patient.id} className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\">\n                          <div className=\"flex items-center gap-4\">\n                            <div className=\"w-12 h-12 bg-pink-100 rounded-full flex items-center justify-center\">\n                              <span className=\"text-lg font-bold text-pink-600\">#{patient.queueNumber}</span>\n                            </div>\n                            <div>\n                              <p className=\"font-semibold\">{patient.patientName || `Patient #${patient.queueNumber}`}</p>\n                              <p className=\"text-sm text-gray-600\">{patient.reasonForVisit}</p>\n                              <div className=\"flex items-center gap-2 mt-1\">\n                                <Badge \n                                  variant=\"outline\" \n                                  className={\n                                    patient.priority === 'critical' ? 'border-red-500 text-red-700' :\n                                    patient.priority === 'high' ? 'border-orange-500 text-orange-700' :\n                                    'border-green-500 text-green-700'\n                                  }\n                                >\n                                  {patient.priority?.toUpperCase() || 'NORMAL'}\n                                </Badge>\n                                <Badge \n                                  variant=\"outline\"\n                                  className={\n                                    patient.status === 'waiting' ? 'border-blue-500 text-blue-700' :\n                                    patient.status === 'called' ? 'border-yellow-500 text-yellow-700' :\n                                    'border-green-500 text-green-700'\n                                  }\n                                >\n                                  {patient.status?.toUpperCase()}\n                                </Badge>\n                                <span className=\"text-xs text-gray-500\">\n                                  Waiting: {patient.estimatedWaitTime || 0} min\n                                </span>\n                              </div>\n                            </div>\n                          </div>\n                          <div className=\"flex items-center gap-2\">\n                            <Button size=\"sm\" variant=\"outline\">\n                              <Phone className=\"w-4 h-4 mr-1\" />\n                              Call\n                            </Button>\n                            <Button size=\"sm\">\n                              <MapPin className=\"w-4 h-4 mr-1\" />\n                              Assign Room\n                            </Button>\n                          </div>\n                        </div>\n                      ))\n                    )}\n                  </div>\n                </HealthcareCard>\n              </div>\n\n              <div className=\"space-y-6\">\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"text-lg\">Queue Actions</CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"space-y-3\">\n                      <Button className=\"w-full justify-start\" variant=\"outline\">\n                        <UserPlus className=\"w-4 h-4 mr-2\" />\n                        Add Walk-in Patient\n                      </Button>\n                      <Button className=\"w-full justify-start\" variant=\"outline\">\n                        <Bell className=\"w-4 h-4 mr-2\" />\n                        Call Next Patient\n                      </Button>\n                      <Button className=\"w-full justify-start\" variant=\"outline\">\n                        <QrCode className=\"w-4 h-4 mr-2\" />\n                        Generate Queue Number\n                      </Button>\n                      <Button className=\"w-full justify-start\" variant=\"outline\">\n                        <Printer className=\"w-4 h-4 mr-2\" />\n                        Print Queue Status\n                      </Button>\n                    </div>\n                  </CardContent>\n                </Card>\n\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"text-lg\">Department Wait Times</CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"space-y-3\">\n                      {[\n                        { dept: 'General Medicine', wait: 15, patients: 5 },\n                        { dept: 'Cardiology', wait: 25, patients: 3 },\n                        { dept: 'Emergency', wait: 5, patients: 2 },\n                        { dept: 'Pediatrics', wait: 20, patients: 4 }\n                      ].map((dept) => (\n                        <div key={dept.dept} className=\"flex items-center justify-between py-2\">\n                          <div>\n                            <p className=\"text-sm font-medium\">{dept.dept}</p>\n                            <p className=\"text-xs text-gray-600\">{dept.patients} patients</p>\n                          </div>\n                          <div className=\"text-right\">\n                            <p className=\"text-sm font-semibold\">{dept.wait} min</p>\n                            <div className={`w-12 h-2 rounded-full ${\n                              dept.wait < 10 ? 'bg-green-500' :\n                              dept.wait < 20 ? 'bg-yellow-500' : 'bg-red-500'\n                            }`}></div>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </CardContent>\n                </Card>\n              </div>\n            </div>\n          </TabsContent>\n\n          {/* Patient Check-in/Check-out Tab */}\n          <TabsContent value=\"checkin\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              <HealthcareCard title=\"Patient Check-in\" description=\"Registration and appointment check-in\">\n                <div className=\"space-y-4\">\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <Button className=\"h-20 flex-col\" variant=\"outline\">\n                      <UserPlus className=\"w-6 h-6 mb-2\" />\n                      <span>New Patient Registration</span>\n                    </Button>\n                    <Button className=\"h-20 flex-col\" variant=\"outline\">\n                      <CheckCircle className=\"w-6 h-6 mb-2\" />\n                      <span>Appointment Check-in</span>\n                    </Button>\n                  </div>\n\n                  <div className=\"border rounded-lg p-4\">\n                    <h4 className=\"font-semibold mb-3\">Recent Check-ins</h4>\n                    <div className=\"space-y-3\">\n                      {checkInData.slice(0, 5).map((checkin: any) => (\n                        <div key={checkin.id} className=\"flex items-center justify-between py-2\">\n                          <div className=\"flex items-center gap-3\">\n                            <div className=\"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center\">\n                              <CheckCircle className=\"w-4 h-4 text-green-600\" />\n                            </div>\n                            <div>\n                              <p className=\"font-medium\">{checkin.patientName}</p>\n                              <p className=\"text-sm text-gray-600\">\n                                {checkin.isNewPatient ? 'New Patient' : 'Return Visit'}\n                              </p>\n                            </div>\n                          </div>\n                          <div className=\"text-right\">\n                            <p className=\"text-sm\">{new Date(checkin.checkedInAt).toLocaleTimeString()}</p>\n                            <Badge variant=\"outline\" className=\"text-xs\">\n                              {checkin.department}\n                            </Badge>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              </HealthcareCard>\n\n              <HealthcareCard title=\"Insurance & Verification\" description=\"Insurance verification and eligibility\">\n                <div className=\"space-y-4\">\n                  <div className=\"grid gap-3\">\n                    <Button className=\"w-full justify-start\" variant=\"outline\">\n                      <Shield className=\"w-4 h-4 mr-2\" />\n                      Verify Insurance Coverage\n                    </Button>\n                    <Button className=\"w-full justify-start\" variant=\"outline\">\n                      <FileText className=\"w-4 h-4 mr-2\" />\n                      Check Eligibility\n                    </Button>\n                    <Button className=\"w-full justify-start\" variant=\"outline\">\n                      <CreditCard className=\"w-4 h-4 mr-2\" />\n                      Process Co-pay\n                    </Button>\n                  </div>\n\n                  <div className=\"border rounded-lg p-4\">\n                    <h4 className=\"font-semibold mb-3\">Insurance Alerts</h4>\n                    <div className=\"space-y-2\">\n                      {[\n                        { patient: 'John Smith', issue: 'Insurance expired', type: 'error' },\n                        { patient: 'Sarah Johnson', issue: 'Pre-auth required', type: 'warning' },\n                        { patient: 'Mike Davis', issue: 'High deductible', type: 'info' }\n                      ].map((alert, index) => (\n                        <div key={index} className=\"flex items-center justify-between py-2\">\n                          <div className=\"flex items-center gap-2\">\n                            <AlertCircle className={`w-4 h-4 ${\n                              alert.type === 'error' ? 'text-red-500' :\n                              alert.type === 'warning' ? 'text-yellow-500' : 'text-blue-500'\n                            }`} />\n                            <div>\n                              <p className=\"text-sm font-medium\">{alert.patient}</p>\n                              <p className=\"text-xs text-gray-600\">{alert.issue}</p>\n                            </div>\n                          </div>\n                          <Button size=\"sm\" variant=\"outline\">Resolve</Button>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              </HealthcareCard>\n            </div>\n          </TabsContent>\n\n          {/* Appointment Scheduler Tab */}\n          <TabsContent value=\"appointments\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n              <div className=\"lg:col-span-2\">\n                <HealthcareCard title=\"Appointment Scheduler\" description=\"Calendar management and doctor availability\">\n                  <div className=\"space-y-4\">\n                    <div className=\"flex items-center justify-between\">\n                      <h4 className=\"font-semibold\">Today's Schedule</h4>\n                      <Button size=\"sm\">\n                        <Calendar className=\"w-4 h-4 mr-1\" />\n                        New Appointment\n                      </Button>\n                    </div>\n                    \n                    <div className=\"space-y-3\">\n                      {appointmentsLoading ? (\n                        <div className=\"text-center py-4 text-gray-500\">Loading appointments...</div>\n                      ) : todayAppointments.length === 0 ? (\n                        <div className=\"text-center py-4 text-gray-500\">No appointments scheduled</div>\n                      ) : (\n                        todayAppointments.map((appointment: any) => (\n                          <div key={appointment.id} className=\"flex items-center justify-between p-3 border rounded-lg\">\n                            <div className=\"flex items-center gap-3\">\n                              <div className=\"text-center\">\n                                <p className=\"text-sm font-bold\">{new Date(appointment.scheduledTime).toLocaleTimeString()}</p>\n                                <p className=\"text-xs text-gray-600\">{appointment.duration} min</p>\n                              </div>\n                              <div>\n                                <p className=\"font-medium\">{appointment.patientName}</p>\n                                <p className=\"text-sm text-gray-600\">{appointment.appointmentType}</p>\n                                <p className=\"text-xs text-gray-500\">Dr. {appointment.doctorName}</p>\n                              </div>\n                            </div>\n                            <div className=\"flex items-center gap-2\">\n                              <Badge \n                                variant=\"outline\"\n                                className={\n                                  appointment.status === 'completed' ? 'border-green-500 text-green-700' :\n                                  appointment.status === 'in_progress' ? 'border-yellow-500 text-yellow-700' :\n                                  appointment.status === 'cancelled' ? 'border-red-500 text-red-700' :\n                                  'border-blue-500 text-blue-700'\n                                }\n                              >\n                                {appointment.status}\n                              </Badge>\n                              <Button size=\"sm\" variant=\"outline\">\n                                <Phone className=\"w-4 h-4 mr-1\" />\n                                Call\n                              </Button>\n                            </div>\n                          </div>\n                        ))\n                      )}\n                    </div>\n                  </div>\n                </HealthcareCard>\n              </div>\n\n              <div className=\"space-y-6\">\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"text-lg\">Doctor Availability</CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"space-y-3\">\n                      {[\n                        { doctor: 'Dr. Smith', status: 'Available', nextSlot: '2:30 PM' },\n                        { doctor: 'Dr. Johnson', status: 'Busy', nextSlot: '4:00 PM' },\n                        { doctor: 'Dr. Williams', status: 'Available', nextSlot: '1:45 PM' },\n                        { doctor: 'Dr. Brown', status: 'On Break', nextSlot: '3:15 PM' }\n                      ].map((doctor) => (\n                        <div key={doctor.doctor} className=\"flex items-center justify-between py-2\">\n                          <div>\n                            <p className=\"text-sm font-medium\">{doctor.doctor}</p>\n                            <p className=\"text-xs text-gray-600\">Next: {doctor.nextSlot}</p>\n                          </div>\n                          <Badge \n                            variant=\"outline\"\n                            className={\n                              doctor.status === 'Available' ? 'border-green-500 text-green-700' :\n                              doctor.status === 'Busy' ? 'border-red-500 text-red-700' :\n                              'border-yellow-500 text-yellow-700'\n                            }\n                          >\n                            {doctor.status}\n                          </Badge>\n                        </div>\n                      ))}\n                    </div>\n                  </CardContent>\n                </Card>\n\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"text-lg\">Quick Scheduler</CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"space-y-3\">\n                      <Input placeholder=\"Patient name\" />\n                      <Input type=\"date\" />\n                      <Input type=\"time\" />\n                      <Button className=\"w-full\">\n                        <Calendar className=\"w-4 h-4 mr-2\" />\n                        Schedule Appointment\n                      </Button>\n                    </div>\n                  </CardContent>\n                </Card>\n              </div>\n            </div>\n          </TabsContent>\n\n          {/* Billing Tab */}\n          <TabsContent value=\"billing\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              <HealthcareCard title=\"Payment Processing\" description=\"Billing and payment management\">\n                <div className=\"space-y-4\">\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"p-4 bg-green-50 rounded-lg text-center\">\n                      <DollarSign className=\"w-6 h-6 text-green-600 mx-auto mb-2\" />\n                      <p className=\"text-lg font-bold text-green-600\">\n                        ${billingData.filter((b: any) => b.status === 'paid').reduce((acc: number, b: any) => acc + b.amount, 0).toLocaleString()}\n                      </p>\n                      <p className=\"text-xs text-gray-600\">Collected Today</p>\n                    </div>\n                    <div className=\"p-4 bg-orange-50 rounded-lg text-center\">\n                      <AlertCircle className=\"w-6 h-6 text-orange-600 mx-auto mb-2\" />\n                      <p className=\"text-lg font-bold text-orange-600\">\n                        ${billingData.filter((b: any) => b.status === 'pending').reduce((acc: number, b: any) => acc + b.amount, 0).toLocaleString()}\n                      </p>\n                      <p className=\"text-xs text-gray-600\">Outstanding</p>\n                    </div>\n                  </div>\n\n                  <div className=\"border rounded-lg p-4\">\n                    <h4 className=\"font-semibold mb-3\">Pending Payments</h4>\n                    <div className=\"space-y-3\">\n                      {billingData.filter((b: any) => b.status === 'pending').slice(0, 5).map((bill: any) => (\n                        <div key={bill.id} className=\"flex items-center justify-between py-2\">\n                          <div>\n                            <p className=\"font-medium\">{bill.patientName}</p>\n                            <p className=\"text-sm text-gray-600\">Invoice #{bill.invoiceNumber}</p>\n                          </div>\n                          <div className=\"text-right\">\n                            <p className=\"font-bold text-orange-600\">${bill.amount}</p>\n                            <Button size=\"sm\" variant=\"outline\">Process</Button>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              </HealthcareCard>\n\n              <HealthcareCard title=\"Insurance Claims\" description=\"Claims processing and management\">\n                <div className=\"space-y-4\">\n                  <div className=\"grid gap-3\">\n                    <Button className=\"w-full justify-start\" variant=\"outline\">\n                      <FileText className=\"w-4 h-4 mr-2\" />\n                      Submit New Claim\n                    </Button>\n                    <Button className=\"w-full justify-start\" variant=\"outline\">\n                      <Search className=\"w-4 h-4 mr-2\" />\n                      Check Claim Status\n                    </Button>\n                    <Button className=\"w-full justify-start\" variant=\"outline\">\n                      <Printer className=\"w-4 h-4 mr-2\" />\n                      Print Claim Forms\n                    </Button>\n                  </div>\n\n                  <div className=\"border rounded-lg p-4\">\n                    <h4 className=\"font-semibold mb-3\">Recent Claims</h4>\n                    <div className=\"space-y-3\">\n                      {[\n                        { patient: 'Alice Cooper', claim: 'CLM-2024-001', status: 'approved', amount: 250 },\n                        { patient: 'Bob Wilson', claim: 'CLM-2024-002', status: 'pending', amount: 180 },\n                        { patient: 'Carol Davis', claim: 'CLM-2024-003', status: 'rejected', amount: 320 }\n                      ].map((claim) => (\n                        <div key={claim.claim} className=\"flex items-center justify-between py-2\">\n                          <div>\n                            <p className=\"font-medium\">{claim.patient}</p>\n                            <p className=\"text-sm text-gray-600\">{claim.claim}</p>\n                          </div>\n                          <div className=\"text-right\">\n                            <p className=\"font-bold\">${claim.amount}</p>\n                            <Badge \n                              variant=\"outline\"\n                              className={\n                                claim.status === 'approved' ? 'border-green-500 text-green-700' :\n                                claim.status === 'rejected' ? 'border-red-500 text-red-700' :\n                                'border-yellow-500 text-yellow-700'\n                              }\n                            >\n                              {claim.status}\n                            </Badge>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              </HealthcareCard>\n            </div>\n          </TabsContent>\n\n          {/* Communication Hub Tab */}\n          <TabsContent value=\"communication\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              <HealthcareCard title=\"Communication Hub\" description=\"Patient notifications and general inquiries\">\n                <div className=\"space-y-4\">\n                  <div className=\"grid gap-3\">\n                    <Button className=\"w-full justify-start\" variant=\"outline\">\n                      <MessageCircle className=\"w-4 h-4 mr-2\" />\n                      Send Appointment Reminders\n                    </Button>\n                    <Button className=\"w-full justify-start\" variant=\"outline\">\n                      <Smartphone className=\"w-4 h-4 mr-2\" />\n                      SMS Notifications\n                    </Button>\n                    <Button className=\"w-full justify-start\" variant=\"outline\">\n                      <Bell className=\"w-4 h-4 mr-2\" />\n                      Emergency Announcements\n                    </Button>\n                  </div>\n\n                  <div className=\"border rounded-lg p-4\">\n                    <h4 className=\"font-semibold mb-3\">Recent Messages</h4>\n                    <div className=\"space-y-3\">\n                      {[\n                        { patient: 'Emma Thompson', type: 'Appointment Reminder', time: '10:30 AM', status: 'sent' },\n                        { patient: 'David Lee', type: 'Lab Results Ready', time: '11:15 AM', status: 'delivered' },\n                        { patient: 'Maria Garcia', type: 'Payment Due', time: '9:45 AM', status: 'read' }\n                      ].map((message, index) => (\n                        <div key={index} className=\"flex items-center justify-between py-2\">\n                          <div>\n                            <p className=\"font-medium\">{message.patient}</p>\n                            <p className=\"text-sm text-gray-600\">{message.type}</p>\n                          </div>\n                          <div className=\"text-right\">\n                            <p className=\"text-sm\">{message.time}</p>\n                            <Badge variant=\"outline\" className=\"text-xs\">\n                              {message.status}\n                            </Badge>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              </HealthcareCard>\n\n              <HealthcareCard title=\"Patient Information\" description=\"Quick patient lookup and information\">\n                <div className=\"space-y-4\">\n                  <div className=\"space-y-3\">\n                    <Input placeholder=\"Search patient by name or ID\" />\n                    <Button className=\"w-full\">\n                      <Search className=\"w-4 h-4 mr-2\" />\n                      Search Patient Records\n                    </Button>\n                  </div>\n\n                  <div className=\"border rounded-lg p-4\">\n                    <h4 className=\"font-semibold mb-3\">Frequently Requested Info</h4>\n                    <div className=\"space-y-2\">\n                      {[\n                        'Office hours and contact information',\n                        'Insurance acceptance and verification',\n                        'Prescription refill procedures',\n                        'Lab result availability',\n                        'Appointment cancellation policy'\n                      ].map((info, index) => (\n                        <div key={index} className=\"p-2 bg-gray-50 rounded text-sm\">\n                          {info}\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              </HealthcareCard>\n            </div>\n          </TabsContent>\n        </Tabs>\n      </div>\n    </div>\n  );\n}","size_bytes":32713},"client/src/pages/receptionist-dashboard.tsx":{"content":"import { useEffect, useState } from \"react\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { isUnauthorizedError } from \"@/lib/authUtils\";\n\nexport default function ReceptionistDashboard() {\n  const { toast } = useToast();\n  const { isAuthenticated, isLoading, user } = useAuth();\n  const queryClient = useQueryClient();\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [checkInData, setCheckInData] = useState({ patientName: \"\", reason: \"\", urgency: \"routine\" });\n\n  // Redirect if not authenticated or not receptionist\n  useEffect(() => {\n    if (!isLoading && (!isAuthenticated || user?.role !== 'receptionist')) {\n      toast({\n        title: \"Unauthorized\",\n        description: \"You are logged out. Logging in again...\",\n        variant: \"destructive\",\n      });\n      setTimeout(() => {\n        window.location.href = \"/api/login\";\n      }, 500);\n      return;\n    }\n  }, [isAuthenticated, isLoading, user, toast]);\n\n  const { data: queue, isLoading: queueLoading } = useQuery({\n    queryKey: [\"/api/queue\"],\n    enabled: isAuthenticated && user?.role === 'receptionist',\n  });\n\n  const { data: rooms, isLoading: roomsLoading } = useQuery({\n    queryKey: [\"/api/rooms\"],\n    enabled: isAuthenticated && user?.role === 'receptionist',\n  });\n\n  // Check-in mutation\n  const checkInMutation = useMutation({\n    mutationFn: async (data: any) => {\n      await apiRequest(\"/api/queue\", {\n        method: \"POST\",\n        body: JSON.stringify(data),\n      });\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Check-in Successful\",\n        description: \"Patient has been added to the queue\",\n      });\n      setCheckInData({ patientName: \"\", reason: \"\", urgency: \"routine\" });\n      queryClient.invalidateQueries({ queryKey: [\"/api/queue\"] });\n    },\n    onError: (error) => {\n      if (isUnauthorizedError(error)) {\n        toast({\n          title: \"Unauthorized\",\n          description: \"You are logged out. Logging in again...\",\n          variant: \"destructive\",\n        });\n        setTimeout(() => {\n          window.location.href = \"/api/login\";\n        }, 500);\n        return;\n      }\n      toast({\n        title: \"Check-in Failed\",\n        description: \"Please try again\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleCheckIn = () => {\n    if (!checkInData.patientName.trim() || !checkInData.reason.trim()) {\n      toast({\n        title: \"Missing Information\",\n        description: \"Please fill in patient name and reason for visit\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    checkInMutation.mutate({\n      patientName: checkInData.patientName,\n      reasonForVisit: checkInData.reason,\n      priority: checkInData.urgency,\n      status: 'waiting',\n      estimatedWaitTime: 15,\n    });\n  };\n\n  if (isLoading || !user) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 bg-blue-600 rounded-xl flex items-center justify-center mx-auto mb-4 animate-pulse\">\n            <i className=\"fas fa-clipboard-check text-white text-2xl\"></i>\n          </div>\n          <p className=\"text-gray-600\">Loading dashboard...</p>\n        </div>\n      </div>\n    );\n  }\n\n  const totalRooms = rooms?.length || 0;\n  const availableRooms = rooms?.filter((room: any) => room.status === 'available').length || 0;\n  const totalBeds = rooms?.reduce((sum: number, room: any) => sum + (room.totalBeds || 0), 0) || 0;\n  const availableBeds = rooms?.reduce((sum: number, room: any) => sum + (room.availableBeds || 0), 0) || 0;\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header - Top with Medi OS logo, role name, logout */}\n      <header className=\"bg-white border-b border-gray-200 px-6 py-4\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center\">\n                <i className=\"fas fa-heartbeat text-white text-xl\"></i>\n              </div>\n              <div>\n                <h1 className=\"text-xl font-bold text-gray-900\">Medi OS</h1>\n                <p className=\"text-sm text-gray-500\">Receptionist - {user.firstName}</p>\n              </div>\n            </div>\n          </div>\n          <button\n            onClick={() => window.location.href = \"/api/logout\"}\n            className=\"flex items-center space-x-2 px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors\"\n          >\n            <i className=\"fas fa-sign-out-alt\"></i>\n            <span>Logout</span>\n          </button>\n        </div>\n      </header>\n\n      <div className=\"flex h-[calc(100vh-80px)]\">\n        {/* Left Panel - Live Queue */}\n        <div className=\"w-80 bg-white border-r border-gray-200 flex flex-col\">\n          <div className=\"p-4 border-b border-gray-200\">\n            <h2 className=\"text-lg font-semibold text-gray-900\">Live Queue</h2>\n            <p className=\"text-sm text-gray-500\">Real-time patient status</p>\n          </div>\n          \n          <div className=\"flex-1 overflow-y-auto p-4\">\n            {queueLoading ? (\n              <div className=\"text-center py-8\">\n                <div className=\"animate-spin w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full mx-auto mb-2\"></div>\n                <p className=\"text-gray-500 text-sm\">Loading queue...</p>\n              </div>\n            ) : queue?.length > 0 ? (\n              <div className=\"space-y-3\">\n                {queue.map((patient: any, index: number) => (\n                  <div key={patient.id} className=\"p-3 border border-gray-200 rounded-lg hover:bg-gray-50\">\n                    <div className=\"flex items-start justify-between mb-2\">\n                      <div>\n                        <p className=\"font-medium text-gray-900\">{patient.patientName || `Patient ${index + 1}`}</p>\n                        <p className=\"text-sm text-gray-600\">{patient.reasonForVisit}</p>\n                      </div>\n                      <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${\n                        patient.priority === 'urgent' ? 'bg-red-100 text-red-800' :\n                        patient.priority === 'medium' ? 'bg-yellow-100 text-yellow-800' :\n                        'bg-green-100 text-green-800'\n                      }`}>\n                        {patient.priority === 'urgent' ? 'Red' : patient.priority === 'medium' ? 'Yellow' : 'Green'}\n                      </span>\n                    </div>\n                    <div className=\"flex items-center justify-between text-xs text-gray-500\">\n                      <span className=\"capitalize\">{patient.status?.replace('_', ' ') || 'Waiting'}</span>\n                      <span>Wait: {patient.estimatedWaitTime || 15} min</span>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <div className=\"text-center py-8\">\n                <i className=\"fas fa-users text-4xl text-gray-300 mb-4\"></i>\n                <p className=\"text-gray-500\">No patients in queue</p>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Center Panel - Check-in Area */}\n        <div className=\"flex-1 p-6\">\n          <div className=\"bg-white rounded-lg shadow-sm p-6 mb-6\">\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-6 text-center\">Patient Check-In</h2>\n            \n            <div className=\"max-w-md mx-auto space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Patient Name</label>\n                <input\n                  type=\"text\"\n                  value={checkInData.patientName}\n                  onChange={(e) => setCheckInData({...checkInData, patientName: e.target.value})}\n                  placeholder=\"Enter patient name\"\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Reason for Visit</label>\n                <textarea\n                  value={checkInData.reason}\n                  onChange={(e) => setCheckInData({...checkInData, reason: e.target.value})}\n                  placeholder=\"e.g., cough and fever\"\n                  rows={3}\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Urgency Level</label>\n                <select\n                  value={checkInData.urgency}\n                  onChange={(e) => setCheckInData({...checkInData, urgency: e.target.value})}\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                >\n                  <option value=\"routine\">Routine (Green)</option>\n                  <option value=\"medium\">Medium (Yellow)</option>\n                  <option value=\"urgent\">Urgent (Red)</option>\n                </select>\n              </div>\n\n              <button\n                onClick={handleCheckIn}\n                disabled={checkInMutation.isPending}\n                className=\"w-full bg-blue-600 text-white py-4 px-6 rounded-lg text-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2\"\n              >\n                {checkInMutation.isPending ? (\n                  <>\n                    <div className=\"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full\"></div>\n                    <span>Checking In...</span>\n                  </>\n                ) : (\n                  <>\n                    <i className=\"fas fa-user-plus\"></i>\n                    <span>Check-In Patient</span>\n                  </>\n                )}\n              </button>\n\n              <div className=\"grid grid-cols-2 gap-3 mt-6\">\n                <button className=\"flex items-center justify-center space-x-2 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors\">\n                  <i className=\"fas fa-qrcode\"></i>\n                  <span>Scan QR</span>\n                </button>\n                <button className=\"flex items-center justify-center space-x-2 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors\">\n                  <i className=\"fas fa-print\"></i>\n                  <span>Print Label</span>\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Quick Search */}\n          <div className=\"bg-white rounded-lg shadow-sm p-6\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Quick Patient Search</h3>\n            <div className=\"flex space-x-3\">\n              <input\n                type=\"text\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                placeholder=\"Type name or ID to find patient fast...\"\n                className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              />\n              <button className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\">\n                <i className=\"fas fa-search\"></i>\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Right Panel - Room/Bed Status */}\n        <div className=\"w-80 bg-white border-l border-gray-200\">\n          <div className=\"p-4 border-b border-gray-200\">\n            <h2 className=\"text-lg font-semibold text-gray-900\">Room & Bed Status</h2>\n            <p className=\"text-sm text-gray-500\">Real-time availability</p>\n          </div>\n          \n          <div className=\"p-4\">\n            {/* Room Summary */}\n            <div className=\"grid grid-cols-2 gap-4 mb-6\">\n              <div className=\"bg-blue-50 p-4 rounded-lg\">\n                <div className=\"text-center\">\n                  <p className=\"text-2xl font-bold text-blue-600\">{availableRooms}</p>\n                  <p className=\"text-sm text-blue-800\">Available</p>\n                </div>\n              </div>\n              <div className=\"bg-gray-50 p-4 rounded-lg\">\n                <div className=\"text-center\">\n                  <p className=\"text-2xl font-bold text-gray-600\">{totalRooms}</p>\n                  <p className=\"text-sm text-gray-800\">Total Rooms</p>\n                </div>\n              </div>\n            </div>\n\n            {/* Bed Summary */}\n            <div className=\"grid grid-cols-2 gap-4 mb-6\">\n              <div className=\"bg-green-50 p-4 rounded-lg\">\n                <div className=\"text-center\">\n                  <p className=\"text-2xl font-bold text-green-600\">{availableBeds}</p>\n                  <p className=\"text-sm text-green-800\">Free Beds</p>\n                </div>\n              </div>\n              <div className=\"bg-gray-50 p-4 rounded-lg\">\n                <div className=\"text-center\">\n                  <p className=\"text-2xl font-bold text-gray-600\">{totalBeds}</p>\n                  <p className=\"text-sm text-gray-800\">Total Beds</p>\n                </div>\n              </div>\n            </div>\n\n            {/* Room List */}\n            <div className=\"space-y-3\">\n              <h4 className=\"font-medium text-gray-900\">Room Details</h4>\n              {roomsLoading ? (\n                <div className=\"text-center py-4\">\n                  <div className=\"animate-spin w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full mx-auto\"></div>\n                </div>\n              ) : rooms?.length > 0 ? (\n                rooms.slice(0, 6).map((room: any) => (\n                  <div key={room.id} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                    <div>\n                      <p className=\"font-medium text-gray-900\">{room.roomNumber}</p>\n                      <p className=\"text-xs text-gray-600\">{room.roomType}</p>\n                    </div>\n                    <div className=\"text-right\">\n                      <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${\n                        room.status === 'available' ? 'bg-green-100 text-green-800' :\n                        room.status === 'occupied' ? 'bg-red-100 text-red-800' :\n                        'bg-yellow-100 text-yellow-800'\n                      }`}>\n                        {room.status?.charAt(0).toUpperCase() + room.status?.slice(1)}\n                      </span>\n                      <p className=\"text-xs text-gray-500 mt-1\">\n                        {room.availableBeds}/{room.totalBeds} beds\n                      </p>\n                    </div>\n                  </div>\n                ))\n              ) : (\n                <p className=\"text-gray-500 text-center py-4\">No room data available</p>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":15553},"client/src/pages/role-selection.tsx":{"content":"import { useState } from \"react\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { isUnauthorizedError } from \"@/lib/authUtils\";\n\nexport default function RoleSelection() {\n  const { user } = useAuth();\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  const [selectedRole, setSelectedRole] = useState<string>(\"\");\n\n  const roleMutation = useMutation({\n    mutationFn: async (role: string) => {\n      await apiRequest(\"POST\", \"/api/auth/select-role\", { role });\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Role Selected\",\n        description: \"Welcome to Medi OS! Redirecting to your dashboard...\",\n      });\n      queryClient.invalidateQueries({ queryKey: [\"/api/auth/user\"] });\n      setTimeout(() => {\n        window.location.reload();\n      }, 1000);\n    },\n    onError: (error) => {\n      if (isUnauthorizedError(error)) {\n        toast({\n          title: \"Unauthorized\",\n          description: \"You are logged out. Logging in again...\",\n          variant: \"destructive\",\n        });\n        setTimeout(() => {\n          window.location.href = \"/api/login\";\n        }, 500);\n        return;\n      }\n      toast({\n        title: \"Error\",\n        description: \"Failed to select role. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleRoleSelect = (role: string) => {\n    setSelectedRole(role);\n    roleMutation.mutate(role);\n  };\n\n  const roles = [\n    {\n      id: \"super-admin\",\n      title: \"Super Admin\",\n      description: \"Multi-hospital system oversight\",\n      icon: \"fas fa-globe\",\n      color: \"bg-indigo-600 hover:bg-indigo-700\",\n      features: [\"Global analytics\", \"Multi-hospital management\", \"System administration\", \"ML insights center\"]\n    },\n    {\n      id: \"admin\",\n      title: \"Hospital Admin\",\n      description: \"Single hospital operations & management\",\n      icon: \"fas fa-user-shield\",\n      color: \"bg-purple-600 hover:bg-purple-700\",\n      features: [\"Hospital operations\", \"Staff & inventory\", \"Financial dashboard\", \"Patient flow\"]\n    },\n    {\n      id: \"doctor\",\n      title: \"Doctor\",\n      description: \"Patient consultations and medical care\",\n      icon: \"fas fa-user-md\",\n      color: \"bg-blue-600 hover:bg-blue-700\",\n      features: [\"Patient queue\", \"Medical records\", \"Prescriptions\", \"Consultation tools\"]\n    },\n    {\n      id: \"nurse\",\n      title: \"Nurse\",\n      description: \"Patient care and vital monitoring\",\n      icon: \"fas fa-user-nurse\",\n      color: \"bg-teal-600 hover:bg-teal-700\",\n      features: [\"Vitals recording\", \"Patient monitoring\", \"Task management\", \"Doctor coordination\"]\n    },\n    {\n      id: \"receptionist\",\n      title: \"Receptionist\",\n      description: \"Patient check-in and appointment management\",\n      icon: \"fas fa-clipboard-check\",\n      color: \"bg-green-600 hover:bg-green-700\",\n      features: [\"Patient check-in\", \"Queue management\", \"Room status\", \"Appointment scheduling\"]\n    },\n    {\n      id: \"patient\",\n      title: \"Patient\",\n      description: \"View your health information and appointments\",\n      icon: \"fas fa-user-injured\",\n      color: \"bg-gray-600 hover:bg-gray-700\",\n      features: [\"Appointment tracking\", \"Medical history\", \"Visit status\", \"Health summaries\"]\n    }\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-4xl w-full space-y-8\">\n        <div className=\"text-center\">\n          <div className=\"flex items-center justify-center space-x-3 mb-6\">\n            <div className=\"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center\">\n              <i className=\"fas fa-heartbeat text-white text-2xl\"></i>\n            </div>\n            <h1 className=\"text-3xl font-bold text-gray-900\">Medi OS</h1>\n          </div>\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Welcome, {user?.firstName}!</h2>\n          <p className=\"text-gray-600 mb-8\">Select your role to access your personalized dashboard</p>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {roles.map((role) => (\n            <div key={role.id} className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow\">\n              <div className=\"p-6\">\n                <div className=\"flex items-center space-x-4 mb-4\">\n                  <div className={`w-12 h-12 ${role.color.split(' ')[0]} rounded-lg flex items-center justify-center`}>\n                    <i className={`${role.icon} text-white text-xl`}></i>\n                  </div>\n                  <div>\n                    <h3 className=\"text-lg font-semibold text-gray-900\">{role.title}</h3>\n                    <p className=\"text-sm text-gray-600\">{role.description}</p>\n                  </div>\n                </div>\n\n                <div className=\"space-y-2 mb-6\">\n                  {role.features.map((feature, index) => (\n                    <div key={index} className=\"flex items-center space-x-2 text-sm text-gray-600\">\n                      <i className=\"fas fa-check text-green-500 text-xs\"></i>\n                      <span>{feature}</span>\n                    </div>\n                  ))}\n                </div>\n\n                <button\n                  onClick={() => window.location.href = `/${role.id}`}\n                  className={`w-full ${role.color} text-white py-3 px-4 rounded-lg font-medium transition-colors hover:scale-105 transform transition-all duration-200 flex items-center justify-center space-x-2`}\n                >\n                  <span>Enter {role.title} Dashboard</span>\n                  <i className=\"fas fa-arrow-right\"></i>\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        <div className=\"text-center\">\n          <button\n            onClick={() => window.location.href = \"/api/logout\"}\n            className=\"text-gray-500 hover:text-gray-700 text-sm flex items-center space-x-2 mx-auto\"\n          >\n            <i className=\"fas fa-sign-out-alt\"></i>\n            <span>Sign out</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":6345},"client/src/pages/super-admin-dashboard.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { \n  TrendingUp, \n  TrendingDown, \n  Building2, \n  Users, \n  DollarSign, \n  Activity, \n  Globe, \n  Brain, \n  AlertTriangle, \n  CheckCircle,\n  Plus,\n  Settings,\n  Download,\n  BarChart3,\n  MapPin,\n  Shield,\n  Zap,\n  FileText,\n  Clock,\n  Target\n} from \"lucide-react\";\n\nexport default function SuperAdminDashboard() {\n  const [selectedHospital, setSelectedHospital] = useState<string | null>(null);\n\n  // Fetch global analytics data\n  const { data: globalStats, isLoading: statsLoading } = useQuery({\n    queryKey: [\"/api/super-admin/global-stats\"],\n  });\n\n  // Fetch hospital data\n  const { data: hospitals = [], isLoading: hospitalsLoading } = useQuery({\n    queryKey: [\"/api/super-admin/hospitals\"],\n  });\n\n  // Fetch ML insights\n  const { data: mlInsights = [], isLoading: mlLoading } = useQuery({\n    queryKey: [\"/api/super-admin/ml-insights\"],\n  });\n\n  // Fetch system users\n  const { data: systemUsers = [], isLoading: usersLoading } = useQuery({\n    queryKey: [\"/api/super-admin/users\"],\n  });\n\n  // Fetch financial overview\n  const { data: financialData, isLoading: financialLoading } = useQuery({\n    queryKey: [\"/api/super-admin/finances\"],\n  });\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50\">\n      {/* Header */}\n      <div className=\"border-b bg-white/80 backdrop-blur-sm sticky top-0 z-10\">\n        <div className=\"px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900 flex items-center gap-2\">\n                <Globe className=\"w-8 h-8 text-indigo-600\" />\n                Super Admin Dashboard\n              </h1>\n              <p className=\"text-gray-600\">Multi-Hospital System Oversight & Management</p>\n            </div>\n            <div className=\"flex items-center gap-4\">\n              <Dialog>\n                <DialogTrigger asChild>\n                  <Button>\n                    <Plus className=\"w-4 h-4 mr-2\" />\n                    Add Hospital\n                  </Button>\n                </DialogTrigger>\n                <DialogContent>\n                  <DialogHeader>\n                    <DialogTitle>Add New Hospital</DialogTitle>\n                    <DialogDescription>\n                      Add a new hospital to the network\n                    </DialogDescription>\n                  </DialogHeader>\n                  <div className=\"space-y-4 pt-4\">\n                    <Input placeholder=\"Hospital Name\" />\n                    <Input placeholder=\"Location\" />\n                    <Input placeholder=\"Contact Email\" />\n                    <Button className=\"w-full\">Add Hospital</Button>\n                  </div>\n                </DialogContent>\n              </Dialog>\n              <Button variant=\"outline\">\n                <Settings className=\"w-4 h-4 mr-2\" />\n                System Settings\n              </Button>\n              <Button onClick={() => window.location.href = \"/\"} variant=\"ghost\">\n                Switch Role\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"p-6\">\n        {/* Global Analytics Hub */}\n        <div className=\"mb-8\">\n          <h2 className=\"text-xl font-semibold mb-4 flex items-center gap-2\">\n            <BarChart3 className=\"w-5 h-5 text-indigo-600\" />\n            Global Analytics Hub\n          </h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n            <Card className=\"border-blue-200 bg-blue-50\">\n              <CardHeader className=\"pb-3\">\n                <CardTitle className=\"text-sm font-medium text-blue-700\">Total Hospitals</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-2xl font-bold text-blue-800\">{hospitals.length || 12}</p>\n                    <p className=\"text-xs text-blue-600 flex items-center gap-1\">\n                      <TrendingUp className=\"w-3 h-3\" />\n                      +2 this month\n                    </p>\n                  </div>\n                  <Building2 className=\"w-8 h-8 text-blue-600\" />\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card className=\"border-green-200 bg-green-50\">\n              <CardHeader className=\"pb-3\">\n                <CardTitle className=\"text-sm font-medium text-green-700\">Total Patients Today</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-2xl font-bold text-green-800\">{globalStats?.totalPatients || 1247}</p>\n                    <p className=\"text-xs text-green-600 flex items-center gap-1\">\n                      <TrendingUp className=\"w-3 h-3\" />\n                      +8.2% vs yesterday\n                    </p>\n                  </div>\n                  <Users className=\"w-8 h-8 text-green-600\" />\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card className=\"border-purple-200 bg-purple-50\">\n              <CardHeader className=\"pb-3\">\n                <CardTitle className=\"text-sm font-medium text-purple-700\">System Revenue</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-2xl font-bold text-purple-800\">${globalStats?.totalRevenue || '2.1M'}</p>\n                    <p className=\"text-xs text-purple-600 flex items-center gap-1\">\n                      <TrendingUp className=\"w-3 h-3\" />\n                      +12.5% this month\n                    </p>\n                  </div>\n                  <DollarSign className=\"w-8 h-8 text-purple-600\" />\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card className=\"border-orange-200 bg-orange-50\">\n              <CardHeader className=\"pb-3\">\n                <CardTitle className=\"text-sm font-medium text-orange-700\">System Efficiency</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-2xl font-bold text-orange-800\">{globalStats?.efficiency || 94}%</p>\n                    <p className=\"text-xs text-orange-600 flex items-center gap-1\">\n                      <TrendingUp className=\"w-3 h-3\" />\n                      +3.1% optimized\n                    </p>\n                  </div>\n                  <Zap className=\"w-8 h-8 text-orange-600\" />\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n\n        <Tabs defaultValue=\"hospitals\" className=\"space-y-6\">\n          <TabsList className=\"grid w-full grid-cols-5\">\n            <TabsTrigger value=\"hospitals\">Hospital Management</TabsTrigger>\n            <TabsTrigger value=\"users\">System Users</TabsTrigger>\n            <TabsTrigger value=\"finances\">Revenue & Finance</TabsTrigger>\n            <TabsTrigger value=\"ml-insights\">ML Insights Center</TabsTrigger>\n            <TabsTrigger value=\"system\">System Config</TabsTrigger>\n          </TabsList>\n\n          {/* Hospital Management Panel */}\n          <TabsContent value=\"hospitals\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n              <div className=\"lg:col-span-2\">\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"flex items-center gap-2\">\n                      <Building2 className=\"w-5 h-5\" />\n                      Hospital Network Overview\n                    </CardTitle>\n                    <CardDescription>\n                      Monitor performance across all hospitals in the network\n                    </CardDescription>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"space-y-4\">\n                      {hospitalsLoading ? (\n                        <div className=\"text-center py-8 text-gray-500\">Loading hospitals...</div>\n                      ) : (\n                        hospitals.map((hospital: any) => (\n                          <div key={hospital.id} className=\"border rounded-lg p-4 hover:bg-gray-50\">\n                            <div className=\"flex items-center justify-between mb-3\">\n                              <div className=\"flex items-center gap-3\">\n                                <div className=\"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center\">\n                                  <Building2 className=\"w-5 h-5 text-indigo-600\" />\n                                </div>\n                                <div>\n                                  <h4 className=\"font-semibold\">{hospital.name || `Hospital ${hospital.id}`}</h4>\n                                  <p className=\"text-sm text-gray-600 flex items-center gap-1\">\n                                    <MapPin className=\"w-3 h-3\" />\n                                    {hospital.location || 'Metro City'}\n                                  </p>\n                                </div>\n                              </div>\n                              <div className=\"flex items-center gap-2\">\n                                <Badge \n                                  variant=\"outline\"\n                                  className={\n                                    hospital.status === 'active' ? 'border-green-500 text-green-700' :\n                                    hospital.status === 'maintenance' ? 'border-yellow-500 text-yellow-700' :\n                                    'border-red-500 text-red-700'\n                                  }\n                                >\n                                  {hospital.status || 'Active'}\n                                </Badge>\n                              </div>\n                            </div>\n                            \n                            <div className=\"grid grid-cols-4 gap-4 text-sm\">\n                              <div>\n                                <p className=\"text-gray-600\">Patients Today</p>\n                                <p className=\"font-semibold\">{hospital.todayPatients || 156}</p>\n                              </div>\n                              <div>\n                                <p className=\"text-gray-600\">Avg Wait Time</p>\n                                <p className=\"font-semibold\">{hospital.avgWaitTime || 18} min</p>\n                              </div>\n                              <div>\n                                <p className=\"text-gray-600\">Bed Occupancy</p>\n                                <p className=\"font-semibold\">{hospital.bedOccupancy || 82}%</p>\n                              </div>\n                              <div>\n                                <p className=\"text-gray-600\">Staff Count</p>\n                                <p className=\"font-semibold\">{hospital.staffCount || 45}</p>\n                              </div>\n                            </div>\n                            \n                            <div className=\"mt-3 flex justify-between items-center\">\n                              <div className=\"text-xs text-gray-500\">\n                                Performance Score: {hospital.performanceScore || 94}/100\n                              </div>\n                              <Button size=\"sm\" variant=\"outline\" onClick={() => setSelectedHospital(hospital.id)}>\n                                View Details\n                              </Button>\n                            </div>\n                          </div>\n                        ))\n                      )}\n                    </div>\n                  </CardContent>\n                </Card>\n              </div>\n\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"text-lg\">Network KPIs</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    <div>\n                      <div className=\"flex justify-between text-sm mb-1\">\n                        <span>Average Patient Satisfaction</span>\n                        <span>92%</span>\n                      </div>\n                      <Progress value={92} className=\"h-2\" />\n                    </div>\n                    \n                    <div>\n                      <div className=\"flex justify-between text-sm mb-1\">\n                        <span>System Uptime</span>\n                        <span>99.8%</span>\n                      </div>\n                      <Progress value={99.8} className=\"h-2\" />\n                    </div>\n                    \n                    <div>\n                      <div className=\"flex justify-between text-sm mb-1\">\n                        <span>Rural Coverage</span>\n                        <span>78%</span>\n                      </div>\n                      <Progress value={78} className=\"h-2\" />\n                    </div>\n                    \n                    <div>\n                      <div className=\"flex justify-between text-sm mb-1\">\n                        <span>Emergency Response</span>\n                        <span>96%</span>\n                      </div>\n                      <Progress value={96} className=\"h-2\" />\n                    </div>\n                  </div>\n                  \n                  <div className=\"mt-6 p-3 bg-blue-50 rounded-lg\">\n                    <div className=\"flex items-center gap-2 mb-2\">\n                      <Target className=\"w-4 h-4 text-blue-600\" />\n                      <span className=\"font-medium text-blue-800\">Key Insight</span>\n                    </div>\n                    <p className=\"text-sm text-blue-700\">\n                      Rural Hospital 3 achieved 30% wait time reduction through AI triage optimization\n                    </p>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          </TabsContent>\n\n          {/* System Users Management */}\n          <TabsContent value=\"users\">\n            <Card>\n              <CardHeader>\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <CardTitle className=\"flex items-center gap-2\">\n                      <Shield className=\"w-5 h-5\" />\n                      System User Management\n                    </CardTitle>\n                    <CardDescription>\n                      Manage administrators and users across all hospitals\n                    </CardDescription>\n                  </div>\n                  <Button>\n                    <Plus className=\"w-4 h-4 mr-2\" />\n                    Add User\n                  </Button>\n                </div>\n              </CardHeader>\n              <CardContent>\n                <Table>\n                  <TableHeader>\n                    <TableRow>\n                      <TableHead>Name</TableHead>\n                      <TableHead>Role</TableHead>\n                      <TableHead>Hospital</TableHead>\n                      <TableHead>Status</TableHead>\n                      <TableHead>Last Active</TableHead>\n                      <TableHead>Actions</TableHead>\n                    </TableRow>\n                  </TableHeader>\n                  <TableBody>\n                    {usersLoading ? (\n                      <TableRow>\n                        <TableCell colSpan={6} className=\"text-center py-8 text-gray-500\">\n                          Loading users...\n                        </TableCell>\n                      </TableRow>\n                    ) : (\n                      systemUsers.map((user: any) => (\n                        <TableRow key={user.id}>\n                          <TableCell className=\"font-medium\">{user.name || 'Dr. Smith'}</TableCell>\n                          <TableCell>\n                            <Badge variant=\"outline\">{user.role || 'Admin'}</Badge>\n                          </TableCell>\n                          <TableCell>{user.hospital || 'General Hospital'}</TableCell>\n                          <TableCell>\n                            <Badge \n                              variant=\"outline\"\n                              className={\n                                user.status === 'active' ? 'border-green-500 text-green-700' :\n                                'border-gray-500 text-gray-700'\n                              }\n                            >\n                              {user.status || 'Active'}\n                            </Badge>\n                          </TableCell>\n                          <TableCell className=\"text-sm text-gray-600\">\n                            {user.lastActive || '2 hours ago'}\n                          </TableCell>\n                          <TableCell>\n                            <Button size=\"sm\" variant=\"outline\">Edit</Button>\n                          </TableCell>\n                        </TableRow>\n                      ))\n                    )}\n                  </TableBody>\n                </Table>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          {/* Revenue & Finance */}\n          <TabsContent value=\"finances\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <DollarSign className=\"w-5 h-5\" />\n                    Revenue Overview\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div className=\"p-4 bg-green-50 rounded-lg\">\n                        <p className=\"text-sm text-green-600\">Monthly Revenue</p>\n                        <p className=\"text-2xl font-bold text-green-800\">\n                          ${financialData?.monthlyRevenue?.toLocaleString() || '850,000'}\n                        </p>\n                        <p className=\"text-xs text-green-600\">+12.5% vs last month</p>\n                      </div>\n                      <div className=\"p-4 bg-blue-50 rounded-lg\">\n                        <p className=\"text-sm text-blue-600\">Annual Revenue</p>\n                        <p className=\"text-2xl font-bold text-blue-800\">\n                          ${financialData?.annualRevenue?.toLocaleString() || '9.2M'}\n                        </p>\n                        <p className=\"text-xs text-blue-600\">+8.7% vs last year</p>\n                      </div>\n                    </div>\n                    \n                    <div className=\"space-y-3\">\n                      <h4 className=\"font-semibold\">Revenue by Hospital Type</h4>\n                      <div className=\"space-y-2\">\n                        <div className=\"flex justify-between items-center\">\n                          <span className=\"text-sm\">Urban Hospitals</span>\n                          <span className=\"font-medium\">$5.2M (56%)</span>\n                        </div>\n                        <Progress value={56} className=\"h-2\" />\n                        \n                        <div className=\"flex justify-between items-center\">\n                          <span className=\"text-sm\">Rural Hospitals</span>\n                          <span className=\"font-medium\">$2.8M (31%)</span>\n                        </div>\n                        <Progress value={31} className=\"h-2\" />\n                        \n                        <div className=\"flex justify-between items-center\">\n                          <span className=\"text-sm\">Specialty Centers</span>\n                          <span className=\"font-medium\">$1.2M (13%)</span>\n                        </div>\n                        <Progress value={13} className=\"h-2\" />\n                      </div>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n\n              <Card>\n                <CardHeader>\n                  <CardTitle>Cost Analysis</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div className=\"p-4 bg-orange-50 rounded-lg\">\n                        <p className=\"text-sm text-orange-600\">Total Expenses</p>\n                        <p className=\"text-2xl font-bold text-orange-800\">\n                          ${financialData?.totalExpenses?.toLocaleString() || '6.1M'}\n                        </p>\n                        <p className=\"text-xs text-orange-600\">66% of revenue</p>\n                      </div>\n                      <div className=\"p-4 bg-purple-50 rounded-lg\">\n                        <p className=\"text-sm text-purple-600\">Net Profit</p>\n                        <p className=\"text-2xl font-bold text-purple-800\">\n                          ${financialData?.netProfit?.toLocaleString() || '3.1M'}\n                        </p>\n                        <p className=\"text-xs text-purple-600\">34% margin</p>\n                      </div>\n                    </div>\n\n                    <div className=\"space-y-3\">\n                      <h4 className=\"font-semibold\">Expense Breakdown</h4>\n                      <div className=\"space-y-2 text-sm\">\n                        <div className=\"flex justify-between\">\n                          <span>Staff Salaries</span>\n                          <span>$3.2M (52%)</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Equipment & Supplies</span>\n                          <span>$1.8M (29%)</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Infrastructure</span>\n                          <span>$0.7M (11%)</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Technology & AI</span>\n                          <span>$0.4M (8%)</span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          </TabsContent>\n\n          {/* ML Insights Center */}\n          <TabsContent value=\"ml-insights\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <Brain className=\"w-5 h-5\" />\n                    AI Predictions & Alerts\n                  </CardTitle>\n                  <CardDescription>\n                    Real-time insights from the ML pipeline\n                  </CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    {mlLoading ? (\n                      <div className=\"text-center py-8 text-gray-500\">Loading ML insights...</div>\n                    ) : (\n                      mlInsights.map((insight: any) => (\n                        <div key={insight.id} className=\"border rounded-lg p-4\">\n                          <div className=\"flex items-start gap-3\">\n                            <div className={`w-8 h-8 rounded-full flex items-center justify-center ${\n                              insight.type === 'alert' ? 'bg-red-100' :\n                              insight.type === 'prediction' ? 'bg-blue-100' :\n                              'bg-green-100'\n                            }`}>\n                              {insight.type === 'alert' ? \n                                <AlertTriangle className=\"w-4 h-4 text-red-600\" /> :\n                                insight.type === 'prediction' ?\n                                <Brain className=\"w-4 h-4 text-blue-600\" /> :\n                                <CheckCircle className=\"w-4 h-4 text-green-600\" />\n                              }\n                            </div>\n                            <div className=\"flex-1\">\n                              <h4 className=\"font-semibold\">{insight.title || 'Outbreak Detection Alert'}</h4>\n                              <p className=\"text-sm text-gray-600 mt-1\">\n                                {insight.description || 'Dengue fever cases trending up 23% in Rural Hospital 2. Recommend increased testing and prevention measures.'}\n                              </p>\n                              <div className=\"flex items-center gap-4 mt-2 text-xs text-gray-500\">\n                                <span>Confidence: {insight.confidence || 94}%</span>\n                                <span>Impact: {insight.impact || 'High'}</span>\n                                <span>{insight.timeAgo || '2 hours ago'}</span>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      ))\n                    )}\n                    \n                    {/* Sample insights when no data */}\n                    {mlInsights.length === 0 && !mlLoading && (\n                      <>\n                        <div className=\"border rounded-lg p-4\">\n                          <div className=\"flex items-start gap-3\">\n                            <div className=\"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center\">\n                              <AlertTriangle className=\"w-4 h-4 text-red-600\" />\n                            </div>\n                            <div className=\"flex-1\">\n                              <h4 className=\"font-semibold\">Outbreak Detection Alert</h4>\n                              <p className=\"text-sm text-gray-600 mt-1\">\n                                Dengue fever cases trending up 23% in Rural Hospital 2. Recommend increased testing and prevention measures.\n                              </p>\n                              <div className=\"flex items-center gap-4 mt-2 text-xs text-gray-500\">\n                                <span>Confidence: 94%</span>\n                                <span>Impact: High</span>\n                                <span>2 hours ago</span>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n\n                        <div className=\"border rounded-lg p-4\">\n                          <div className=\"flex items-start gap-3\">\n                            <div className=\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\n                              <Brain className=\"w-4 h-4 text-blue-600\" />\n                            </div>\n                            <div className=\"flex-1\">\n                              <h4 className=\"font-semibold\">Resource Optimization</h4>\n                              <p className=\"text-sm text-gray-600 mt-1\">\n                                AI recommends reallocating 3 nurses from Metro Hospital to Rural Hospital 1 for optimal coverage.\n                              </p>\n                              <div className=\"flex items-center gap-4 mt-2 text-xs text-gray-500\">\n                                <span>Confidence: 89%</span>\n                                <span>Impact: Medium</span>\n                                <span>4 hours ago</span>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </>\n                    )}\n                  </div>\n                </CardContent>\n              </Card>\n\n              <Card>\n                <CardHeader>\n                  <CardTitle>System Analytics</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    <div>\n                      <h4 className=\"font-semibold mb-3\">Real-time Metrics</h4>\n                      <div className=\"space-y-3\">\n                        <div className=\"flex justify-between items-center\">\n                          <span className=\"text-sm\">AI Processing Load</span>\n                          <span className=\"text-sm font-medium\">73%</span>\n                        </div>\n                        <Progress value={73} className=\"h-2\" />\n                        \n                        <div className=\"flex justify-between items-center\">\n                          <span className=\"text-sm\">Data Sync Status</span>\n                          <span className=\"text-sm font-medium\">98%</span>\n                        </div>\n                        <Progress value={98} className=\"h-2\" />\n                        \n                        <div className=\"flex justify-between items-center\">\n                          <span className=\"text-sm\">Emergency Alerts</span>\n                          <span className=\"text-sm font-medium\">3 Active</span>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"pt-4 border-t\">\n                      <h4 className=\"font-semibold mb-3\">Recent Activities</h4>\n                      <div className=\"space-y-2 text-sm\">\n                        <div className=\"flex items-center gap-2\">\n                          <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\n                          <span>ML model updated - 3% accuracy improvement</span>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <div className=\"w-2 h-2 bg-blue-500 rounded-full\"></div>\n                          <span>New hospital onboarded successfully</span>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <div className=\"w-2 h-2 bg-orange-500 rounded-full\"></div>\n                          <span>System maintenance scheduled</span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          </TabsContent>\n\n          {/* System Configuration */}\n          <TabsContent value=\"system\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <Settings className=\"w-5 h-5\" />\n                    System Configuration\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-6\">\n                    <div>\n                      <h4 className=\"font-semibold mb-3\">AI & ML Settings</h4>\n                      <div className=\"space-y-3\">\n                        <div className=\"flex justify-between items-center\">\n                          <span className=\"text-sm\">Federated Learning</span>\n                          <Badge className=\"bg-green-100 text-green-800\">Enabled</Badge>\n                        </div>\n                        <div className=\"flex justify-between items-center\">\n                          <span className=\"text-sm\">Real-time Analytics</span>\n                          <Badge className=\"bg-green-100 text-green-800\">Active</Badge>\n                        </div>\n                        <div className=\"flex justify-between items-center\">\n                          <span className=\"text-sm\">Auto-scaling</span>\n                          <Badge className=\"bg-blue-100 text-blue-800\">Configured</Badge>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div>\n                      <h4 className=\"font-semibold mb-3\">Security & Compliance</h4>\n                      <div className=\"space-y-3\">\n                        <div className=\"flex justify-between items-center\">\n                          <span className=\"text-sm\">HIPAA Compliance</span>\n                          <Badge className=\"bg-green-100 text-green-800\">Verified</Badge>\n                        </div>\n                        <div className=\"flex justify-between items-center\">\n                          <span className=\"text-sm\">Data Encryption</span>\n                          <Badge className=\"bg-green-100 text-green-800\">AES-256</Badge>\n                        </div>\n                        <div className=\"flex justify-between items-center\">\n                          <span className=\"text-sm\">Audit Logging</span>\n                          <Badge className=\"bg-green-100 text-green-800\">Active</Badge>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n\n              <Card>\n                <CardHeader>\n                  <CardTitle>System Health</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    <div>\n                      <h4 className=\"font-semibold mb-3\">Performance Metrics</h4>\n                      <div className=\"space-y-3\">\n                        <div>\n                          <div className=\"flex justify-between text-sm mb-1\">\n                            <span>CPU Usage</span>\n                            <span>67%</span>\n                          </div>\n                          <Progress value={67} className=\"h-2\" />\n                        </div>\n                        \n                        <div>\n                          <div className=\"flex justify-between text-sm mb-1\">\n                            <span>Memory Usage</span>\n                            <span>54%</span>\n                          </div>\n                          <Progress value={54} className=\"h-2\" />\n                        </div>\n                        \n                        <div>\n                          <div className=\"flex justify-between text-sm mb-1\">\n                            <span>Network Load</span>\n                            <span>82%</span>\n                          </div>\n                          <Progress value={82} className=\"h-2\" />\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"pt-4 border-t\">\n                      <div className=\"flex items-center justify-between mb-3\">\n                        <h4 className=\"font-semibold\">System Reports</h4>\n                        <Button size=\"sm\" variant=\"outline\">\n                          <Download className=\"w-4 h-4 mr-2\" />\n                          Export\n                        </Button>\n                      </div>\n                      <div className=\"space-y-2 text-sm\">\n                        <div className=\"flex justify-between\">\n                          <span>Daily Performance Report</span>\n                          <Button size=\"sm\" variant=\"ghost\">Download</Button>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Security Audit Log</span>\n                          <Button size=\"sm\" variant=\"ghost\">Download</Button>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Financial Summary</span>\n                          <Button size=\"sm\" variant=\"ghost\">Download</Button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          </TabsContent>\n        </Tabs>\n      </div>\n    </div>\n  );\n}","size_bytes":36486},"client/src/components/dashboard/doctor-status.tsx":{"content":"interface DoctorStatusProps {\n  doctors: any[];\n  isLoading: boolean;\n}\n\nexport default function DoctorStatus({ doctors, isLoading }: DoctorStatusProps) {\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'available':\n        return 'bg-green-100 text-green-800';\n      case 'busy':\n        return 'bg-red-100 text-red-800';\n      case 'on_break':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'emergency':\n        return 'bg-orange-100 text-orange-800';\n      case 'off_duty':\n        return 'bg-gray-100 text-gray-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const formatStatus = (status: string) => {\n    switch (status) {\n      case 'on_break':\n        return 'On Break';\n      case 'off_duty':\n        return 'Off Duty';\n      default:\n        return status.charAt(0).toUpperCase() + status.slice(1);\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"bg-white rounded-xl shadow-sm p-6\">\n        <div className=\"h-6 bg-gray-200 rounded w-32 mb-6 animate-pulse\"></div>\n        <div className=\"space-y-4\">\n          {[1, 2, 3, 4].map((i) => (\n            <div key={i} className=\"flex items-center justify-between animate-pulse\">\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"w-10 h-10 bg-gray-200 rounded-full\"></div>\n                <div className=\"space-y-2\">\n                  <div className=\"h-4 bg-gray-200 rounded w-20\"></div>\n                  <div className=\"h-3 bg-gray-200 rounded w-16\"></div>\n                </div>\n              </div>\n              <div className=\"h-6 bg-gray-200 rounded w-16\"></div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white rounded-xl shadow-sm p-6\">\n      <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">Doctor Availability</h3>\n      \n      <div className=\"space-y-4\">\n        {doctors.length === 0 ? (\n          <div className=\"text-center py-8\">\n            <i className=\"fas fa-user-md text-4xl text-gray-300 mb-4\"></i>\n            <p className=\"text-gray-500\">No doctors found</p>\n          </div>\n        ) : (\n          doctors.slice(0, 6).map((doctor) => (\n            <div key={doctor.id} className=\"flex items-center justify-between\">\n              <div className=\"flex items-center space-x-3\">\n                <img \n                  src=\"https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&h=100\" \n                  alt=\"Doctor Profile\" \n                  className=\"w-10 h-10 rounded-full object-cover\"\n                />\n                <div>\n                  <p className=\"font-medium text-gray-900\">Dr. {doctor.userId}</p>\n                  <p className=\"text-sm text-gray-600\">{doctor.specialty}</p>\n                  {doctor.roomNumber && (\n                    <p className=\"text-xs text-gray-500\">Room {doctor.roomNumber}</p>\n                  )}\n                </div>\n              </div>\n              <span className={`px-3 py-1 rounded-full text-xs font-medium ${getStatusColor(doctor.status)}`}>\n                {formatStatus(doctor.status)}\n              </span>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n}\n","size_bytes":3270},"client/src/components/dashboard/queue-management.tsx":{"content":"interface QueueManagementProps {\n  queue: any[];\n  isLoading: boolean;\n  userRole: string;\n}\n\nexport default function QueueManagement({ queue, isLoading, userRole }: QueueManagementProps) {\n  const getPriorityColor = (priority: string) => {\n    switch (priority) {\n      case 'emergency':\n        return 'bg-red-100 text-red-800';\n      case 'urgent':\n        return 'bg-orange-100 text-orange-800';\n      case 'high':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'normal':\n        return 'bg-green-100 text-green-800';\n      case 'low':\n        return 'bg-blue-100 text-blue-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"bg-white rounded-xl shadow-sm p-6\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <div className=\"h-6 bg-gray-200 rounded w-32 animate-pulse\"></div>\n          <div className=\"h-4 bg-gray-200 rounded w-20 animate-pulse\"></div>\n        </div>\n        <div className=\"space-y-4\">\n          {[1, 2, 3].map((i) => (\n            <div key={i} className=\"p-4 bg-gray-50 rounded-lg animate-pulse\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <div className=\"flex items-center space-x-3\">\n                  <div className=\"w-10 h-10 bg-gray-200 rounded-full\"></div>\n                  <div className=\"space-y-2\">\n                    <div className=\"h-4 bg-gray-200 rounded w-24\"></div>\n                    <div className=\"h-3 bg-gray-200 rounded w-16\"></div>\n                  </div>\n                </div>\n                <div className=\"h-6 bg-gray-200 rounded w-16\"></div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white rounded-xl shadow-sm p-6\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">Live Patient Queue</h3>\n        <div className=\"flex items-center space-x-2\">\n          <span className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></span>\n          <span className=\"text-sm text-gray-600\">Live Updates</span>\n        </div>\n      </div>\n      \n      <div className=\"space-y-4\">\n        {queue.length === 0 ? (\n          <div className=\"text-center py-8\">\n            <i className=\"fas fa-clipboard-list text-4xl text-gray-300 mb-4\"></i>\n            <p className=\"text-gray-500\">No patients in queue</p>\n          </div>\n        ) : (\n          queue.slice(0, 5).map((item, index) => (\n            <div key={item.id} className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg\">\n              <div className=\"flex items-center space-x-4\">\n                <div className=\"w-10 h-10 bg-medical-blue rounded-full flex items-center justify-center\">\n                  <span className=\"font-semibold text-white\">{item.queuePosition || index + 1}</span>\n                </div>\n                <div>\n                  <p className=\"font-medium text-gray-900\">{item.patientId}</p>\n                  <p className=\"text-sm text-gray-600\">{item.reasonForVisit}</p>\n                </div>\n              </div>\n              <div className=\"flex items-center space-x-4\">\n                <span className={`px-3 py-1 rounded-full text-xs font-medium ${getPriorityColor(item.priority)}`}>\n                  {item.priority}\n                </span>\n                <span className=\"text-sm text-gray-600\">\n                  {item.estimatedWaitTime ? `${item.estimatedWaitTime} min` : 'N/A'}\n                </span>\n                {item.doctorId && (\n                  <span className=\"text-sm font-medium text-medical-blue\">\n                    Dr. Assigned\n                  </span>\n                )}\n              </div>\n            </div>\n          ))\n        )}\n        \n        {queue.length > 5 && (\n          <div className=\"mt-4 pt-4 border-t border-gray-200\">\n            <button className=\"w-full py-2 text-medical-blue hover:bg-blue-50 rounded-lg font-medium\">\n              View All Queue Items ({queue.length} total)\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","size_bytes":4169},"client/src/components/dashboard/room-status.tsx":{"content":"interface RoomStatusProps {\n  rooms: any[];\n  isLoading: boolean;\n}\n\nexport default function RoomStatus({ rooms, isLoading }: RoomStatusProps) {\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'available':\n        return 'bg-green-50 border-green-200 text-green-800';\n      case 'occupied':\n        return 'bg-red-50 border-red-200 text-red-800';\n      case 'cleaning':\n        return 'bg-yellow-50 border-yellow-200 text-yellow-800';\n      case 'maintenance':\n        return 'bg-gray-50 border-gray-200 text-gray-800';\n      case 'reserved':\n        return 'bg-blue-50 border-blue-200 text-blue-800';\n      default:\n        return 'bg-gray-50 border-gray-200 text-gray-800';\n    }\n  };\n\n  const getStatusDot = (status: string) => {\n    switch (status) {\n      case 'available':\n        return 'bg-green-500';\n      case 'occupied':\n        return 'bg-red-500';\n      case 'cleaning':\n        return 'bg-yellow-500';\n      case 'maintenance':\n        return 'bg-gray-500';\n      case 'reserved':\n        return 'bg-blue-500';\n      default:\n        return 'bg-gray-500';\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"bg-white rounded-xl shadow-sm p-6\">\n        <div className=\"h-6 bg-gray-200 rounded w-32 mb-6 animate-pulse\"></div>\n        <div className=\"grid grid-cols-4 gap-3\">\n          {[1, 2, 3, 4, 5, 6, 7, 8].map((i) => (\n            <div key={i} className=\"p-3 border border-gray-200 rounded-lg animate-pulse\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <div className=\"h-4 bg-gray-200 rounded w-8\"></div>\n                <div className=\"w-2 h-2 bg-gray-200 rounded-full\"></div>\n              </div>\n              <div className=\"h-3 bg-gray-200 rounded w-12\"></div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white rounded-xl shadow-sm p-6\">\n      <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">Room Occupancy</h3>\n      \n      <div className=\"grid grid-cols-4 gap-3\">\n        {rooms.slice(0, 16).map((room) => (\n          <div key={room.id} className={`relative p-3 rounded-lg text-center border ${getStatusColor(room.status)}`}>\n            <div className=\"text-xs font-medium mb-1\">{room.roomNumber}</div>\n            <div className={`w-2 h-2 rounded-full mx-auto mt-1 ${getStatusDot(room.status)}`}></div>\n            <div className=\"text-xs mt-1 capitalize\">{room.status}</div>\n            {room.totalBeds > 1 && (\n              <div className=\"text-xs text-gray-600 mt-1\">\n                {room.occupiedBeds}/{room.totalBeds}\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n      \n      <div className=\"mt-4 flex items-center justify-between text-sm\">\n        <div className=\"flex items-center space-x-4\">\n          <div className=\"flex items-center space-x-2\">\n            <span className=\"w-3 h-3 bg-green-500 rounded-full\"></span>\n            <span className=\"text-gray-600\">Available</span>\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            <span className=\"w-3 h-3 bg-red-500 rounded-full\"></span>\n            <span className=\"text-gray-600\">Occupied</span>\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            <span className=\"w-3 h-3 bg-yellow-500 rounded-full\"></span>\n            <span className=\"text-gray-600\">Cleaning</span>\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            <span className=\"w-3 h-3 bg-gray-500 rounded-full\"></span>\n            <span className=\"text-gray-600\">Maintenance</span>\n          </div>\n        </div>\n        {rooms.length > 16 && (\n          <button className=\"text-medical-blue hover:underline\">\n            View All Rooms\n          </button>\n        )}\n      </div>\n    </div>\n  );\n}\n","size_bytes":3846},"client/src/components/dashboard/stats-card.tsx":{"content":"interface StatsCardProps {\n  title: string;\n  value: string;\n  icon: string;\n  color: 'blue' | 'green' | 'yellow' | 'purple' | 'red';\n  subtitle?: string;\n  isLoading?: boolean;\n}\n\nexport default function StatsCard({ title, value, icon, color, subtitle, isLoading }: StatsCardProps) {\n  const getColorClasses = () => {\n    switch (color) {\n      case 'blue':\n        return 'bg-blue-100 text-blue-600';\n      case 'green':\n        return 'bg-green-100 text-green-600';\n      case 'yellow':\n        return 'bg-yellow-100 text-yellow-600';\n      case 'purple':\n        return 'bg-purple-100 text-purple-600';\n      case 'red':\n        return 'bg-red-100 text-red-600';\n      default:\n        return 'bg-gray-100 text-gray-600';\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"bg-white rounded-xl shadow-sm p-6 animate-pulse\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"space-y-2\">\n            <div className=\"h-4 bg-gray-200 rounded w-24\"></div>\n            <div className=\"h-8 bg-gray-200 rounded w-16\"></div>\n            <div className=\"h-3 bg-gray-200 rounded w-20\"></div>\n          </div>\n          <div className=\"w-12 h-12 bg-gray-200 rounded-xl\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white rounded-xl shadow-sm p-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <p className=\"text-sm text-medical-gray\">{title}</p>\n          <p className=\"text-3xl font-bold text-gray-900\">{value}</p>\n          {subtitle && (\n            <div className=\"mt-4\">\n              <span className=\"text-sm text-medical-gray\">{subtitle}</span>\n            </div>\n          )}\n        </div>\n        <div className={`w-12 h-12 rounded-xl flex items-center justify-center ${getColorClasses()}`}>\n          <i className={`${icon}`}></i>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":1903},"client/src/components/layout/header.tsx":{"content":"interface HeaderProps {\n  title: string;\n  subtitle: string;\n  user: any;\n}\n\nexport default function Header({ title, subtitle, user }: HeaderProps) {\n  return (\n    <header className=\"bg-white shadow-sm border-b border-gray-200\">\n      <div className=\"px-6 py-4\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"w-10 h-10 bg-medical-blue rounded-lg flex items-center justify-center\">\n              <i className=\"fas fa-heartbeat text-white\"></i>\n            </div>\n            <div>\n              <h1 className=\"text-xl font-semibold text-gray-900\">{title}</h1>\n              <p className=\"text-sm text-medical-gray\">{subtitle}</p>\n            </div>\n          </div>\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"relative\">\n              <i className=\"fas fa-bell text-medical-gray text-lg\"></i>\n              <span className=\"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full\"></span>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <img \n                src={user?.profileImageUrl || \"https://images.unsplash.com/photo-1559839734-2b71ea197ec2?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&h=100\"} \n                alt=\"Profile\" \n                className=\"w-8 h-8 rounded-full object-cover\"\n              />\n              <span className=\"text-sm font-medium text-gray-700\">\n                {user?.firstName} {user?.lastName}\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n}\n","size_bytes":1616},"client/src/components/layout/sidebar.tsx":{"content":"interface SidebarProps {\n  userRole: string;\n}\n\nexport default function Sidebar({ userRole }: SidebarProps) {\n  const getMenuItems = () => {\n    switch (userRole) {\n      case 'admin':\n        return [\n          { icon: 'fas fa-tachometer-alt', label: 'Dashboard', active: true },\n          { icon: 'fas fa-users', label: 'Staff Management' },\n          { icon: 'fas fa-user-injured', label: 'Patient Records' },\n          { icon: 'fas fa-bed', label: 'Room Management' },\n          { icon: 'fas fa-chart-bar', label: 'Analytics' },\n          { icon: 'fas fa-cog', label: 'Settings' },\n        ];\n      case 'doctor':\n        return [\n          { icon: 'fas fa-clipboard-list', label: 'My Queue', active: true },\n          { icon: 'fas fa-calendar-alt', label: 'Appointments' },\n          { icon: 'fas fa-user-injured', label: 'Patient Records' },\n          { icon: 'fas fa-notes-medical', label: 'Notes & Prescriptions' },\n          { icon: 'fas fa-flask', label: 'Lab Results' },\n        ];\n      case 'nurse':\n        return [\n          { icon: 'fas fa-tasks', label: 'My Tasks', active: true },\n          { icon: 'fas fa-user-injured', label: 'My Patients' },\n          { icon: 'fas fa-heartbeat', label: 'Vitals Recording' },\n          { icon: 'fas fa-pills', label: 'Medication Admin' },\n          { icon: 'fas fa-clipboard-check', label: 'Rounds Checklist' },\n        ];\n      case 'receptionist':\n        return [\n          { icon: 'fas fa-clipboard-check', label: 'Check-in Queue', active: true },\n          { icon: 'fas fa-calendar-alt', label: 'Appointments' },\n          { icon: 'fas fa-user-plus', label: 'Patient Registration' },\n          { icon: 'fas fa-credit-card', label: 'Billing & Payments' },\n          { icon: 'fas fa-phone', label: 'Phone Calls' },\n        ];\n      case 'patient':\n        return [\n          { icon: 'fas fa-tachometer-alt', label: 'Dashboard', active: true },\n          { icon: 'fas fa-calendar-alt', label: 'My Appointments' },\n          { icon: 'fas fa-file-medical', label: 'Medical Records' },\n          { icon: 'fas fa-flask', label: 'Lab Results' },\n          { icon: 'fas fa-pills', label: 'Prescriptions' },\n          { icon: 'fas fa-credit-card', label: 'Billing' },\n        ];\n      default:\n        return [];\n    }\n  };\n\n  const handleLogout = () => {\n    window.location.href = \"/api/logout\";\n  };\n\n  return (\n    <aside className=\"w-64 bg-white shadow-sm min-h-screen\">\n      <nav className=\"p-4 space-y-2\">\n        {getMenuItems().map((item, index) => (\n          <a\n            key={index}\n            href=\"#\"\n            className={`flex items-center space-x-3 px-4 py-2 rounded-lg ${\n              item.active\n                ? 'text-medical-blue bg-blue-50'\n                : 'text-medical-gray hover:bg-gray-50'\n            }`}\n          >\n            <i className={`${item.icon} w-5`}></i>\n            <span className={item.active ? 'font-medium' : ''}>{item.label}</span>\n          </a>\n        ))}\n      </nav>\n      \n      <div className=\"absolute bottom-0 w-64 p-4 border-t border-gray-200\">\n        <button\n          onClick={handleLogout}\n          className=\"flex items-center space-x-3 px-4 py-2 text-medical-gray hover:bg-gray-50 rounded-lg w-full text-left\"\n        >\n          <i className=\"fas fa-sign-out-alt w-5\"></i>\n          <span>Logout</span>\n        </button>\n      </div>\n    </aside>\n  );\n}\n","size_bytes":3377},"client/src/components/modals/patient-checkin-modal.tsx":{"content":"import { useState } from \"react\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { insertQueueSchema } from \"@shared/schema\";\n\ninterface PatientCheckinModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nexport default function PatientCheckinModal({ isOpen, onClose }: PatientCheckinModalProps) {\n  const [formData, setFormData] = useState({\n    patientName: \"\",\n    patientId: \"\",\n    reasonForVisit: \"\",\n    category: \"\",\n    priority: \"normal\" as const,\n  });\n  const [qrScanning, setQrScanning] = useState(false);\n  \n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  const checkinMutation = useMutation({\n    mutationFn: async (data: any) => {\n      const response = await apiRequest(\"POST\", \"/api/queue\", data);\n      return response.json();\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Check-in Successful\",\n        description: \"Patient has been added to the queue successfully.\",\n      });\n      queryClient.invalidateQueries({ queryKey: [\"/api/queue\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/stats\"] });\n      onClose();\n      resetForm();\n    },\n    onError: (error) => {\n      toast({\n        title: \"Check-in Failed\",\n        description: error.message || \"Failed to check in patient. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const resetForm = () => {\n    setFormData({\n      patientName: \"\",\n      patientId: \"\",\n      reasonForVisit: \"\",\n      category: \"\",\n      priority: \"normal\",\n    });\n    setQrScanning(false);\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!formData.patientId || !formData.reasonForVisit || !formData.category) {\n      toast({\n        title: \"Missing Information\",\n        description: \"Please fill in all required fields.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    checkinMutation.mutate({\n      patientId: formData.patientId,\n      reasonForVisit: formData.reasonForVisit,\n      category: formData.category,\n      priority: formData.priority,\n    });\n  };\n\n  const handleQRScan = () => {\n    setQrScanning(true);\n    // Simulate QR code scan - in real implementation, this would use camera\n    setTimeout(() => {\n      setFormData({\n        ...formData,\n        patientName: \"John Doe\",\n        patientId: \"JD-2024-\" + Math.floor(Math.random() * 1000),\n      });\n      setQrScanning(false);\n      toast({\n        title: \"QR Code Scanned\",\n        description: \"Patient information loaded successfully.\",\n      });\n    }, 2000);\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-auto\">\n        <DialogHeader>\n          <DialogTitle>Patient Check-in</DialogTitle>\n        </DialogHeader>\n        \n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          {/* QR Code Scanner Section */}\n          <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center\">\n            <i className=\"fas fa-qrcode text-4xl text-gray-400 mb-3\"></i>\n            <p className=\"text-gray-600 mb-3\">Scan Patient QR Code or Enter Details Manually</p>\n            <Button \n              type=\"button\" \n              onClick={handleQRScan}\n              disabled={qrScanning}\n              className=\"bg-medical-blue hover:bg-blue-700\"\n            >\n              <i className=\"fas fa-camera mr-2\"></i>\n              {qrScanning ? \"Scanning...\" : \"Activate Scanner\"}\n            </Button>\n          </div>\n\n          {/* Patient Details Form */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <Label htmlFor=\"patientName\">Patient Name</Label>\n              <Input\n                id=\"patientName\"\n                type=\"text\"\n                placeholder=\"Enter patient name\"\n                value={formData.patientName}\n                onChange={(e) => setFormData({ ...formData, patientName: e.target.value })}\n              />\n            </div>\n            <div>\n              <Label htmlFor=\"patientId\">Patient ID *</Label>\n              <Input\n                id=\"patientId\"\n                type=\"text\"\n                placeholder=\"Patient ID or generate new\"\n                value={formData.patientId}\n                onChange={(e) => setFormData({ ...formData, patientId: e.target.value })}\n                required\n              />\n            </div>\n          </div>\n\n          {/* Reason for Visit */}\n          <div>\n            <Label htmlFor=\"reasonForVisit\">Reason for Visit *</Label>\n            <Input\n              id=\"reasonForVisit\"\n              type=\"text\"\n              placeholder=\"Describe the reason for visit\"\n              value={formData.reasonForVisit}\n              onChange={(e) => setFormData({ ...formData, reasonForVisit: e.target.value })}\n              required\n            />\n          </div>\n\n          {/* Medical Category */}\n          <div>\n            <Label htmlFor=\"category\">Medical Category *</Label>\n            <Select value={formData.category} onValueChange={(value) => setFormData({ ...formData, category: value })}>\n              <SelectTrigger>\n                <SelectValue placeholder=\"Select medical category\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"General\">General Medicine</SelectItem>\n                <SelectItem value=\"Cardiology\">Cardiology</SelectItem>\n                <SelectItem value=\"Pediatrics\">Pediatrics</SelectItem>\n                <SelectItem value=\"Neurology\">Neurology</SelectItem>\n                <SelectItem value=\"Orthopedics\">Orthopedics</SelectItem>\n                <SelectItem value=\"Dermatology\">Dermatology</SelectItem>\n                <SelectItem value=\"Emergency\">Emergency</SelectItem>\n                <SelectItem value=\"Follow-up\">Follow-up</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n\n          {/* Priority Level */}\n          <div>\n            <Label>Priority Level *</Label>\n            <RadioGroup\n              value={formData.priority}\n              onValueChange={(value) => setFormData({ ...formData, priority: value as any })}\n              className=\"flex space-x-4 mt-2\"\n            >\n              <div className=\"flex items-center space-x-2\">\n                <RadioGroupItem value=\"low\" id=\"low\" />\n                <Label htmlFor=\"low\" className=\"text-sm\">Low</Label>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <RadioGroupItem value=\"normal\" id=\"normal\" />\n                <Label htmlFor=\"normal\" className=\"text-sm\">Normal</Label>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <RadioGroupItem value=\"high\" id=\"high\" />\n                <Label htmlFor=\"high\" className=\"text-sm\">High</Label>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <RadioGroupItem value=\"urgent\" id=\"urgent\" />\n                <Label htmlFor=\"urgent\" className=\"text-sm\">Urgent</Label>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <RadioGroupItem value=\"emergency\" id=\"emergency\" />\n                <Label htmlFor=\"emergency\" className=\"text-sm\">Emergency</Label>\n              </div>\n            </RadioGroup>\n          </div>\n\n          {/* Submit Actions */}\n          <div className=\"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200\">\n            <Button type=\"button\" variant=\"outline\" onClick={onClose}>\n              Cancel\n            </Button>\n            <Button \n              type=\"submit\" \n              disabled={checkinMutation.isPending}\n              className=\"bg-medical-blue hover:bg-blue-700\"\n            >\n              {checkinMutation.isPending ? (\n                <>\n                  <i className=\"fas fa-spinner fa-spin mr-2\"></i>\n                  Processing...\n                </>\n              ) : (\n                \"Complete Check-in\"\n              )}\n            </Button>\n          </div>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","size_bytes":8668},"client/src/components/modals/vitals-modal.tsx":{"content":"import { useState } from \"react\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\n\ninterface VitalsModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  patientId?: string;\n  queueId?: string;\n}\n\nexport default function VitalsModal({ isOpen, onClose, patientId, queueId }: VitalsModalProps) {\n  const [vitalsData, setVitalsData] = useState({\n    patientId: patientId || \"\",\n    queueId: queueId || \"\",\n    bloodPressureSystolic: \"\",\n    bloodPressureDiastolic: \"\",\n    heartRate: \"\",\n    temperature: \"\",\n    oxygenSaturation: \"\",\n    weight: \"\",\n    height: \"\",\n  });\n\n  const { toast } = useToast();\n  const { user } = useAuth();\n  const queryClient = useQueryClient();\n\n  const vitalsMutation = useMutation({\n    mutationFn: async (data: any) => {\n      const response = await apiRequest(\"POST\", \"/api/vitals\", data);\n      return response.json();\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Vitals Recorded\",\n        description: \"Patient vitals have been recorded successfully.\",\n      });\n      queryClient.invalidateQueries({ queryKey: [\"/api/patients\"] });\n      onClose();\n      resetForm();\n    },\n    onError: (error) => {\n      toast({\n        title: \"Recording Failed\",\n        description: error.message || \"Failed to record vitals. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const resetForm = () => {\n    setVitalsData({\n      patientId: patientId || \"\",\n      queueId: queueId || \"\",\n      bloodPressureSystolic: \"\",\n      bloodPressureDiastolic: \"\",\n      heartRate: \"\",\n      temperature: \"\",\n      oxygenSaturation: \"\",\n      weight: \"\",\n      height: \"\",\n    });\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!vitalsData.patientId) {\n      toast({\n        title: \"Missing Patient\",\n        description: \"Please select a patient first.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    // Convert string values to numbers and multiply temperature by 10 for storage\n    const processedData = {\n      patientId: vitalsData.patientId,\n      queueId: vitalsData.queueId || undefined,\n      bloodPressureSystolic: vitalsData.bloodPressureSystolic ? parseInt(vitalsData.bloodPressureSystolic) : undefined,\n      bloodPressureDiastolic: vitalsData.bloodPressureDiastolic ? parseInt(vitalsData.bloodPressureDiastolic) : undefined,\n      heartRate: vitalsData.heartRate ? parseInt(vitalsData.heartRate) : undefined,\n      temperature: vitalsData.temperature ? Math.round(parseFloat(vitalsData.temperature) * 10) : undefined,\n      oxygenSaturation: vitalsData.oxygenSaturation ? parseInt(vitalsData.oxygenSaturation) : undefined,\n      weight: vitalsData.weight ? Math.round(parseFloat(vitalsData.weight) * 10) : undefined,\n      height: vitalsData.height ? parseInt(vitalsData.height) : undefined,\n    };\n\n    vitalsMutation.mutate(processedData);\n  };\n\n  const getVitalStatus = (type: string, value: string) => {\n    if (!value) return null;\n    \n    const numValue = parseFloat(value);\n    \n    switch (type) {\n      case 'systolic':\n        if (numValue < 90) return { color: 'text-blue-600', label: 'Low' };\n        if (numValue > 140) return { color: 'text-red-600', label: 'High' };\n        return { color: 'text-green-600', label: 'Normal' };\n      case 'diastolic':\n        if (numValue < 60) return { color: 'text-blue-600', label: 'Low' };\n        if (numValue > 90) return { color: 'text-red-600', label: 'High' };\n        return { color: 'text-green-600', label: 'Normal' };\n      case 'heartRate':\n        if (numValue < 60) return { color: 'text-blue-600', label: 'Low' };\n        if (numValue > 100) return { color: 'text-red-600', label: 'High' };\n        return { color: 'text-green-600', label: 'Normal' };\n      case 'temperature':\n        if (numValue < 97) return { color: 'text-blue-600', label: 'Low' };\n        if (numValue > 99.5) return { color: 'text-red-600', label: 'Fever' };\n        return { color: 'text-green-600', label: 'Normal' };\n      case 'oxygen':\n        if (numValue < 95) return { color: 'text-red-600', label: 'Low' };\n        return { color: 'text-green-600', label: 'Normal' };\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-auto\">\n        <DialogHeader>\n          <DialogTitle>Record Patient Vitals</DialogTitle>\n        </DialogHeader>\n        \n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          {/* Patient Selection */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <Label htmlFor=\"patientId\">Patient ID *</Label>\n              <Input\n                id=\"patientId\"\n                type=\"text\"\n                placeholder=\"Enter patient ID\"\n                value={vitalsData.patientId}\n                onChange={(e) => setVitalsData({ ...vitalsData, patientId: e.target.value })}\n                required\n              />\n            </div>\n            <div>\n              <Label htmlFor=\"queueId\">Queue ID (Optional)</Label>\n              <Input\n                id=\"queueId\"\n                type=\"text\"\n                placeholder=\"Associated queue item\"\n                value={vitalsData.queueId}\n                onChange={(e) => setVitalsData({ ...vitalsData, queueId: e.target.value })}\n              />\n            </div>\n          </div>\n\n          {/* Vital Signs */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {/* Blood Pressure */}\n            <div className=\"space-y-4\">\n              <h3 className=\"font-medium text-gray-900 flex items-center\">\n                <i className=\"fas fa-heart text-red-500 mr-2\"></i>\n                Blood Pressure\n              </h3>\n              <div className=\"space-y-2\">\n                <div>\n                  <Label htmlFor=\"systolic\">Systolic (mmHg)</Label>\n                  <Input\n                    id=\"systolic\"\n                    type=\"number\"\n                    placeholder=\"120\"\n                    value={vitalsData.bloodPressureSystolic}\n                    onChange={(e) => setVitalsData({ ...vitalsData, bloodPressureSystolic: e.target.value })}\n                  />\n                  {vitalsData.bloodPressureSystolic && (\n                    <p className={`text-xs ${getVitalStatus('systolic', vitalsData.bloodPressureSystolic)?.color}`}>\n                      {getVitalStatus('systolic', vitalsData.bloodPressureSystolic)?.label}\n                    </p>\n                  )}\n                </div>\n                <div>\n                  <Label htmlFor=\"diastolic\">Diastolic (mmHg)</Label>\n                  <Input\n                    id=\"diastolic\"\n                    type=\"number\"\n                    placeholder=\"80\"\n                    value={vitalsData.bloodPressureDiastolic}\n                    onChange={(e) => setVitalsData({ ...vitalsData, bloodPressureDiastolic: e.target.value })}\n                  />\n                  {vitalsData.bloodPressureDiastolic && (\n                    <p className={`text-xs ${getVitalStatus('diastolic', vitalsData.bloodPressureDiastolic)?.color}`}>\n                      {getVitalStatus('diastolic', vitalsData.bloodPressureDiastolic)?.label}\n                    </p>\n                  )}\n                </div>\n              </div>\n            </div>\n\n            {/* Heart Rate & Temperature */}\n            <div className=\"space-y-4\">\n              <h3 className=\"font-medium text-gray-900 flex items-center\">\n                <i className=\"fas fa-heartbeat text-blue-500 mr-2\"></i>\n                Cardiac & Temperature\n              </h3>\n              <div className=\"space-y-2\">\n                <div>\n                  <Label htmlFor=\"heartRate\">Heart Rate (bpm)</Label>\n                  <Input\n                    id=\"heartRate\"\n                    type=\"number\"\n                    placeholder=\"72\"\n                    value={vitalsData.heartRate}\n                    onChange={(e) => setVitalsData({ ...vitalsData, heartRate: e.target.value })}\n                  />\n                  {vitalsData.heartRate && (\n                    <p className={`text-xs ${getVitalStatus('heartRate', vitalsData.heartRate)?.color}`}>\n                      {getVitalStatus('heartRate', vitalsData.heartRate)?.label}\n                    </p>\n                  )}\n                </div>\n                <div>\n                  <Label htmlFor=\"temperature\">Temperature (Â°F)</Label>\n                  <Input\n                    id=\"temperature\"\n                    type=\"number\"\n                    step=\"0.1\"\n                    placeholder=\"98.6\"\n                    value={vitalsData.temperature}\n                    onChange={(e) => setVitalsData({ ...vitalsData, temperature: e.target.value })}\n                  />\n                  {vitalsData.temperature && (\n                    <p className={`text-xs ${getVitalStatus('temperature', vitalsData.temperature)?.color}`}>\n                      {getVitalStatus('temperature', vitalsData.temperature)?.label}\n                    </p>\n                  )}\n                </div>\n              </div>\n            </div>\n\n            {/* Other Measurements */}\n            <div className=\"space-y-4\">\n              <h3 className=\"font-medium text-gray-900 flex items-center\">\n                <i className=\"fas fa-ruler text-green-500 mr-2\"></i>\n                Other Measurements\n              </h3>\n              <div className=\"space-y-2\">\n                <div>\n                  <Label htmlFor=\"oxygenSaturation\">Oxygen Saturation (%)</Label>\n                  <Input\n                    id=\"oxygenSaturation\"\n                    type=\"number\"\n                    placeholder=\"98\"\n                    min=\"0\"\n                    max=\"100\"\n                    value={vitalsData.oxygenSaturation}\n                    onChange={(e) => setVitalsData({ ...vitalsData, oxygenSaturation: e.target.value })}\n                  />\n                  {vitalsData.oxygenSaturation && (\n                    <p className={`text-xs ${getVitalStatus('oxygen', vitalsData.oxygenSaturation)?.color}`}>\n                      {getVitalStatus('oxygen', vitalsData.oxygenSaturation)?.label}\n                    </p>\n                  )}\n                </div>\n                <div>\n                  <Label htmlFor=\"weight\">Weight (lbs)</Label>\n                  <Input\n                    id=\"weight\"\n                    type=\"number\"\n                    step=\"0.1\"\n                    placeholder=\"150.0\"\n                    value={vitalsData.weight}\n                    onChange={(e) => setVitalsData({ ...vitalsData, weight: e.target.value })}\n                  />\n                </div>\n                <div>\n                  <Label htmlFor=\"height\">Height (inches)</Label>\n                  <Input\n                    id=\"height\"\n                    type=\"number\"\n                    placeholder=\"70\"\n                    value={vitalsData.height}\n                    onChange={(e) => setVitalsData({ ...vitalsData, height: e.target.value })}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Quick Actions */}\n          <div className=\"border-t pt-4\">\n            <h4 className=\"font-medium text-gray-900 mb-3\">Quick Actions</h4>\n            <div className=\"flex space-x-2\">\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => setVitalsData({\n                  ...vitalsData,\n                  bloodPressureSystolic: \"120\",\n                  bloodPressureDiastolic: \"80\",\n                  heartRate: \"72\",\n                  temperature: \"98.6\",\n                  oxygenSaturation: \"98\"\n                })}\n              >\n                <i className=\"fas fa-magic mr-1\"></i>\n                Normal Values\n              </Button>\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={resetForm}\n              >\n                <i className=\"fas fa-eraser mr-1\"></i>\n                Clear All\n              </Button>\n            </div>\n          </div>\n\n          {/* Submit Actions */}\n          <div className=\"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200\">\n            <Button type=\"button\" variant=\"outline\" onClick={onClose}>\n              Cancel\n            </Button>\n            <Button \n              type=\"submit\" \n              disabled={vitalsMutation.isPending}\n              className=\"bg-medical-teal hover:bg-teal-700\"\n            >\n              {vitalsMutation.isPending ? (\n                <>\n                  <i className=\"fas fa-spinner fa-spin mr-2\"></i>\n                  Recording...\n                </>\n              ) : (\n                <>\n                  <i className=\"fas fa-save mr-2\"></i>\n                  Record Vitals\n                </>\n              )}\n            </Button>\n          </div>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","size_bytes":13615},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":1977},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4420},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1584},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1419},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1128},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":1901},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2695},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","size_bytes":1858},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1056},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4885},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7428},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3848},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7609},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4120},"client/src/components/ui/healthcare-card.tsx":{"content":"import { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { AlertTriangle, Clock, CheckCircle } from \"lucide-react\";\n\ninterface HealthcareCardProps {\n  title: string;\n  description?: string;\n  priority?: 'low' | 'normal' | 'high' | 'critical';\n  status?: 'waiting' | 'in-progress' | 'completed' | 'cancelled';\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport function HealthcareCard({ \n  title, \n  description, \n  priority, \n  status, \n  children, \n  className = \"\" \n}: HealthcareCardProps) {\n  const getPriorityColor = (priority?: string) => {\n    switch (priority) {\n      case 'critical':\n        return 'border-red-500 bg-red-50';\n      case 'high':\n        return 'border-orange-500 bg-orange-50';\n      case 'normal':\n        return 'border-blue-500 bg-blue-50';\n      case 'low':\n        return 'border-green-500 bg-green-50';\n      default:\n        return 'border-gray-200 bg-white';\n    }\n  };\n\n  const getStatusIcon = (status?: string) => {\n    switch (status) {\n      case 'waiting':\n        return <Clock className=\"w-4 h-4 text-yellow-600\" />;\n      case 'in-progress':\n        return <AlertTriangle className=\"w-4 h-4 text-blue-600\" />;\n      case 'completed':\n        return <CheckCircle className=\"w-4 h-4 text-green-600\" />;\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <Card className={`${getPriorityColor(priority)} ${className}`}>\n      <CardHeader>\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <CardTitle className=\"text-lg\">{title}</CardTitle>\n            {description && <CardDescription>{description}</CardDescription>}\n          </div>\n          <div className=\"flex items-center gap-2\">\n            {priority && priority !== 'normal' && (\n              <Badge \n                variant=\"outline\"\n                className={\n                  priority === 'critical' ? 'border-red-500 text-red-700' :\n                  priority === 'high' ? 'border-orange-500 text-orange-700' :\n                  'border-green-500 text-green-700'\n                }\n              >\n                {priority.toUpperCase()}\n              </Badge>\n            )}\n            {status && (\n              <div className=\"flex items-center gap-1\">\n                {getStatusIcon(status)}\n                <span className=\"text-sm capitalize\">{status.replace('-', ' ')}</span>\n              </div>\n            )}\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent>\n        {children}\n      </CardContent>\n    </Card>\n  );\n}","size_bytes":2609},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1251},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2154},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":791},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8605},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5128},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","size_bytes":2751},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","size_bytes":1280},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":791},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1467},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5742},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4281},"client/src/components/ui/sidebar.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { VariantProps, cva } from \"class-variance-authority\"\nimport { PanelLeft } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nconst SidebarProvider = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    defaultOpen?: boolean\n    open?: boolean\n    onOpenChange?: (open: boolean) => void\n  }\n>(\n  (\n    {\n      defaultOpen = true,\n      open: openProp,\n      onOpenChange: setOpenProp,\n      className,\n      style,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const isMobile = useIsMobile()\n    const [openMobile, setOpenMobile] = React.useState(false)\n\n    // This is the internal state of the sidebar.\n    // We use openProp and setOpenProp for control from outside the component.\n    const [_open, _setOpen] = React.useState(defaultOpen)\n    const open = openProp ?? _open\n    const setOpen = React.useCallback(\n      (value: boolean | ((value: boolean) => boolean)) => {\n        const openState = typeof value === \"function\" ? value(open) : value\n        if (setOpenProp) {\n          setOpenProp(openState)\n        } else {\n          _setOpen(openState)\n        }\n\n        // This sets the cookie to keep the sidebar state.\n        document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n      },\n      [setOpenProp, open]\n    )\n\n    // Helper to toggle the sidebar.\n    const toggleSidebar = React.useCallback(() => {\n      return isMobile\n        ? setOpenMobile((open) => !open)\n        : setOpen((open) => !open)\n    }, [isMobile, setOpen, setOpenMobile])\n\n    // Adds a keyboard shortcut to toggle the sidebar.\n    React.useEffect(() => {\n      const handleKeyDown = (event: KeyboardEvent) => {\n        if (\n          event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n          (event.metaKey || event.ctrlKey)\n        ) {\n          event.preventDefault()\n          toggleSidebar()\n        }\n      }\n\n      window.addEventListener(\"keydown\", handleKeyDown)\n      return () => window.removeEventListener(\"keydown\", handleKeyDown)\n    }, [toggleSidebar])\n\n    // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n    // This makes it easier to style the sidebar with Tailwind classes.\n    const state = open ? \"expanded\" : \"collapsed\"\n\n    const contextValue = React.useMemo<SidebarContextProps>(\n      () => ({\n        state,\n        open,\n        setOpen,\n        isMobile,\n        openMobile,\n        setOpenMobile,\n        toggleSidebar,\n      }),\n      [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n    )\n\n    return (\n      <SidebarContext.Provider value={contextValue}>\n        <TooltipProvider delayDuration={0}>\n          <div\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH,\n                \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n                ...style,\n              } as React.CSSProperties\n            }\n            className={cn(\n              \"group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar\",\n              className\n            )}\n            ref={ref}\n            {...props}\n          >\n            {children}\n          </div>\n        </TooltipProvider>\n      </SidebarContext.Provider>\n    )\n  }\n)\nSidebarProvider.displayName = \"SidebarProvider\"\n\nconst Sidebar = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    side?: \"left\" | \"right\"\n    variant?: \"sidebar\" | \"floating\" | \"inset\"\n    collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n  }\n>(\n  (\n    {\n      side = \"left\",\n      variant = \"sidebar\",\n      collapsible = \"offcanvas\",\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n    if (collapsible === \"none\") {\n      return (\n        <div\n          className={cn(\n            \"flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground\",\n            className\n          )}\n          ref={ref}\n          {...props}\n        >\n          {children}\n        </div>\n      )\n    }\n\n    if (isMobile) {\n      return (\n        <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n          <SheetContent\n            data-sidebar=\"sidebar\"\n            data-mobile=\"true\"\n            className=\"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden\"\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n              } as React.CSSProperties\n            }\n            side={side}\n          >\n            <SheetHeader className=\"sr-only\">\n              <SheetTitle>Sidebar</SheetTitle>\n              <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n            </SheetHeader>\n            <div className=\"flex h-full w-full flex-col\">{children}</div>\n          </SheetContent>\n        </Sheet>\n      )\n    }\n\n    return (\n      <div\n        ref={ref}\n        className=\"group peer hidden text-sidebar-foreground md:block\"\n        data-state={state}\n        data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n        data-variant={variant}\n        data-side={side}\n      >\n        {/* This is what handles the sidebar gap on desktop */}\n        <div\n          className={cn(\n            \"relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear\",\n            \"group-data-[collapsible=offcanvas]:w-0\",\n            \"group-data-[side=right]:rotate-180\",\n            variant === \"floating\" || variant === \"inset\"\n              ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon]\"\n          )}\n        />\n        <div\n          className={cn(\n            \"fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex\",\n            side === \"left\"\n              ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n              : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n            // Adjust the padding for floating and inset variants.\n            variant === \"floating\" || variant === \"inset\"\n              ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n            className\n          )}\n          {...props}\n        >\n          <div\n            data-sidebar=\"sidebar\"\n            className=\"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow\"\n          >\n            {children}\n          </div>\n        </div>\n      </div>\n    )\n  }\n)\nSidebar.displayName = \"Sidebar\"\n\nconst SidebarTrigger = React.forwardRef<\n  React.ElementRef<typeof Button>,\n  React.ComponentProps<typeof Button>\n>(({ className, onClick, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      ref={ref}\n      data-sidebar=\"trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeft />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n})\nSidebarTrigger.displayName = \"SidebarTrigger\"\n\nconst SidebarRail = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\">\n>(({ className, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <button\n      ref={ref}\n      data-sidebar=\"rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex\",\n        \"[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarRail.displayName = \"SidebarRail\"\n\nconst SidebarInset = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"main\">\n>(({ className, ...props }, ref) => {\n  return (\n    <main\n      ref={ref}\n      className={cn(\n        \"relative flex w-full flex-1 flex-col bg-background\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarInset.displayName = \"SidebarInset\"\n\nconst SidebarInput = React.forwardRef<\n  React.ElementRef<typeof Input>,\n  React.ComponentProps<typeof Input>\n>(({ className, ...props }, ref) => {\n  return (\n    <Input\n      ref={ref}\n      data-sidebar=\"input\"\n      className={cn(\n        \"h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarInput.displayName = \"SidebarInput\"\n\nconst SidebarHeader = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarHeader.displayName = \"SidebarHeader\"\n\nconst SidebarFooter = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarFooter.displayName = \"SidebarFooter\"\n\nconst SidebarSeparator = React.forwardRef<\n  React.ElementRef<typeof Separator>,\n  React.ComponentProps<typeof Separator>\n>(({ className, ...props }, ref) => {\n  return (\n    <Separator\n      ref={ref}\n      data-sidebar=\"separator\"\n      className={cn(\"mx-2 w-auto bg-sidebar-border\", className)}\n      {...props}\n    />\n  )\n})\nSidebarSeparator.displayName = \"SidebarSeparator\"\n\nconst SidebarContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarContent.displayName = \"SidebarContent\"\n\nconst SidebarGroup = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarGroup.displayName = \"SidebarGroup\"\n\nconst SidebarGroupLabel = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarGroupLabel.displayName = \"SidebarGroupLabel\"\n\nconst SidebarGroupAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarGroupAction.displayName = \"SidebarGroupAction\"\n\nconst SidebarGroupContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"group-content\"\n    className={cn(\"w-full text-sm\", className)}\n    {...props}\n  />\n))\nSidebarGroupContent.displayName = \"SidebarGroupContent\"\n\nconst SidebarMenu = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu\"\n    className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n    {...props}\n  />\n))\nSidebarMenu.displayName = \"SidebarMenu\"\n\nconst SidebarMenuItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    data-sidebar=\"menu-item\"\n    className={cn(\"group/menu-item relative\", className)}\n    {...props}\n  />\n))\nSidebarMenuItem.displayName = \"SidebarMenuItem\"\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:!p-0\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst SidebarMenuButton = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean\n    isActive?: boolean\n    tooltip?: string | React.ComponentProps<typeof TooltipContent>\n  } & VariantProps<typeof sidebarMenuButtonVariants>\n>(\n  (\n    {\n      asChild = false,\n      isActive = false,\n      variant = \"default\",\n      size = \"default\",\n      tooltip,\n      className,\n      ...props\n    },\n    ref\n  ) => {\n    const Comp = asChild ? Slot : \"button\"\n    const { isMobile, state } = useSidebar()\n\n    const button = (\n      <Comp\n        ref={ref}\n        data-sidebar=\"menu-button\"\n        data-size={size}\n        data-active={isActive}\n        className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n        {...props}\n      />\n    )\n\n    if (!tooltip) {\n      return button\n    }\n\n    if (typeof tooltip === \"string\") {\n      tooltip = {\n        children: tooltip,\n      }\n    }\n\n    return (\n      <Tooltip>\n        <TooltipTrigger asChild>{button}</TooltipTrigger>\n        <TooltipContent\n          side=\"right\"\n          align=\"center\"\n          hidden={state !== \"collapsed\" || isMobile}\n          {...tooltip}\n        />\n      </Tooltip>\n    )\n  }\n)\nSidebarMenuButton.displayName = \"SidebarMenuButton\"\n\nconst SidebarMenuAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean\n    showOnHover?: boolean\n  }\n>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarMenuAction.displayName = \"SidebarMenuAction\"\n\nconst SidebarMenuBadge = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"menu-badge\"\n    className={cn(\n      \"pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground\",\n      \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n      \"peer-data-[size=sm]/menu-button:top-1\",\n      \"peer-data-[size=default]/menu-button:top-1.5\",\n      \"peer-data-[size=lg]/menu-button:top-2.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props}\n  />\n))\nSidebarMenuBadge.displayName = \"SidebarMenuBadge\"\n\nconst SidebarMenuSkeleton = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    showIcon?: boolean\n  }\n>(({ className, showIcon = false, ...props }, ref) => {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[--skeleton-width] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n})\nSidebarMenuSkeleton.displayName = \"SidebarMenuSkeleton\"\n\nconst SidebarMenuSub = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu-sub\"\n    className={cn(\n      \"mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props}\n  />\n))\nSidebarMenuSub.displayName = \"SidebarMenuSub\"\n\nconst SidebarMenuSubItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ ...props }, ref) => <li ref={ref} {...props} />)\nSidebarMenuSubItem.displayName = \"SidebarMenuSubItem\"\n\nconst SidebarMenuSubButton = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentProps<\"a\"> & {\n    asChild?: boolean\n    size?: \"sm\" | \"md\"\n    isActive?: boolean\n  }\n>(({ asChild = false, size = \"md\", isActive, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarMenuSubButton.displayName = \"SidebarMenuSubButton\"\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":23567},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":261},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1077},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1139},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2765},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1883},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":689},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4845},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":772},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1527},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1209}}}